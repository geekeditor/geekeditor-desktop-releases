(this.webpackJsonpmain=this.webpackJsonpmain||[]).push([[5],{109:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(7),a=n(6),i={components:{paragraph:"\u6bb5\u843d",header:"\u6807\u9898",h1:"\u6807\u9898\u4e00",image:"\u56fe\u7247",delimiter:"\u5206\u5272\u7ebf",todolist:"\u5f85\u529e",list:"\u5217\u8868",table:"\u8868\u683c",code:"\u4ee3\u7801\u5757",math:"Tex \u6570\u5b66\u516c\u5f0f",diagram:"Mermaid \u56fe\u8868",draw:"\u753b\u677f",drawio:"Drawio \u5236\u56fe"},toolbar:{converter:{convertTo:"\u8f6c\u6362\u4e3a",conversion:"\u5185\u5bb9\u8f6c\u6362"},settings:{toggler:"\u64cd\u4f5c\u5185\u5bb9\u5757",moveUp:"\u4e0a\u79fb",moveDown:"\u4e0b\u79fb",delete:"\u5220\u9664",quote:"\u5f15\u7528"},toolbox:{insert:"\u63d2\u5165\u5185\u5bb9\u5757"},insert:{block:"\u5185\u5bb9\u5757",math:"\u6570\u5b66\u516c\u5f0f"},inline:{bold:"\u52a0\u7c97",italic:"\u659c\u4f53",underline:"\u4e0b\u5212\u7ebf",strikethrough:"\u5220\u9664\u7ebf",link:"\u8d85\u94fe\u63a5",linkPlaceholder:"\u6dfb\u52a0\u8d85\u94fe\u63a5",mark:"\u6807\u8bb0",inlinecode:"\u5185\u8054\u4ee3\u7801",superscript:"\u4e0a\u6807",subscript:"\u4e0b\u6807"},edit:{fullscreen:"\u5168\u5c4f",undo:"\u56de\u64a4",redo:"\u91cd\u505a",search:"\u641c\u7d22 & \u66ff\u6362",layout:"\u7248\u5f0f"}},label:{format:"\u683c\u5f0f",insert:"\u63d2\u5165",edit:"\u7f16\u8f91"}},r=function(){function e(){Object(o.a)(this,e)}return Object(a.a)(e,null,[{key:"register",value:function(e,t){this._langs[e]=t}},{key:"getLang",value:function(e){var t=this.currentDictionary;if(!t)throw Error("not import language file");for(var n,o=(e||"").split("."),a=t,i=0;(n=o[i++])&&"string"!==typeof a&&(a=a[n]););return a}},{key:"currentDictionary",get:function(){return this._langs[this._localLang]||this._langs[Object.keys(this._langs)[0]||""]}}]),e}();r._langs={"zh-cn":i},r._localLang=(navigator.language||"zh-cn").toLowerCase()},113:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return b}));var o=n(126),a=n(7),i=n(6),r=n(16),c=n(71),s=n(183),d=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"regiester",value:function(e){this._tunes[e.key]||this._indexes.push(e.key),this._tunes[e.key]=e}},{key:"tune",value:function(e){return this._tunes[e]}},{key:"tunes",get:function(){return this._tunes}},{key:"indexes",get:function(){return this._indexes},set:function(e){var t=this;this._indexes=e.filter((function(e){return!!t._tunes[e]}))}}]),e}();d._tunes={},d._indexes=[];var l=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"regiester",value:function(e){this._tools[e.key]||this._indexes.push(e.key),this._tools[e.key]=e}},{key:"tool",value:function(e){return this._tools[e]}},{key:"tools",get:function(){return this._tools}},{key:"indexes",get:function(){return this._indexes},set:function(e){var t=this;this._indexes=e.filter((function(e){return!!t._tools[e]}))}}]),e}();l._tools={},l._indexes=[];var u=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"regiester",value:function(e){this._tools[e.key]||this._indexes.push(e.key),this._tools[e.key]=e}},{key:"tool",value:function(e){return this._tools[e]}},{key:"tools",get:function(){return this._tools}},{key:"indexes",get:function(){return this._indexes},set:function(e){var t=this;this._indexes=e.filter((function(e){return!!t._tools[e]}))}}]),e}();u._tools={},u._indexes=[];var p=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"regiester",value:function(e){this._components[e.key]||this._indexes.push(e.key),this._components[e.key]=e}},{key:"component",value:function(e){return this._components[e]}},{key:"components",get:function(){return this._components}},{key:"indexes",get:function(){return this._indexes},set:function(e){var t=this;this._indexes=e.filter((function(e){return!!t._components[e]}))}}]),e}();function h(e,t,n){var a=e.reduce((function(e,n){var o=p.component(n.key);return o?(t.forEach((function(t){var a=e[t]||"";e[t]=a+function(e,t,n){var o,a={clearEmpty:r.d,inlineContent:r.h,type:t},i=n.toHtml(e.data,a);return(null===(o=e.common)||void 0===o?void 0:o.quote)&&(i="<blockquote>".concat(i,"</blockquote>")),'<section class="beui-block beui-block--'.concat(e.key,'" data-editor="\u6781\u5ba2\u7f16\u8f91\u5668" style="font-size: 16px;color: #000;padding: 0 10px;line-height: 1.6;letter-spacing: 0px;word-spacing: 0px;text-align: left;word-break: break-word;"><span class="beui-block__prefix"></span><section class="beui-block__content">').concat(i,'</section><span class="beui-block__subfix"></span></section>')}(n,t,o)})),e):e}),{}),i=s.a.getTypesetCSSTextById(n);document.createElement("div");return Object.entries(a).forEach((function(e){var t=Object(o.a)(e,2),n=t[0],s=t[1];a[n]=Object(r.h)(function(e,t){var n={clearEmpty:r.d,inlineContent:r.h,type:t};return Object.entries(u.tools).forEach((function(t){var a=Object(o.a)(t,2)[1];a.checkHTML&&(e=a.checkHTML(e,n))})),e=e.replace(c.a.fillCharReg,""),'<section data-editor="\u6781\u5ba2\u7f16\u8f91\u5668"><section class="be-content" data-editor="\u6781\u5ba2\u7f16\u8f91\u5668">'.concat(e,"</section></section>")}(s,n),i)})),a}p._components={},p._indexes=[];var f=0;function b(e,t){try{var n=JSON.parse(e),a=n.content||[],i=n.basic||{},s=h(a,["wechat","zhihu","juejin"],n.typeset||"default"),d=function(e){var t=e.reduce((function(e,t){var n,o,a,i=p.component(t.key);return i?e+(i.toMarkdown?function(e){return/\\n\\n$/.test(e)?e:/\\n$/.test(e)?"".concat(e,"\n"):"".concat(e,"\n\n")}((a=i.toMarkdown(t.data,r.m),(null===(n=t.common)||void 0===n?void 0:n.quote)?a.split("\n").map((function(e){return"> "+e})).join("\n"):a)):Object(r.m)(function(e,t){return t?"<blockquote>".concat(e,"</blockquote>"):e}(i.toHtml(t.data,{clearEmpty:r.d,inlineContent:r.h}),null===(o=t.common)||void 0===o?void 0:o.quote))):e}),"");return Object.entries(u.tools).forEach((function(e){var n=Object(o.a)(e,2)[1];n.checkMarkdown&&(t=n.checkMarkdown(t))})),t=(t=t.replace(c.a.fillCharReg,"")).replace(/<!--\s-->\n/g,"")}(a),l=e;return{id:"".concat(++f),title:i.title||t||"".concat(Date.now()),cover:i.cover,summary:i.summary,htmls:s,markdown:d,ge:l}}catch(b){}}},116:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d}));var o=n(7),a=n(6),i=n(22),r=n(71);function c(e){return"[object Object]"===Object.prototype.toString.apply(e)}function s(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|ldquo|rdquo|quot|gt|#39|nbsp|middot|#\d+);)?/g,(function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;","\u201c":"&ldquo;","\u201d":"&rdquo;",">":"&gt;","'":"&#39;","\xb7":"&middot;"}[e]})):""}function d(e){return e?e.replace(/&((g|l|quo|ldquo|rdquo)t|amp|#39|nbsp);/g,(function(e){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&ldquo;":"\u201c","&rdquo;":"\u201d","&gt;":">","&#39;":"'","&nbsp;":" "}[e]})):""}var l={href:1,src:1,_src:1,_href:1,cdata_data:1},u={style:1,script:1};function p(e,t,n){return e.push("\n"),t+(n?1:-1)}function h(e,t){for(var n=0;n<t;n++)e.push("    ")}function f(e,t){if("element"===e.type()&&e.attr("id")===t)return e;for(var n,o,a=e.children(),i=0;o=a[i++];)if(n=f(o,t))return n}function b(e,t,n){"element"===e.type()&&e.tagName()===t&&n.push(e);for(var o,a=e.children(),i=0;o=a[i++];)b(o,t,n)}function m(e,t){var n=e.children();if(n.length)for(var o,a=0;o=n[a];){m(o,t),o.parentNode()&&(o.children().length&&t(o),o.parentNode()&&a++)}else t(e)}function g(e,t,n,o){switch(e.type()){case"root":for(var a,r=e.children(),c=0;a=r[c++];)n&&"element"===a.type()&&!i.a.$inlineWithA(a.tagName())&&c>1&&(p(t,o,!0),h(t,o)),g(a,t,n,o);break;case"element":!function(e,t,n,o){var a,r=e.attrs();if(r){for(var c in a=[],r)if(r.hasOwnProperty(c)){var u=r[c];a.push(c+(void 0!==u?'="'+(l[c]?d(u).replace(/["]/g,(function(){return"&quot;"})):s(u))+'"':""))}a=a.join(" ")}t.push("<"+e.tagName()+(a?" "+a:"")+(i.a.$empty[e.tagName()]?"/":"")+">");var f=n&&!i.a.$inlineWithA[e.tagName()]&&"pre"!==e.tagName()&&e.children().length;f&&h(t,o=p(t,o,!0));for(var b,m=e.children(),v=0;b=m[v++];)n&&"element"===b.type()&&!i.a.$inlineWithA[b.tagName()]&&v>1&&(p(t,o),h(t,o)),g(b,t,n,o);i.a.$empty[e.tagName()]||(f&&h(t,o=p(t,o,!0)),t.push("</"+e.tagName()+">"))}(e,t,n,o);break;case"text":!function(e,t){var n=e.parentNode();n&&"pre"===n.tagName()?t.push(e.data()):t.push(n&&u[n.tagName()]?d(e.data()):e.data().replace(/[ ]{2}/g," &nbsp;"))}(e,t);break;case"comment":!function(e,t){t.push("\x3c!--"+e.data()+"--\x3e")}(e,t)}return t}var v=function(){function e(t){Object(o.a)(this,e),this._type=void 0,this._data=void 0,this._tagName=void 0,this._parentNode=void 0,this._attrs=void 0,this._children=void 0,this._type=t.type,this._data=t.data,this._tagName=t.tagName,this._parentNode=t.parentNode||null,this._attrs=t.attrs||{},this._children=t.children||[]}return Object(a.a)(e,null,[{key:"createElement",value:function(t){return/[<>]/.test(t)?w(t).children()[0]:new e({type:"element",children:[],tagName:t})}},{key:"createText",value:function(t,n){return new e({type:"text",data:n?t:s(t||"")})}},{key:"createComment",value:function(t){return new e({type:"comment",data:t})}}]),Object(a.a)(e,[{key:"type",value:function(){return this._type}},{key:"data",value:function(){return"element"===this._type?"":this._data||""}},{key:"tagName",value:function(){return this._tagName||""}},{key:"parentNode",value:function(){return this._parentNode}},{key:"attrs",value:function(){return this._attrs}},{key:"setAttrs",value:function(e){this._attrs=e}},{key:"children",value:function(){return this._children}},{key:"setTagName",value:function(e){this._tagName=e}},{key:"setParentNode",value:function(e){this._parentNode=e}},{key:"outerHTML",value:function(e){var t=[];return g(this,t,e||!1,0),t.join("")}},{key:"innerHTML",value:function(t){var n=this;return"element"!==this.type()||i.a.$empty[this.tagName()]?this:"string"===typeof t?(this._children.forEach((function(e){e.setParentNode(null)})),this._children=[],w(t).children().forEach((function(e){n._children.push(e),e.setParentNode(n)})),this):new e({type:"root",children:this.children()}).outerHTML()}},{key:"innerText",value:function(t,n){return"element"!==this.type()||i.a.$empty[this.tagName()]?this:t?(this.children().forEach((function(e){e.setParentNode(null)})),this._children=[],this.appendChild(e.createText(t,n)),this):this.outerHTML().replace(/<[^>]+>/g,"")}},{key:"firstChild",value:function(){return this._children[0]}},{key:"lastChild",value:function(){return this._children[this.children.length-1]}},{key:"previousSibling",value:function(){var e=this._parentNode;if(e)for(var t,n=e.children(),o=0;t=n[o];o++)if(t===this&&0!==o)return n[o-1]}},{key:"nextSibling",value:function(){var e=this._parentNode;if(e)for(var t,n=e.children(),o=0;t=n[o++];)if(t===this)return n[o]}},{key:"replaceChild",value:function(e,t){e.remove();for(var n,o=0;n=this._children[o];o++)if(n===t)return this._children.splice(o,1,e),t.setParentNode(null),e.setParentNode(this),e}},{key:"appendChild",value:function(e){if("root"===this.type()||"element"===this.type()&&!i.a.$empty[this.tagName()]){var t=e.parentNode();return t&&t.removeChild(e),this._children.push(e),e.setParentNode(this),e}}},{key:"removeChild",value:function(e,t){for(var n,o=this._children,a=0;n=o[a];a++)if(n===e){if(o.splice(a,1),n.setParentNode(null),t&&n.children().length)for(var i,r=0;i=n.children()[r];r++)o.splice(a+r,0,i),i.setParentNode(this);return n}}},{key:"remove",value:function(){this._parentNode&&this._parentNode.removeChild(this)}},{key:"insertBefore",value:function(e,t){e.remove();for(var n,o=0;n=this._children[o];o++)if(n===t)return this._children.splice(o,0,e),e.setParentNode(this),e}},{key:"insertAfter",value:function(e,t){e.remove();for(var n,o=0;n=this._children[o];o++)if(n===t)return this._children.splice(o+1,0,e),e.setParentNode(this),e}},{key:"getNodeById",value:function(e){for(var t,n,o=0;n=this._children[o++];)if(t=f(n,e))return t}},{key:"getNodesByTagNames",value:function(e){var t=this,n=e.trim().replace(/[ ]{2,}/g," ").split(" "),o=[];return n.forEach((function(e){for(var n,a=0;n=t._children[a++];)b(n,e,o)})),o}},{key:"index",value:function(){var e=this._parentNode;if(e)for(var t,n=e.children(),o=0;t=n[o];o++)if(t===this)return o;return-1}},{key:"attr",value:function(e,t){if("string"===typeof e&&void 0!==t||c(e))if(this._attrs=this._attrs||{},c(e)){for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];o&&(this._attrs[n.toLowerCase()]=o)}}else t&&(this._attrs[e.toLowerCase()]=t);else if("string"===typeof e)return this._attrs&&this._attrs[e.toLowerCase()]}},{key:"removeAttr",value:function(e){this._attrs&&e&&delete this._attrs[e]}},{key:"css",value:function(e,t){var n=this.attr("style");n||(n="");var o=function(e,t){var o=new RegExp("(^|;)\\s*"+e+":([^;]+;?)","gi");n&&(n=n.replace(o,"$1"),t&&(n=e+":"+s(t)+";"+n))};if("string"===typeof e&&void 0!==t||c(e)){if(c(e))for(var a in e){if(e.hasOwnProperty(a))o(a,e[a])}else t&&o(e,t);this.attr("style",n)}else if("string"===typeof e&&n){var i=new RegExp("(^|;)\\s*"+e+":([^;]+)","i"),r=n.match(i);if(r&&r[0])return r[2]}}},{key:"applyStyle",value:function(e){if(e){var t=this.attr("style");t&&e.setAttribute("style",l.style?d(t.replace(/["]/g,(function(){return"&quot;"}))):s(t))}}},{key:"traversal",value:function(e){return this.children().length&&m(this,e),this}}]),e}(),y=new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\x3e)|(?:([^\\s\\/<>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'<>])*)\\/?>))","g"),j=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,x={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1},k={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},O={ol:"li",ul:"li"};function _(e,t){if(O[e.tagName()]){var n=v.createElement(O[e.tagName()]);e.appendChild(n),n.appendChild(v.createText(t)),e=n}else e.appendChild(v.createText(t))}function N(e,t,n){var o=k[t];if(o){for(var a,r=e,c=function(){var t=r.tagName();if(Array.isArray(o)?-1!==o.findIndex((function(e){return t===e})):o===t)return e=r,a=!0,"break";r=r.parentNode()};r&&"root"!==r.type();){if("break"===c())break}a||(e=N(e,Array.isArray(o)?o[0]:o))}if(i.a.$nonBodyContent[t])return e;var d=new v({type:"element",tagName:t.toLowerCase(),children:[]});if(n){for(var u,p={};u=j.exec(n);){var h=u[1].toLowerCase();p[h]=l[h]?u[2]||u[3]||u[4]:s(u[2]||u[3]||u[4])}d.setAttrs(p)}return e.appendChild(d),i.a.$empty[t]||i.a.$svg[t]&&n&&/.*\//g.test(n)?e:d}function w(e,t){var n,o,a,c=new v({type:"root",children:[]}),s=0,d=0,l=c;for(e=function(e,t){return e=e.replace(new RegExp(r.a.fillChar,"g"),""),t||(e=e.replace(new RegExp("[\\r\\t\\n"+(t?"":" ")+"]*<\\/?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(t?"":" ")+"]*","g"),(function(e,n){return n&&x[n.toLowerCase()]?e.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):e.replace(new RegExp("^[\\r\\t\\n"+(t?"":" ")+"]+"),"").replace(new RegExp("[\\r\\t\\n"+(t?"":" ")+"]+$"),"")}))),e}(e,t);n=y.exec(e);){s=n.index;try{if(s>d&&_(l,e.slice(d,s)),n[3])i.a.$cdata[l.tagName()]?_(l,n[0]):l=N(l,n[3].toLowerCase(),n[4]);else if(n[1]){if("root"!==l.type())if(i.a.$cdata[l.tagName()]&&!i.a.$cdata[n[1]])_(l,n[0]);else{for(var u=l;"element"===l.type()&&l.tagName()!==n[1].toLowerCase();)if("root"===(l=l.parentNode()).type())throw l=u,"break";l=l.parentNode()}}else n[2]&&(o=l,a=n[2],o.appendChild(v.createComment(a)))}catch(p){console.log(p)}d=y.lastIndex}return d<e.length&&_(l,e.slice(d)),c}t.a=w},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(1),a=n(7),i=n(6),r=n(10),c=n(9),s=n(0),d=(n(380),function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).textInput=void 0,o.onKeyDown=function(e){"Enter"===e.key&&o.textInput&&o.textInput.blur()},o.onEnd=function(){(0,o.props.onFinishing)(o.state.inputText.trim())},o.onChange=function(e){o.setState({inputText:e.target.value})},o.state={inputText:"Untitled"},o}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({inputText:this.props.text}),this.textInput&&(this.textInput.focus(),this.textInput.select())}},{key:"render",value:function(){var e=this,t=this.state.inputText;return Object(o.jsx)("div",{className:"text-edit",children:Object(o.jsx)("input",{type:"text",value:t,ref:function(t){e.textInput=t},onClick:function(e){e.stopPropagation()},onChange:this.onChange,onBlur:this.onEnd,onKeyDown:this.onKeyDown})})}}]),n}(s.Component))},142:function(e,t,n){"use strict";var o=n(21),a=n.n(o),i=n(32),r=n(7),c=n(6),s=function(e,t,n){if(e.set){var o={};o[t]=n,e.set(o,(function(){}))}else e[t]=n},d=function(e,t){return e.get?new Promise((function(n){e.get([t],(function(e){n(e[t])}))})):Promise.resolve(e[t])},l=function(e,t){e.remove?e.remove([t,"".concat(t,"__expires__")],(function(){})):(delete e[t],delete e["".concat(t,"__expires__")])},u=function(){function e(t){Object(r.a)(this,e),this.props=void 0,this.source=void 0,this.props=t||{},this.source=this.props.source||("undefined"!==typeof chrome&&"undefined"!==typeof chrome.storage?chrome.storage.local:"undefined"!==typeof localStorage?localStorage:{}),this.initRun()}return Object(c.a)(e,[{key:"initRun",value:function(){var e=this,t=new RegExp("__expires__"),n=this.source,o=Object.keys(n);o.length>0&&o.map((function(o,a){t.test(o)||Date.now()>=(n["".concat(o,"__expires__")]||Date.now()+1)&&e.remove(o);return o}))}},{key:"set",value:function(e,t,n){var o=this.source;return s(o,e,t),n&&s(o,"".concat(e,"__expires__"),Date.now()+6e4*n),t}},{key:"get",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.source,e.next=3,d(n,"".concat(t,"__expires__"));case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=Date.now()+1;case 6:if(o=e.t0,!(Date.now()>=o)){e.next=11;break}return this.remove(t),e.abrupt("return");case 11:return e.abrupt("return",d(n,t));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.source,e.next=3,d(n,t);case 3:return o=e.sent,l(n,t),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=u},16:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"o",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return x})),n.d(t,"s",(function(){return k})),n.d(t,"n",(function(){return O})),n.d(t,"r",(function(){return _})),n.d(t,"p",(function(){return N})),n.d(t,"q",(function(){return w})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"b",(function(){return E})),n.d(t,"t",(function(){return D})),n.d(t,"m",(function(){return P})),n.d(t,"l",(function(){return M})),n.d(t,"f",(function(){return I}));var o=n(21),a=n.n(o),i=n(32),r=n(27),c=n(141),s=n.n(c),d=n(20),l=n.n(d),u=n(116),p=n(39),h=n(43),f=function(e,t){return new Promise((function(n){document.addEventListener("copy",(function o(a){a=a||window.event,"string"!==typeof e&&Object.keys(e).length?Object.entries(e).forEach((function(e,t){a.clipboardData.setData(e,t)})):t&&t.forEach((function(t){a.clipboardData.setData(t,e.toString())})),a.preventDefault(),document.removeEventListener("copy",o),n(!0)})),document.execCommand("copy")}))};function b(){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.LOCAL,e.abrupt("return",t?t.selectDirectory():void 0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){return e?e.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n ]*","g"),(function(e,t){return t&&"br"===t.toLowerCase()?e.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):e.replace(new RegExp("^[\\r\\t\\n ]+"),"").replace(new RegExp("[\\r\\t\\n ]+$"),"")})):e},v=function(e,t,n){return n=n||{inlinePseudoElements:!0,preserveImportant:!0},s.a.inlineContent(e,t,n)};function y(e,t){var n=e.split("#"),o=n[0],a=n[1],i=[];for(var r in t){var c=t[r];null!=c&&i.push(r+"="+encodeURIComponent(c.toString()))}return o.indexOf("?")>-1?o+="&"+i.join("&"):o+="?"+i.join("&"),a?o+"#"+a:o}function j(e){void 0===e&&(e=window.location.href);var t=e.split("#")[0].split("?")[1];if(!t)return{};for(var n={},o=0,a=t.split("&");o<a.length;o++){var i=a[o],r=i.indexOf("=");if(!(r<0)){var c=i.substr(0,r),s=i.substr(r+1);if(!n[c]){var d=void 0;try{d=decodeURIComponent(s)}catch(l){d=s}n[c]=d}}}return n}function x(e,t,n,o){if(!e)return!1;e.addEventListener(t,n,o)}function k(e,t,n){if(!e)return!1;e.removeEventListener(t,n)}function O(e){for(var t=[],n=0;n<e.length;n++)t.push("(".concat(e.charAt(n),")"));return new RegExp("(.*)".concat(t.join("(.*)"),"(.*)"))}function _(){var e=window.LOCAL;if(e&&e.toggleFullscreen)e.toggleFullscreen();else{var t=document;t.webkitIsFullScreen||t.mozFullScreen?function(){var e=document;!(!e.webkitIsFullScreen&&!e.mozFullScreen)&&(e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}():function(){var e=document;if(e.webkitIsFullScreen||e.mozFullScreen)return!1;var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}()}}function N(e){var t=window.LOCAL;return t&&t.toggleFullscreen?t.setAlwaysOnTop(e):Promise.resolve(!1)}function w(e){return new Promise((function(t){var n=new Image,o=document.createElement("canvas"),a=o.getContext("2d");n.src="data:image/svg+xml;base64,".concat(r.a.encode(e)),n.onload=function(){o.width=n.width,o.height=n.height,null===a||void 0===a||a.drawImage(n,0,0),o.toBlob((function(e){t(e)}),"image/png")},n.onerror=function(){t(null)}}))}var S=Object(p.b)(),T=/macintosh|mac os x/i.test(navigator.userAgent),C=/windows/i.test(navigator.userAgent),E=T?"https://cdn.montisan.cn/GeekEditor-".concat(h.a.substring(1),".dmg"):C?"https://cdn.montisan.cn/GeekEditor-Setup-".concat(h.a.substring(1),".exe"):"https://cdn.montisan.cn/GeekEditor_".concat(h.a.substring(1),"_amd64.deb"),D=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("."),o=t.split("."),a=Math.max(n.length,o.length),i=0,r=0;r<a;r++){var c=n.length>r?n[r]:"0",s=isNaN(Number(c))?c.charCodeAt(0):Number(c),d=o.length>r?o[r]:"0",l=isNaN(Number(d))?d.charCodeAt(0):Number(d);if(s<l){i=-1;break}if(s>l){i=1;break}}return i};l.a.subParser("makeMarkdown.underline",(function(e,t){var n="";if(e.hasChildNodes()){n+="__";for(var o=e.childNodes,a=o.length,i=0;i<a;++i)n+=l.a.subParser("makeMarkdown.node")(o[i],t);n+="__"}return n})),l.a.subParser("makeMarkdown.node",(function(e,t,n){n=n||!1;var o="";if(3===e.nodeType)return l.a.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(o=l.a.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(o=l.a.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(o=l.a.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(o=l.a.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(o=l.a.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(o=l.a.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(o=l.a.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(o=l.a.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(o=l.a.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(o=l.a.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(o=l.a.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(o=l.a.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(o=l.a.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(o=l.a.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":o=l.a.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":o=l.a.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":o=l.a.subParser("makeMarkdown.strong")(e,t);break;case"del":case"s":o=l.a.subParser("makeMarkdown.strikethrough")(e,t);break;case"u":o=l.a.subParser("makeMarkdown.underline")(e,t);break;case"a":o=l.a.subParser("makeMarkdown.links")(e,t);break;case"img":o=l.a.subParser("makeMarkdown.image")(e,t);break;case"mark":case"sup":case"sub":o=e.outerHTML;break;default:o=e.outerHTML+"\n\n"}return o}));var A=new l.a.Converter({strikethrough:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,literalMidWordUnderscores:!1,tables:!0,tasklists:!0,emoji:!0,underline:!0,omitExtraWLInCodeBlocks:!0,backslashEscapesHTMLTags:!0});A.addExtension((function(){return[{type:"output",regex:/<mark.*?>(.*)<\/?mark>/g,replace:"$1",filter:function(e){var t=Object(u.a)(e);return t.traversal((function(e){if("ul"===e.tagName()){var t=e.firstChild();if(t)if("task-list-item"===t.attr("class")){e.setTagName("tasklist");for(var n=e.children(),o=0;o<n.length;o++){var a=n[o];if("li"===a.tagName()){a.setTagName("taskli");var i=a.firstChild();i&&"input"===i.tagName()&&i.setTagName("taskinput")}}}}})),e=t.outerHTML()}}]}));var P=A.makeMarkdown.bind(A),M=A.makeHtml.bind(A);function I(e){return new Promise((function(t){var n=window.proxyManager;n&&n.download?n.download(e,(function(e){t("string"===typeof e?function(e){for(var t=e.split(","),n=atob(t[1]),o=t[0].split(":")[1].split(";")[0],a=new ArrayBuffer(n.length),i=new Uint8Array(a),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return new Blob([a],{type:o})}(e):null)})):t(null)}))}},178:function(e,t,n){"use strict";var o=n(44),a=n(7),i=n(6),r=function(){function e(t){var n=this;Object(a.a)(this,e),this.commands=void 0,this.keys=void 0,this.name=void 0,this.element=void 0,this.callback=void 0,this.executeShortcut=void 0,this.commands={},this.keys={},this.name=t.name,this.parseShortcutName(t.name),this.element=t.on,this.callback=t.callback,this.executeShortcut=function(e){n.execute(e)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return Object(i.a)(e,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),Object(i.a)(e,[{key:"parseShortcutName",value:function(t){for(var n=t.split("+"),o=0;o<n.length;o++){n[o]=n[o].toUpperCase();var a=!1;for(var i in e.supportedCommands)if(e.supportedCommands[i].includes(n[o])){this.commands[i]=!0,a=!0;break}a||(this.keys[n[o]]=!0)}for(var r in e.supportedCommands)this.commands[r]||(this.commands[r]=!1)}},{key:"execute",value:function(t){var n,o={CMD:t.ctrlKey||t.metaKey,SHIFT:t.shiftKey,ALT:t.altKey},a=!0;for(n in this.commands)this.commands[n]!==o[n]&&(a=!1);var i,r=!0;for(i in this.keys)r=r&&t.keyCode===e.keyCodes["".concat(i)];a&&r&&this.callback(t)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),e}(),c=function(){function e(){Object(a.a)(this,e),this.registeredShortcuts=new Map}return Object(i.a)(e,[{key:"add",value:function(e){if(this.findShortcut(e.on,e.name))throw Error("Shortcut ".concat(e.name," is already registered for ").concat(e.on,". Please remove it before add a new handler."));var t=new r({name:e.name,on:e.on,callback:e.handler}),n=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[].concat(Object(o.a)(n),[t]))}},{key:"remove",value:function(e,t){var n=this.findShortcut(e,t);if(n){n.remove();var o=this.registeredShortcuts.get(e);o&&this.registeredShortcuts.set(e,o.filter((function(e){return e!==n})))}}},{key:"findShortcut",value:function(e,t){return(this.registeredShortcuts.get(e)||[]).find((function(e){return e.name===t}))}}]),e}();t.a=new c},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(44),a=n(7),i=n(6),r=n(113),c=n(28),s=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"saveCustomTypeset",value:function(t){t.id||(t.id="typeset-".concat(Date.now()));var n=c.a.get("__typesets__")||[],o=n.findIndex((function(e){return e.id===t.id}));return-1!==o?n[o]=t:n.push(t),c.a.set("__typesets__",n),e.notifyChanged(),!0}},{key:"deleteCustomTypeset",value:function(t){if(!t.id)return!1;var n=c.a.get("__typesets__")||[],o=n.findIndex((function(e){return e.id===t.id}));return-1!==o&&n.splice(o,1),c.a.set("__typesets__",n),e.notifyChanged(),!0}},{key:"registerCommand",value:function(t){t.registerCommand((function(){return{cmdName:"typeset",notNeedUndo:!0,execCommand:function(n,o){e.setTypeset(t,o),t.trigger("contentchange")},queryCommandValue:function(){var e=t.getCSS("#".concat("be-typeset"));return e?e.getAttribute("typeset"):null}}}))}},{key:"setTypeset",value:function(t,n){if("string"===typeof n){if((t.queryCommandValue("typeset")||"")===n)return;n=[].concat(Object(o.a)(e.builtinTypesets),Object(o.a)(e.customTypesets)).find((function(e){return e.id===n}))}var a="be-typeset";t.removeCSS("#".concat(a)),n&&t.appendCSS(n.content,{id:a,typeset:n.id||""})}},{key:"getTypesetCSSText",value:function(e){var t=this.builtinCommonTypeset,n=e.getCSS("#".concat("be-typeset"));return t+"\n"+(n?n.innerText:"")}},{key:"getTypesetCSSTextById",value:function(t){var n=this.builtinCommonTypeset,o=e.builtinTypesets.find((function(e){return e.id===t}))||e.customTypesets.find((function(e){return e.id===t}));return n+"\n"+((null===o||void 0===o?void 0:o.content)||e.builtinDefaultTypeset)}},{key:"subscribeChanged",value:function(t){return e.listeners.push(t),function(){var n=e.listeners.findIndex((function(e){return e===t}));-1!==n&&e.listeners.splice(n,1)}}},{key:"notifyChanged",value:function(){Promise.resolve().then((function(){var t=e.listeners;e.customTypesets;t.forEach((function(e){e()}))}))}},{key:"builtinCommonTypeset",get:function(){var e=r.a.components,t=n(267);for(var o in e){var a=e[o].builtinTypesets;a&&a.common&&(t=t+"\n"+a.common)}return t}},{key:"builtinDefaultTypeset",get:function(){var e=r.a.components,t=n(472);for(var o in e){var a=e[o].builtinTypesets;a&&a.default&&(t=t+"\n"+a.default)}return t}},{key:"builtinTypesets",get:function(){return[{id:"default",title:"\u9ed8\u8ba4",content:e.builtinDefaultTypeset},{id:"github",title:"Github",content:n(474)},{id:"geek-black",title:"\u6781\u5ba2\u9ed1",content:n(476)},{id:"cyanosis",title:"\u592a\u7a7a\u84dd",content:n(478)},{id:"vue-pro",title:"VuePro",content:n(480)}]}},{key:"customTypesets",get:function(){return c.a.get("__typesets__")||[]}}]),e}();s.listeners=[]},22:function(e,t,n){"use strict";function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var a=arguments,i=1;i<a.length;i++){var r=a[i];for(var c in r)e.hasOwnProperty(c)||(e[c]=r[c])}return e}var a=function(){function e(e){for(var t in e)e[t.toUpperCase()]=e[t];return e}var t=o,n=e({isindex:1,fieldset:1}),a=e({input:1,button:1,select:1,textarea:1,label:1}),i=t(e({a:1}),a),r=t({iframe:1},i),c=e({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),s=e({ins:1,del:1,script:1,style:1}),d=t(e({mark:1,b:1,acronym:1,bdo:1,var:1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),s),l=t(e({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),d),u=t(e({p:1}),l),p=t(e({iframe:1}),l,a),h=e({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,var:1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),f=t(e({a:0}),p),b=e({tr:1}),m=e({"#":1}),g=t(e({param:1}),h),v=t(e({form:1}),n,r,c,u),y=e({li:1,ol:1,ul:1}),j=e({style:1,script:1}),x=e({base:1,link:1,meta:1,title:1}),k=t({},x,j),O=e({head:1,body:1}),_=e({html:1}),N=e({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1,section:1}),w=e({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1}),S=e({text:1,tspan:1,defs:1,clippath:1,use:1,animate:1,animatetransform:1,path:1,polygon:1,polyline:1,line:1,ellipse:1,circle:1,rect:1,stop:1,feblend:1,fecolormatrix:1,fecomponenttransfer:1,fecomposite:1,feconvolvematrix:1,fediffuselighting:1,fedisplacementmap:1,feflood:1,fegaussianblur:1,feimage:1,femerge:1,femorphology:1,feoffset:1,fespecularlighting:1,fetile:1,feturbulence:1,fedistantlight:1,fepointlight:1,fespotlight:1});return e({$nonBodyContent:t({},_,O,x),$block:N,$inline:f,$inlineWithA:t(e({a:1}),f),$body:t(e({script:1,style:1}),N),$cdata:e({script:1,style:1}),$empty:w,$svg:S,$nonChild:e({iframe:1,textarea:1,embed:1}),$listItem:e({dd:1,dt:1,li:1}),$list:e({ul:1,ol:1,dl:1}),$isNotEmpty:e({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:e({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1,mark:1}),$removeEmptyBlock:e({p:1,div:1,blockquote:1}),$tableContent:e({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:e({pre:1,script:1,style:1,textarea:1}),html:O,head:k,style:m,script:m,body:v,base:{},link:{},meta:{},title:m,col:{},tr:e({td:1,th:1}),img:{},embed:{},colgroup:e({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:v,td:v,br:{},th:v,center:v,kbd:f,button:t(u,c),basefont:{},h5:f,h4:f,samp:f,h6:f,ol:y,h1:f,h3:f,option:m,h2:f,form:t(n,r,c,u),select:e({optgroup:1,option:1}),font:f,ins:f,menu:y,abbr:f,label:f,table:e({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:f,tfoot:b,cite:f,li:v,input:{},iframe:v,strong:f,textarea:m,noframes:v,big:f,small:f,span:e({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:f,dt:f,sub:f,optgroup:e({option:1}),param:{},bdo:f,var:f,div:v,section:t(e({section:1}),v),object:g,sup:f,dd:v,strike:f,area:{},dir:y,map:t(e({area:1,form:1,p:1}),n,s,c),applet:g,dl:e({dt:1,dd:1}),del:f,isindex:{},fieldset:t(e({legend:1}),h),thead:b,ul:y,acronym:f,b:f,a:t(e({a:1}),p),blockquote:t(e({td:1,tr:1,tbody:1,li:1,section:1}),v),caption:f,i:f,u:f,tbody:b,s:f,address:t(r,u),tt:f,legend:f,q:f,pre:t(d,i),p:t(e({a:1}),f),em:f,dfn:f,mark:f})}();t.a=a},23:function(e,t,n){"use strict";var o=window,a=function(){var e=navigator.userAgent.toLowerCase(),t=o.opera,n={ie:/(msie\s|trident.*rv:)([\w.]+)/i.test(e),opera:!!t&&!!t.version,webkit:e.indexOf(" applewebkit/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"===document.compatMode,version:0};n.gecko="Gecko"===navigator.product&&!n.webkit&&!n.opera&&!n.ie;var a=0;if(n.ie){var i=e.match(/(?:msie\s([\w.]+))/),r=e.match(/(?:trident.*rv:([\w.]+))/);a=i&&r&&i[1]&&r[1]?Math.max(1*parseFloat(i[1]),1*parseFloat(r[1])):i&&i[1]?1*parseFloat(i[1]):r&&r[1]?1*parseFloat(r[1]):0;var c=document.documentMode;n.ie11Compat=11===c,n.ie9Compat=9===c,n.ie8=!!c,n.ie8Compat=8===c,n.ie7Compat=7===a&&!c||7===c,n.ie6Compat=a<7||n.quirks,n.ie9above=a>8,n.ie9below=a<9,n.ie11above=a>10,n.ie11below=a<11}if(n.gecko){var s=e.match(/rv:([\d\.]+)/);s&&(s=s[1].split("."),a=1e4*parseFloat(s[0])+100*(parseFloat(s[1])||0)+1*(parseFloat(s[2])||0))}if(/chrome\/(\d+\.\d)/i.test(e)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(a=parseFloat(t.version())),n.webkit){var d=e.match(/ applewebkit\/(\d+)/);d&&(a=parseFloat(d[1]))}return n.version=a,n.isCompatible=n.ie&&a>=6||n.gecko&&a>=10801||n.opera&&a>=9.5||n.webkit&&a>=522||!1,n}();t.a=a},267:function(e,t,n){var o=n(471);e.exports="string"===typeof o?o:o.toString()},28:function(e,t,n){"use strict";var o=n(11),a=n(7),i=n(6),r=n(10),c=n(9),s=n(75),d=n(142),l=new(function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this))._storage=void 0,i._sharedPreferences=void 0,i._sharedPreferencesKey=void 0,i._isReady=void 0,i._settings=void 0,i._settingsKey=void 0,e=e||{name:"default"},i._sharedPreferencesKey="__shared_preferences_".concat(e.name,"__"),i._settingsKey="__settings__",i._settings={},i._sharedPreferences={},i._storage=new d.a,i._storage.get(i._sharedPreferencesKey).then((function(e){try{e=JSON.parse(e)}catch(a){e={}}var t=e||{},n=t[i._settingsKey]||{};i._settings=Object(o.a)(Object(o.a)({},n),i._settings),i._sharedPreferences=Object(o.a)(Object(o.a)({},t),i._sharedPreferences),i._sharedPreferences[i._settingsKey]=i._settings,i._isReady=!0,i.trigger("__ready__")})),i}return Object(i.a)(n,[{key:"syncToStorage",value:function(){var e=this;return new Promise((function(t){e._storage.set(e._sharedPreferencesKey,JSON.stringify(e._sharedPreferences)),t(!0)}))}},{key:"isReady",value:function(){return this._isReady}},{key:"ready",value:function(e){this._isReady?e():this.on("__ready__",e)}},{key:"setSetting",value:function(e,t){var n=this;return!!e&&(this._settings[e]=t,this.syncToStorage().then((function(){n.trigger(e,t)})),!0)}},{key:"getSetting",value:function(e){return this._settings[e]}},{key:"set",value:function(e,t){var n=this;return this._settingsKey!==e&&(this._sharedPreferences[e]=t,this.syncToStorage().then((function(){n.trigger(e,t)})),!0)}},{key:"get",value:function(e){return this._sharedPreferences[e]}}]),n}(s.a));t.a=l},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},289:function(e,t,n){},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(1),a=n(7),i=n(6),r=n(10),c=n(9),s=n(0),d=(n(285),n(184)),l=new(n.n(d).a),u=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).wrapper=void 0,e.onAddTip=function(t){var n=e.props,o=n.tip,a=n.placement;o&&t&&l.onHover(t,o,{placement:a||"top",hidingDelay:100})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.icon,a=(t.tip,t.placement,t.id),i=this.props.label,r=this.props.wrapClassName||"",c=this.props.selected?"selected":"",s=this.props.disabled?"disabled":"",d=this.props.onClick;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{id:a,ref:this.onAddTip,className:["bar-item",r,c,s].join(" "),onClick:function(t){d&&!e.props.disabled&&(d(t),t.stopPropagation())},children:[n,i&&Object(o.jsx)("span",{className:"bar-item__label",children:i})]})})}}]),n}(s.Component)},376:function(e,t,n){},377:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},39:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var o=n(21),a=n.n(o),i=n(32),r=window.LOCAL;function c(){return!!r&&r.local}t.a={get:function(e){return Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c()?r.get(e):{status:-1});case 1:case"end":return t.stop()}}),t)})))()},put:function(e,t){return Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c()?r.put(e):{status:-1});case 1:case"end":return t.stop()}}),t)})))()},del:function(e){return Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c()?r.del(e):{status:-1});case 1:case"end":return t.stop()}}),t)})))()},rename:function(e){return Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c()?r.rename(e):{status:-1});case 1:case"end":return t.stop()}}),t)})))()}}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o="v0.9.5"},450:function(e,t,n){},451:function(e,t,n){},452:function(e,t,n){},453:function(e,t,n){},454:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){},458:function(e,t,n){},459:function(e,t,n){},460:function(e,t,n){},461:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){},466:function(e,t,n){},467:function(e,t,n){},468:function(e,t,n){},469:function(e,t,n){},470:function(e,t,n){},471:function(e,t,n){var o=n(94)(!1);o.push([e.i,".be-content {\n  box-sizing: border-box;\n}\n.be-content .beui-block__content {\n  box-sizing: border-box;\n}\n",""]),e.exports=o},472:function(e,t,n){var o=n(473);e.exports="string"===typeof o?o:o.toString()},473:function(e,t,n){var o=n(94)(!1);o.push([e.i,"/*-------\u5168\u5c40\u5c5e\u6027-------*/\n.be-content {\n  /*\u5b57\u4f53*/\n  font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\n  /*\u5b57\u53f7*/\n  font-size: 16px;\n  /*\u5b57\u4f53\u989c\u8272*/\n  color: #000;\n  /*\u5185\u8fb9\u8ddd*/\n  padding: 0 10px;\n  /*\u884c\u9ad8*/\n  line-height: 1.6;\n  /*\u5b57\u95f4\u8ddd*/\n  letter-spacing: 0px;\n  word-spacing: 0px;\n  /*\u5bf9\u9f50*/\n  text-align: left;\n  word-break: break-word;\n  word-wrap: break-word;\n}\n/*-------\u884c\u5185\u683c\u5f0f-------*/\n/*\u52a0\u7c97*/\n.be-content strong {\n  font-weight: bold;\n  color: black;\n}\n/*\u659c\u4f53*/\n.be-content em {\n  font-style: italic;\n  color: black;\n}\n/*\u6807\u8bb0*/\n.be-content mark {\n  background-color: #388ae5;\n  color: #fff;\n  padding: 0px 1px;\n  border-radius: 2px;\n}\n/*\u659c\u4f53\u52a0\u7c97*/\n.be-content em strong {\n  font-weight: bold;\n  color: black;\n}\n/*\u4e0b\u5212\u7ebf*/\n/*\n.be-content u {\n}\n*/\n/*\u5220\u9664\u7ebf*/\n.be-content del,\n.be-content s {\n  font-style: italic;\n  color: black;\n}\n/*\u4e0a\u6807\u3001\u4e0b\u6807*/\n.be-content sub,\n.be-content sup {\n  line-height: 0;\n}\n/*\u884c\u5185\u4ee3\u7801*/\n.be-content code {\n  word-wrap: break-word;\n  padding: 2px 4px;\n  border-radius: 4px;\n  margin: 0 2px;\n  color: #388ae5;\n  background-color: rgba(27, 31, 35, 0.05);\n  font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;\n  word-break: break-all;\n  font-size: 87.5%;\n}\n/*\u94fe\u63a5*/\n.be-content a {\n  text-decoration: none;\n  color: #388ae5;\n  word-wrap: break-word;\n  font-weight: bold;\n  border-bottom: 1px solid #388ae5;\n}\n/*-------\u5185\u5bb9\u5757-------*/\n/*\u6bb5\u843d*/\n.be-content p {\n  font-size: 16px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  margin: 0;\n  line-height: 26px;\n  color: black;\n}\n/*\u6807\u9898*/\n.be-content h1,\n.be-content h2,\n.be-content h3,\n.be-content h4,\n.be-content h5,\n.be-content h6 {\n  margin-top: 30px;\n  margin-bottom: 15px;\n  padding: 0px;\n  font-weight: bold;\n  color: black;\n}\n.be-content h1 {\n  font-size: 24px;\n}\n.be-content h2 {\n  font-size: 22px;\n}\n.be-content h3 {\n  font-size: 20px;\n}\n.be-content h4 {\n  font-size: 18px;\n}\n.be-content h5 {\n  font-size: 16px;\n}\n.be-content h6 {\n  font-size: 16px;\n}\n.be-content h2 {\n  padding-bottom: 0.3em;\n  border-bottom: 1px solid black;\n}\n/*\u56fe\u7247*/\n.be-content figure {\n  margin: 0;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.be-content img {\n  display: block;\n  margin: 0 auto;\n  max-width: 100%;\n}\n.be-content figcaption {\n  /*\u56fe\u7247\u63cf\u8ff0\u6587\u5b57*/\n  margin-top: 5px;\n  text-align: center;\n  color: #888;\n  font-size: 14px;\n  width: 100%;\n}\n/*\u5f15\u7528*/\n.be-content blockquote {\n  padding: 0 1em;\n  margin: 0;\n  border-left: 0.25em solid #388ae5;\n  background-color: rgba(56, 138, 229, 0.1);\n}\n/*\u5206\u5272\u7ebf*/\n.be-content hr {\n  height: 1px;\n  margin: 0;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border: none;\n  border-top: 1px solid black;\n}\n/*\u4ee3\u7801\u5757*/\n.be-content pre {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.be-content pre code {\n  display: -webkit-box;\n  font-family: Operator Mono, Consolas, Monaco, Menlo, monospace;\n  border-radius: 0px;\n  font-size: 12px;\n  -webkit-overflow-scrolling: touch;\n}\n.be-content pre code span {\n  line-height: 26px;\n}\n/*\u5217\u8868*/\n.be-content ul,\n.be-content ol {\n  margin-top: 8px;\n  margin-bottom: 8px;\n  padding-left: 25px;\n  color: black;\n}\n.be-content ul {\n  list-style-type: disc;\n}\n.be-content ul ul {\n  list-style-type: square;\n}\n.be-content ol {\n  list-style-type: decimal;\n}\n.be-content li p {\n  margin-top: 5px;\n  margin-bottom: 5px;\n  line-height: 26px;\n  text-align: left;\n  padding: 0px;\n  color: #000;\n  font-weight: 500;\n}\n/*\u8868\u683c*/\n.be-content table {\n  display: table;\n  text-align: left;\n}\n.be-content tbody {\n  border: 0;\n}\n.be-content table tr {\n  border: 0;\n  border-top: 1px solid #ccc;\n  background-color: white;\n}\n.be-content table tr:nth-child(2n) {\n  background-color: #F8F8F8;\n}\n.be-content table tr th,\n.be-content table tr td {\n  font-size: 16px;\n  border: 1px solid #ccc;\n  padding: 5px 10px;\n  text-align: left;\n}\n.be-content table tr th {\n  font-weight: bold;\n  background-color: #f0f0f0;\n}\n.be-content table tr th:nth-of-type(n),\n.be-content table tr td:nth-of-type(n) {\n  min-width: 85px;\n}\n",""]),e.exports=o},474:function(e,t,n){var o=n(475);e.exports="string"===typeof o?o:o.toString()},475:function(e,t,n){var o=n(94)(!1);o.push([e.i,"/*\u53c2\u8003\u6765\u6e90\uff1ahttps://github.com/xitu/juejin-markdown-themes*/\n/*-------\u5168\u5c40\u5c5e\u6027-------*/\n.be-content {\n  /*\u5b57\u4f53*/\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';\n  /*\u5b57\u53f7*/\n  font-size: 16px;\n  /*\u5b57\u4f53\u989c\u8272*/\n  color: #24292e;\n  /*\u884c\u9ad8*/\n  line-height: 1.5;\n  word-wrap: break-word;\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n}\n.be-content > :first-child {\n  margin-top: 0 !important;\n}\n.be-content > :last-child {\n  margin-bottom: 0 !important;\n}\n.be-content * {\n  box-sizing: border-box;\n}\n/*-------\u884c\u5185\u683c\u5f0f-------*/\n/*\u52a0\u7c97*/\n.be-content strong {\n  font-weight: 600;\n}\n/*\u6807\u8bb0*/\n.be-content mark {\n  background-color: #6a737d;\n  color: #ffffff;\n  padding: 0.065em 6px;\n}\n/*\u884c\u5185\u4ee3\u7801*/\n.be-content code,\n.be-content kbd {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\n.be-content code {\n  padding: 0.2em 0.4em;\n  margin: 0;\n  font-size: 85%;\n  background-color: rgba(27, 31, 35, 0.05);\n  border-radius: 3px;\n}\n.be-content kbd {\n  display: inline-block;\n  padding: 3px 5px;\n  font: 11px SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n  line-height: 10px;\n  color: #444d56;\n  vertical-align: middle;\n  background-color: #fafbfc;\n  border: 1px solid #d1d5da;\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 #d1d5da;\n}\n/*\u94fe\u63a5*/\n.be-content a {\n  background-color: transparent;\n  background-color: initial;\n}\n.be-content a:active,\n.be-content a:hover {\n  outline-width: 0;\n}\n.be-content a {\n  color: #0366d6;\n  text-decoration: none;\n}\n.be-content a:hover {\n  text-decoration: underline;\n}\n.be-content a:not([href]) {\n  color: inherit;\n  text-decoration: none;\n}\n/*-------\u5185\u5bb9\u5757-------*/\n.be-content blockquote,\n.be-content dl,\n.be-content ol,\n.be-content p,\n.be-content pre,\n.be-content table,\n.be-content ul {\n  margin-top: 0;\n  margin-bottom: 16px;\n}\n/*\u6bb5\u843d*/\n.be-content p {\n  margin-top: 0;\n  margin-bottom: 10px;\n}\n/*\u6807\u9898*/\n.be-content h1,\n.be-content h2,\n.be-content h3,\n.be-content h4,\n.be-content h5,\n.be-content h6 {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.be-content h1 {\n  font-size: 32px;\n}\n.be-content h1,\n.be-content h2 {\n  font-weight: 600;\n}\n.be-content h2 {\n  font-size: 24px;\n}\n.be-content h3 {\n  font-size: 20px;\n}\n.be-content h3,\n.be-content h4 {\n  font-weight: 600;\n}\n.be-content h4 {\n  font-size: 16px;\n}\n.be-content h5 {\n  font-size: 14px;\n}\n.be-content h5,\n.be-content h6 {\n  font-weight: 600;\n}\n.be-content h6 {\n  font-size: 12px;\n}\n.be-content h1 {\n  margin: 0.67em 0;\n}\n.be-content h1,\n.be-content h2,\n.be-content h3,\n.be-content h4,\n.be-content h5,\n.be-content h6 {\n  margin-top: 24px;\n  margin-bottom: 16px;\n  font-weight: 600;\n  line-height: 1.25;\n}\n.be-content h1 {\n  font-size: 2em;\n}\n.be-content h1,\n.be-content h2 {\n  padding-bottom: 0.3em;\n  border-bottom: 1px solid #eaecef;\n}\n.be-content h2 {\n  font-size: 1.5em;\n}\n.be-content h3 {\n  font-size: 1.25em;\n}\n.be-content h4 {\n  font-size: 1em;\n}\n.be-content h5 {\n  font-size: 0.875em;\n}\n.be-content h6 {\n  font-size: 0.85em;\n  color: #6a737d;\n}\n/*\u56fe\u7247*/\n.be-content img {\n  border-style: none;\n  margin: auto;\n  max-width: 100%;\n  box-sizing: content-box;\n  box-sizing: initial;\n  background-color: #fff;\n}\n.be-content img[align=right] {\n  padding-left: 20px;\n}\n.be-content img[align=left] {\n  padding-right: 20px;\n}\n.be-content figure {\n  margin: 0;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.be-content figcaption {\n  /*\u56fe\u7247\u63cf\u8ff0\u6587\u5b57*/\n  margin-top: 5px;\n  text-align: center;\n  color: #888;\n  font-size: 14px;\n  width: 100%;\n}\n/*\u5f15\u7528*/\n.be-content blockquote {\n  margin: 0;\n  padding: 0 1em;\n  color: #6a737d;\n  border-left: 0.25em solid #dfe2e5;\n}\n.be-content blockquote > :first-child {\n  margin-top: 0;\n}\n.be-content blockquote > :last-child {\n  margin-bottom: 0;\n}\n/*\u5206\u5272\u7ebf*/\n.be-content hr {\n  box-sizing: content-box;\n  box-sizing: initial;\n  margin: 15px 0;\n  overflow: hidden;\n  background: transparent;\n  height: 0.25em;\n  padding: 0;\n  margin: 24px 0;\n  background-color: #e1e4e8;\n  border: 0;\n}\n.be-content hr:after,\n.be-content hr:before {\n  display: table;\n  content: \"\";\n}\n.be-content hr:after {\n  clear: both;\n}\n/*\u4ee3\u7801\u5757*/\n.be-content pre {\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 16px;\n  overflow: auto;\n  font-size: 85%;\n  line-height: 1.45;\n  background-color: #f6f8fa;\n  border-radius: 3px;\n  word-wrap: normal;\n}\n/*\u5217\u8868*/\n.be-content ol,\n.be-content ul {\n  padding-left: 0;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.be-content ol ol,\n.be-content ul ol {\n  list-style-type: lower-roman;\n}\n.be-content ol ol ol,\n.be-content ol ul ol,\n.be-content ul ol ol,\n.be-content ul ul ol {\n  list-style-type: lower-alpha;\n}\n.be-content dd {\n  margin-left: 0;\n}\n.be-content ol,\n.be-content ul {\n  padding-left: 2em;\n}\n.be-content ol ol,\n.be-content ol ul,\n.be-content ul ol,\n.be-content ul ul {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.be-content li {\n  word-wrap: break-all;\n}\n.be-content li > p {\n  margin-top: 16px;\n}\n.be-content li + li {\n  margin-top: 0.25em;\n}\n.be-content dl {\n  padding: 0;\n}\n.be-content dl dt {\n  padding: 0;\n  margin-top: 16px;\n  font-size: 1em;\n  font-style: italic;\n  font-weight: 600;\n}\n.be-content dl dd {\n  padding: 0 16px;\n  margin-bottom: 16px;\n}\n/*\u5f85\u529e\u4e8b\u9879*/\n.be-todolist__item--checked .be-todolist__item-checkbox {\n  background: #6a737d;\n  border-color: #6a737d;\n}\n/*\u8868\u683c*/\n.be-content table {\n  border-spacing: 0;\n  border-collapse: collapse;\n}\n.be-content td,\n.be-content th {\n  padding: 0;\n}\n.be-content table {\n  display: block;\n  width: 100%;\n  overflow: auto;\n}\n.be-content table th {\n  font-weight: 600;\n}\n.be-content table td,\n.be-content table th {\n  padding: 6px 13px;\n  border: 1px solid #dfe2e5;\n}\n.be-content table tr {\n  background-color: #fff;\n  border-top: 1px solid #c6cbd1;\n}\n.be-content table tr:nth-child(2n) {\n  background-color: #f6f8fa;\n}\n",""]),e.exports=o},476:function(e,t,n){var o=n(477);e.exports="string"===typeof o?o:o.toString()},477:function(e,t,n){var o=n(94)(!1);o.push([e.i,'/*-------\u5168\u5c40\u5c5e\u6027-------*/\n.be-content {\n  /*\u884c\u9ad8*/\n  line-height: 1.7;\n  /*\u5b57\u91cd*/\n  font-weight: 400;\n  /*\u5b57\u53f7*/\n  font-size: 16px;\n  /*\u5b57\u4f53\u989c\u8272*/\n  color: #212122;\n  word-break: break-word;\n}\n/*-------\u884c\u5185\u683c\u5f0f-------*/\n/*\u6807\u8bb0*/\n.be-content mark {\n  background-color: #212122;\n  color: #fff;\n  padding: 0.065em 6px;\n}\n/*\u884c\u5185\u4ee3\u7801*/\n.be-content code {\n  word-break: break-word;\n  overflow-x: auto;\n  background-color: #f1f1f1;\n  color: #ef7060;\n  font-size: 14px;\n  padding: 0.065em 6px;\n  font-family: Menlo, Monaco, Consolas, Courier New, monospace;\n  border-radius: 2px;\n}\n/*\u94fe\u63a5*/\n.be-content a {\n  color: #ef7060;\n  padding: 2px;\n  text-decoration: none;\n  border-bottom: 0.125em solid #ef7060;\n  border-radius: 2px;\n  box-shadow: inset 0 -0.025em 0 #ef7060;\n  transition: box-shadow 0.27s cubic-bezier(0.77, 0, 0.175, 1), color 0.27s cubic-bezier(0.77, 0, 0.175, 1);\n}\n.be-content a:focus,\n.be-content a:hover {\n  outline: none;\n  box-shadow: inset 0 -1.5em 0 #ef7060;\n  color: #fff;\n}\n.be-content a:before {\n  content: "\u21f2 ";\n  vertical-align: top;\n  margin-left: 2px;\n  font-family: dart !important;\n  font-size: 12px;\n  color: inherit;\n  opacity: 0.7;\n}\n/*-------\u5185\u5bb9\u5757-------*/\n/*\u6bb5\u843d*/\n.be-content p {\n  font-size: 16px;\n  text-align: start;\n  white-space: normal;\n  -webkit-text-size-adjust: auto;\n  -moz-text-size-adjust: auto;\n  text-size-adjust: auto;\n  line-height: 2;\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\n/*\u6807\u9898*/\n.be-content h1,\n.be-content h2,\n.be-content h3,\n.be-content h4,\n.be-content h5,\n.be-content h6 {\n  line-height: 1.5;\n  margin-bottom: 8px;\n  padding-bottom: 8px;\n}\n.be-content h1 {\n  color: #a0a0a0;\n  font-size: 38px;\n  margin-top: 32px;\n  padding-top: 32px;\n}\n.be-content h2 {\n  color: #fff;\n  background-color: #212122;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  border-bottom-right-radius: 100px;\n  margin-top: 47px;\n  margin-bottom: 16px;\n  padding: 4px 48px 4px 8px;\n  line-height: 1.7;\n  font-size: 30px;\n  transition: all 0.3s ease-out;\n}\n.be-content h2:hover {\n  border-bottom-right-radius: 50px;\n  transition: all 0.3s ease-out;\n}\n.be-content h3 {\n  font-size: 24px;\n  padding-left: 8px;\n  margin-top: 32px;\n  border-bottom: 2px solid #c6c4c4;\n  line-height: 1.7;\n}\n.be-content h4 {\n  font-size: 20px;\n  padding-left: 8px;\n  margin-top: 32px;\n  border-bottom: 1px solid #ddd;\n}\n.be-content h5 {\n  font-size: 16px;\n  margin-top: 24px;\n}\n.be-content h6 {\n  margin-top: 16px;\n  line-height: 1.1;\n}\n.be-content img {\n  max-width: 100%;\n  margin: auto;\n  padding-left: 8px;\n  padding-right: 8px;\n  box-sizing: border-box;\n}\n/*\u56fe\u7247*/\n.be-content figure {\n  margin: 0;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n/*\u56fe\u7247\u63cf\u8ff0\u6587\u5b57*/\n.be-content figcaption {\n  margin-top: 5px;\n  text-align: center;\n  color: #888;\n  font-size: 14px;\n  width: 100%;\n}\n/*\u5f15\u7528*/\n.be-content blockquote {\n  color: #777;\n  padding: 1px 16px;\n  margin: 24px 0;\n  border-left: 4px solid #c6c4c4;\n  background-color: #f1f1f1;\n  transition: all 0.3s ease-out;\n  border-radius: 4px;\n}\n.be-content blockquote:hover {\n  border-left-color: #212122;\n  background-color: #212122;\n  color: #fff;\n}\n.be-content blockquote:after {\n  display: block;\n  content: "";\n}\n.be-content blockquote > p {\n  margin: 10px 0;\n}\n/*\u5206\u5272\u7ebf*/\n.be-content hr {\n  border: none;\n  border-top: 4px double #212122;\n  margin-top: 32px;\n  margin-bottom: 32px;\n  text-align: center;\n}\n.be-content hr:after {\n  content: "\u2665";\n  display: inline-block;\n  position: relative;\n  top: -15px;\n  padding: 0 10px;\n  color: #212122;\n  font-size: 18px;\n}\n/*\u4ee3\u7801\u5757*/\n.be-content pre {\n  font-family: Menlo, Monaco, Consolas, Courier New, monospace;\n  border-radius: 2px;\n  overflow: auto;\n  position: relative;\n  line-height: 1.7;\n  box-shadow: 0 0 8px hsla(0, 0%, 43.1%, 0.45);\n  margin: 32px 16px;\n}\n/*\n.be-content pre:before {\n    content: "";\n    display: block;\n    height: 30px;\n    width: 100%;\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;\n    background-color: #212122;\n    box-shadow: 0 0 8px hsla(0, 0%, 43.1%, .45);\n    background-size: 40px\n}*\n\n.be-content pre>code {\n    font-size: 14px;\n    padding: 16px 8px;\n    margin: 0;\n    word-break: normal;\n    display: block;\n    overflow-x: auto;\n    color: #fff;\n    background: #272822\n}\n\n.be-content pre>code::-webkit-scrollbar {\n    height: 10px;\n    background-color: #f5f5f5\n}\n\n.be-content pre>code::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\n    border-radius: 3px;\n    background-color: #f5f5f5\n}\n\n.be-content pre>code::-webkit-scrollbar-thumb {\n    border-radius: 3px;\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\n    background-color: #555\n}\n*/\n/*\u5217\u8868*/\n.be-content ol,\n.be-content ul {\n  padding-left: 24px;\n}\n.be-content ol li,\n.be-content ul li {\n  margin-bottom: 6px;\n  list-style: inherit;\n}\n.be-content ol li .task-list-item,\n.be-content ul li .task-list-item {\n  list-style: none;\n}\n.be-content ol li .task-list-item ol,\n.be-content ol li .task-list-item ul,\n.be-content ul li .task-list-item ol,\n.be-content ul li .task-list-item ul {\n  margin-top: 0;\n}\n.be-content ol ol,\n.be-content ol ul,\n.be-content ul ol,\n.be-content ul ul {\n  margin-top: 3px;\n}\n.be-content ol li {\n  padding-left: 6px;\n}\n/*\u8868\u683c*/\n.be-content table {\n  background: #fbfbfb;\n  border-radius: 4px;\n  border-collapse: collapse;\n  margin: auto;\n  padding: 5px;\n  width: 95%;\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);\n  animation: float 5s infinite;\n}\n.be-content table th {\n  color: #fff;\n  background: #212122;\n  border-bottom: 1px solid #9ea7af;\n  border-right: 1px solid #343a45;\n  font-size: 18px;\n  padding: 16px;\n  text-align: left;\n  vertical-align: middle;\n}\n.be-content table th:first-child {\n  border-top-left-radius: 4px;\n}\n.be-content table th:last-child {\n  border-top-right-radius: 4px;\n  border-right: none;\n}\n.be-content table tr {\n  border-top: 1px solid #c1c3d1;\n  border-bottom: 1px solid #c1c3d1;\n  color: #666b85;\n}\n.be-content table tr:hover td {\n  background: #212122;\n  color: #fff;\n  border-top: 1px solid #22262e;\n}\n.be-content table tr:first-child {\n  border-top: none;\n}\n.be-content table tr:last-child {\n  border-bottom: none;\n}\n.be-content table tr:nth-child(odd) td {\n  background: #f1f1f1;\n}\n.be-content table tr:nth-child(odd):hover td {\n  background: #212122;\n}\n.be-content table tr:last-child td:first-child {\n  border-bottom-left-radius: 4px;\n}\n.be-content table tr:last-child td:last-child {\n  border-bottom-right-radius: 4px;\n}\n.be-content table td {\n  background: #fbfbfb;\n  padding: 16px;\n  text-align: left;\n  vertical-align: middle;\n  font-size: 16px;\n  border-right: 1px solid #c1c3d1;\n}\n.be-content table td:last-child {\n  border-right: 0;\n}\n/*\u5f85\u529e\u4e8b\u9879*/\n.be-todolist__item--checked .be-todolist__item-checkbox {\n  background: #212122;\n  border-color: #212122;\n}\n',""]),e.exports=o},478:function(e,t,n){var o=n(479);e.exports="string"===typeof o?o:o.toString()},479:function(e,t,n){var o=n(94)(!1);o.push([e.i,'/*-------\u5168\u5c40\u5c5e\u6027-------*/\n.be-content {\n  /*\u5b57\u91cd*/\n  font-weight: 400;\n  /*\u5b57\u53f7*/\n  font-size: 14px;\n  /*\u5b57\u4f53\u989c\u8272*/\n  color: #353535;\n  /*\u884c\u9ad8*/\n  line-height: 1.75;\n  word-break: break-word;\n}\n/*-------\u884c\u5185\u683c\u5f0f-------*/\n/*\u52a0\u7c97*/\n.be-content b,\n.be-content strong {\n  color: #2196f3;\n}\n/*\u659c\u4f53*/\n.be-content em,\n.be-content i {\n  color: #4fc3f7;\n}\n/*\u5220\u9664\u7ebf*/\n.be-content del {\n  color: #ccc;\n}\n/*\u6807\u8bb0*/\n.be-content mark {\n  background-color: #005bb7;\n  color: #ffffff;\n  padding: 0.065em 6px;\n}\n/*\u884c\u5185\u4ee3\u7801*/\n.be-content code {\n  padding: 0.065em 0.4em;\n  font-size: 0.87em;\n  color: #c2185b;\n  word-break: break-word;\n  overflow-x: auto;\n  background-color: #fff4f4;\n  border-radius: 2px;\n  font-family: Menlo, Monaco, Consolas, Courier New, monospace;\n}\n/*\u94fe\u63a5*/\n.be-content a {\n  position: relative;\n  text-decoration: none;\n  color: #3da8f5;\n  border-bottom: 1px solid #bedcff;\n}\n.be-content a:hover {\n  color: #007fff;\n  border-bottom-color: #007fff;\n}\n.be-content a:active {\n  color: #007fff;\n}\n.be-content a:after {\n  position: absolute;\n  content: "";\n  top: 100%;\n  left: 0;\n  width: 100%;\n  opacity: 0;\n  border-bottom: 1px solid #bedcff;\n  transition: top 0.3s, opacity 0.3s;\n  transform: translateZ(0);\n}\n.be-content a:hover:after {\n  top: 0;\n  opacity: 1;\n  border-bottom-color: #007fff;\n}\n/*-------\u5185\u5bb9\u5757-------*/\n/*\u6bb5\u843d*/\n.be-content p {\n  line-height: inherit;\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\n/*\u6807\u9898*/\n.be-content h1 {\n  padding-bottom: 4px;\n  font-size: 30px;\n}\n.be-content h1,\n.be-content h2 {\n  margin-top: 36px;\n  margin-bottom: 10px;\n  line-height: 1.5;\n  color: #005bb7;\n}\n.be-content h2 {\n  position: relative;\n  padding-bottom: 10px;\n  font-size: 24px;\n  border-bottom: 1px solid #ececec;\n}\n/* \u6ce8\uff1a\u5fae\u4fe1\u516c\u4f17\u53f7\u6587\u7ae0\u4e0d\u652f\u6301position: absolute\uff0c\u6240\u4ee5\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u7edd\u5bf9\u5b9a\u4f4d*/\n.be-content h2:before {\n  content: "\u300c";\n  margin-right: 6px;\n}\n.be-content h2:after {\n  content: "\u300d";\n  margin-left: 6px;\n}\n.be-content h3 {\n  position: relative;\n  padding-bottom: 0;\n  margin-top: 30px;\n  margin-bottom: 10px;\n  font-size: 20px;\n  line-height: 1.5;\n  color: #005bb7;\n  padding-left: 6px;\n}\n.be-content h3:before {\n  content: "\xbb";\n  padding-right: 6px;\n  color: #2196f3;\n}\n.be-content h4 {\n  margin-top: 24px;\n  font-size: 16px;\n}\n.be-content h4,\n.be-content h5 {\n  padding-bottom: 0;\n  margin-bottom: 10px;\n  line-height: 1.5;\n  color: #005bb7;\n  padding-left: 6px;\n}\n.be-content h5 {\n  margin-top: 18px;\n  font-size: 14px;\n}\n.be-content h6 {\n  padding-bottom: 0;\n  margin-top: 12px;\n  margin-bottom: 10px;\n  font-size: 12px;\n  line-height: 1.5;\n  color: #005bb7;\n  padding-left: 6px;\n}\n/*\u56fe\u7247*/\n.be-content img {\n  max-width: 100%;\n  margin: auto;\n}\n.be-content figure {\n  margin: 0;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n/*\u56fe\u7247\u63cf\u8ff0\u6587\u5b57*/\n.be-content figcaption {\n  margin-top: 5px;\n  text-align: center;\n  color: #888;\n  font-size: 14px;\n  width: 100%;\n}\n/*\u5f15\u7528*/\n.be-content blockquote {\n  color: #8c8c8c;\n  border-left: 4px solid #2196f3;\n  background-color: #f0fdff;\n  padding: 1px 20px;\n  margin: 22px 0;\n}\n.be-content blockquote:after {\n  display: block;\n  content: "";\n}\n.be-content blockquote > p {\n  margin: 10px 0;\n}\n/*\u5206\u5272\u7ebf*/\n.be-content hr {\n  position: relative;\n  width: 98%;\n  height: 1px;\n  margin-top: 32px;\n  margin-bottom: 32px;\n  background-image: linear-gradient(90deg, #007fff, rgba(255, 0, 0, 0.3), hsla(0, 0%, 100%, 0.1), rgba(255, 0, 0, 0.3), #007fff);\n  border-width: 0;\n  overflow: visible;\n}\n.be-content hr:after {\n  content: "";\n  position: absolute;\n  margin: auto;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: inline-block;\n  width: 60px;\n  height: 20px;\n  background: #fff;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);\n  background-repeat: no-repeat;\n  background-size: auto 100%;\n  background-position-x: center;\n}\n/*\u4ee3\u7801\u5757*/\n.be-content pre {\n  font-family: Menlo, Monaco, Consolas, Courier New, monospace;\n  overflow: auto;\n  position: relative;\n  line-height: 1.75;\n}\n/*\n.be-content pre>code {\n    display: block;\n    padding: 16px 12px;\n    margin: 0;\n    font-size: 12px;\n    color: #333;\n    word-break: normal;\n    overflow-x: auto;\n    background: #f8f8f8\n}\n\n.be-content pre>code::-webkit-scrollbar {\n    width: 4px;\n    height: 4px\n}\n\n.be-content pre>code::-webkit-scrollbar-track {\n    background-color: #bedcff\n}\n\n.be-content pre>code::-webkit-scrollbar-thumb {\n    background-color: #2196f3;\n    border-radius: 10px\n}\n*/\n/*\u5217\u8868*/\n.be-content ol,\n.be-content ul {\n  padding-left: 28px;\n}\n.be-content ol li,\n.be-content ul li {\n  margin-bottom: 0;\n  list-style: inherit;\n}\n.be-content ol li .task-list-item,\n.be-content ul li .task-list-item {\n  list-style: none;\n}\n.be-content ol li .task-list-item ol,\n.be-content ol li .task-list-item ul,\n.be-content ul li .task-list-item ol,\n.be-content ul li .task-list-item ul {\n  margin-top: 0;\n}\n.be-content ol ol,\n.be-content ol ul,\n.be-content ul ol,\n.be-content ul ul {\n  margin-top: 4px;\n}\n.be-content ol li {\n  padding-left: 6px;\n}\n/*\u8868\u683c*/\n.be-content table {\n  display: inline-block !important;\n  font-size: 12px;\n  width: auto;\n  max-width: 100%;\n  overflow: auto;\n  border: 1px solid #c3e0fd;\n  border-spacing: 0;\n  border-collapse: collapse;\n}\n.be-content table thead {\n  color: #000;\n  text-align: left;\n  font-size: 14px;\n  background: #f6f6f6;\n}\n.be-content table tr:nth-child(2n) {\n  background-color: #f7fbff;\n}\n.be-content table tr:hover {\n  background-color: #e0edf7;\n}\n.be-content table td,\n.be-content table th {\n  padding: 12px 8px;\n  line-height: 24px;\n  border: 1px solid #c3e0fd;\n}\n.be-content table th {\n  color: #005bb7;\n  background-color: #dff0ff;\n}\n.be-content table td {\n  min-width: 120px;\n}\n/*\u5f85\u529e\u4e8b\u9879*/\n.be-todolist__item--checked .be-todolist__item-checkbox {\n  background: #005bb7;\n  border-color: #005bb7;\n}\n/*\u4ee5\u4e0b\u4ea4\u4e92\u76f8\u5173\uff0c\u4e0d\u5f71\u54cd\u5bfc\u51fa\u6392\u7248*/\n.be-content h1::selection,\n.be-content h2::selection,\n.be-content h3::selection,\n.be-content h4::selection,\n.be-content h5::selection,\n.be-content h6::selection {\n  color: #005bb7;\n  background-color: rgba(160, 200, 255, 0.15);\n}\n.be-content p::selection {\n  color: #c80000;\n}\n.be-content a::selection,\n.be-content b::selection,\n.be-content del::selection,\n.be-content em::selection,\n.be-content i::selection,\n.be-content strong::selection {\n  background-color: transparent;\n}\n.be-content code::selection {\n  background-color: #ffeaeb;\n}\n.be-content pre > code::selection {\n  background-color: rgba(160, 200, 255, 0.25);\n}\n.be-content ol ::selection,\n.be-content ul ::selection {\n  background-color: rgba(160, 200, 255, 0.15);\n}\n',""]),e.exports=o},480:function(e,t,n){var o=n(481);e.exports="string"===typeof o?o:o.toString()},481:function(e,t,n){var o=n(94)(!1);o.push([e.i,'/*-------\u5168\u5c40\u5c5e\u6027-------*/\n.be-content {\n  /*\u884c\u9ad8*/\n  line-height: 2;\n  /*\u5b57\u91cd*/\n  font-weight: 400;\n  /*\u5b57\u53f7*/\n  font-size: 15px;\n  /*\u5b57\u4f53\u989c\u8272*/\n  color: #333;\n  /*\u5b57\u95f4\u8ddd*/\n  letter-spacing: 1.2px;\n  word-break: break-word;\n}\n/*-------\u884c\u5185\u683c\u5f0f-------*/\n/*\u52a0\u7c97*/\n.be-content strong {\n  color: #3eaf7c;\n}\n/*\u6807\u8bb0*/\n.be-content mark {\n  background-color: #3eaf7c;\n  color: #ffffff;\n  padding: 0.065em 6px;\n}\n/*\u884c\u5185\u4ee3\u7801*/\n.be-content code {\n  word-break: break-word;\n  overflow-x: auto;\n  padding: 0.2rem 0.5rem;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 0.85em;\n  background-color: rgba(27, 31, 35, 0.05);\n  border-radius: 3px;\n  font-family: Menlo, Monaco, Consolas, Courier New, monospace;\n}\n/*\u94fe\u63a5*/\n.be-content a {\n  font-weight: 500;\n  text-decoration: none;\n  color: #3eaf7c;\n  margin: 0 5px;\n}\n.be-content a:active,\n.be-content a:hover {\n  text-decoration: none;\n  border-bottom: 1.5px solid #3eaf7c;\n}\n.be-content a[href^=http]:after {\n  content: url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");\n  margin-left: 2px;\n}\n.be-content a[href^="#"]:before {\n  content: "#";\n}\n/*-------\u5185\u5bb9\u5757-------*/\n/*\u6bb5\u843d*/\n.be-content p {\n  line-height: inherit;\n  margin-top: 22px;\n  margin-bottom: 22px;\n}\n/*\u6807\u9898*/\n.be-content h1,\n.be-content h2,\n.be-content h3,\n.be-content h4,\n.be-content h5,\n.be-content h6 {\n  line-height: 1.5;\n  margin-top: 35px;\n  margin-bottom: 10px;\n  padding-bottom: 5px;\n}\n.be-content h1:before,\n.be-content h2:before,\n.be-content h3:before,\n.be-content h4:before,\n.be-content h5:before,\n.be-content h6:before {\n  content: "#";\n  display: inline-block;\n  color: #3eaf7c;\n  padding-right: 0.23em;\n}\n.be-content h1 {\n  position: relative;\n  font-size: 2.5rem;\n  margin-bottom: 5px;\n}\n.be-content h1:before {\n  font-size: 2.5rem;\n}\n.be-content h2 {\n  padding-bottom: 0.5rem;\n  font-size: 2.2rem;\n  border-bottom: 1px solid #ececec;\n}\n.be-content h3 {\n  font-size: 1.5rem;\n  padding-bottom: 0;\n}\n.be-content h4 {\n  font-size: 1.25rem;\n}\n.be-content h5 {\n  font-size: 1rem;\n}\n.be-content h6 {\n  margin-top: 5px;\n}\n/*\u56fe\u7247*/\n.be-content img {\n  max-width: 100%;\n  border-radius: 2px;\n  display: block;\n  margin: auto;\n}\n.be-content figure {\n  margin: 0;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n/*\u56fe\u7247\u63cf\u8ff0\u6587\u5b57*/\n.be-content figcaption {\n  margin-top: 5px;\n  text-align: center;\n  color: #888;\n  font-size: 14px;\n  width: 100%;\n}\n/*\u5f15\u7528*/\n.be-content blockquote {\n  color: #7b7878;\n  padding: 1px 23px;\n  border-left: 0.5rem solid;\n  border-color: #42b983;\n  background-color: rgba(66, 184, 131, 0.1);\n  position: relative;\n  margin: 14px 8px 0;\n}\n.be-content blockquote::before {\n  display: inline-block;\n  position: absolute;\n  content: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");\n  width: 25px;\n  height: 25px;\n  left: -16px;\n  top: 12px;\n}\n.be-content blockquote > p {\n  margin: 10px 0;\n}\n/*\u5206\u5272\u7ebf*/\n.be-content hr {\n  border: none;\n  border-top: 1px solid #3eaf7c;\n  margin-top: 32px;\n  margin-bottom: 32px;\n}\n/*\u4ee3\u7801\u5757*/\n.be-content pre {\n  font-family: Menlo, Monaco, Consolas, Courier New, monospace;\n  overflow: auto;\n  position: relative;\n  line-height: 1.75;\n  border: 0.5rem solid #3eaf7c;\n}\n/*\u5217\u8868*/\n.be-content ol,\n.be-content ul {\n  padding-left: 28px;\n}\n.be-content ol li,\n.be-content ul li {\n  margin-bottom: 0;\n  list-style: inherit;\n}\n.be-content ol li .task-list-item,\n.be-content ul li .task-list-item {\n  list-style: none;\n}\n.be-content ol li .task-list-item ol,\n.be-content ol li .task-list-item ul,\n.be-content ul li .task-list-item ol,\n.be-content ul li .task-list-item ul {\n  margin-top: 0;\n}\n.be-content ol ol,\n.be-content ol ul,\n.be-content ul ol,\n.be-content ul ul {\n  margin-top: 3px;\n}\n.be-content ol li {\n  padding-left: 6px;\n  color: #3eaf7c;\n}\n.be-content ul li {\n  padding-left: 10px;\n  color: #3eaf7c;\n}\n.be-content li p {\n  color: #333;\n}\n/*\u8868\u683c*/\n.be-content table {\n  display: inline-block !important;\n  font-size: 13px;\n  width: auto;\n  max-width: 100%;\n  overflow: auto;\n  border: 1px solid #3eaf7c;\n  border-collapse: collapse;\n}\n.be-content thead {\n  background: #3eaf7c;\n  color: #fff;\n  text-align: left;\n}\n.be-content tr:nth-child(2n) {\n  background-color: rgba(153, 255, 188, 0.1);\n}\n.be-content td,\n.be-content th {\n  padding: 4px 8px;\n  line-height: 24px;\n}\n.be-content td {\n  min-width: 120px;\n}\n/*\u5f85\u529e\u4e8b\u9879*/\n.be-todolist__item--checked .be-todolist__item-checkbox {\n  background: #3eaf7c;\n  border-color: #3eaf7c;\n}\n',""]),e.exports=o},482:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},489:function(e,t,n){"use strict";n.r(t);var o,a,i,r,c=n(1),s=n(0),d=n.n(s),l=n(35),u=n.n(l),p=(n(281),n(282),n(283),n(7)),h=n(6),f=n(10),b=n(9),m=(n(284),n(34)),g=n(511),v=n(512),y=n(510),j=(n(289),n(44)),x=n(11),k=n(21),O=n.n(k),_=n(32);!function(e){e[e.EDocsNodeTypeFile=0]="EDocsNodeTypeFile",e[e.EDocsNodeTypeFolder=1]="EDocsNodeTypeFolder"}(o||(o={})),function(e){e[e.EDocsProviderTypeMemory=0]="EDocsProviderTypeMemory",e[e.EDocsProviderTypeBrowser=1]="EDocsProviderTypeBrowser",e[e.EDocsProviderTypeLocal=2]="EDocsProviderTypeLocal",e[e.EDocsProviderTypeGitHub=3]="EDocsProviderTypeGitHub",e[e.EDocsProviderTypeGitee=4]="EDocsProviderTypeGitee"}(a||(a={})),function(e){e[e.EDocsNodeChangeTypeTitle=0]="EDocsNodeChangeTypeTitle",e[e.EDocsNodeChangeTypeContent=1]="EDocsNodeChangeTypeContent",e[e.EDocsNodeChangeTypeChildren=2]="EDocsNodeChangeTypeChildren",e[e.EDocsNodeChangeTypeRemoved=3]="EDocsNodeChangeTypeRemoved",e[e.EDocsNodeChangeTypeSaving=4]="EDocsNodeChangeTypeSaving",e[e.EDocsNodeChangeTypeLoading=5]="EDocsNodeChangeTypeLoading",e[e.EDocsNodeChangeTypeRemoving=6]="EDocsNodeChangeTypeRemoving",e[e.EDocsNodeChangeTypeChanging=7]="EDocsNodeChangeTypeChanging"}(i||(i={})),function(e){e[e.EInitResultStatusSuccess=0]="EInitResultStatusSuccess",e[e.EInitResultStatusNoBranch=1]="EInitResultStatusNoBranch",e[e.EInitResultStatusFail=2]="EInitResultStatusFail"}(r||(r={}));var N=n(128),w=n(75),S=n(58),T=n(100),C="ACTION_SET",E={content:"",title:"",cover:"",changed:!1};function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(x.a)(Object(x.a)({},e),t.payload);default:return e}}var A,P=function(){function e(t){Object(p.a)(this,e),this._store=void 0,this._saver=void 0,this._editable=void 0,t=t||{};var n=Object(x.a)(Object(x.a)({},E),t.data);this._store=Object(S.d)(D,n,Object(S.a)(T.a)),this._saver=t.saver}return Object(h.a)(e,[{key:"setContent",value:function(e){this._store.dispatch({type:C,payload:{content:e}})}},{key:"getContent",value:function(){return this._store.getState().content}},{key:"setTitle",value:function(e){this._store.dispatch({type:C,payload:{title:e}})}},{key:"getTitle",value:function(){return this._store.getState().title}},{key:"saved",value:function(){return!1}},{key:"setSaver",value:function(e){this._saver=e}},{key:"save",value:function(){return this._saver?this._saver.save():Promise.resolve(!1)}},{key:"subscribe",value:function(e){return this._store.subscribe(e)}},{key:"setEditable",value:function(e){this._editable=e,e.setContent(this.getContent()),e.on("contentchange",(function(){}))}}]),e}();!function(e){e[e.EPlatformTypeNone=-1]="EPlatformTypeNone",e[e.EPlatformTypeBuiltin=0]="EPlatformTypeBuiltin",e[e.EPlatformTypeBrowser=1]="EPlatformTypeBrowser",e[e.EPlatformTypeLocal=2]="EPlatformTypeLocal",e[e.EPlatformTypeGeekEditor=3]="EPlatformTypeGeekEditor",e[e.EPlatformTypeGithub=4]="EPlatformTypeGithub",e[e.EPlatformTypeGitee=5]="EPlatformTypeGitee"}(A||(A={}));var M=n(125),I=n.n(M);function R(e,t,n,o){return new Promise((function(a,i){I.a.get(e,Object(x.a)({params:t,headers:Object(x.a)({},n)},o)).then((function(e){a(e)})).catch((function(e){console.log(e),a({error:e})}))}))}function L(e,t,n,o){return new Promise((function(a,i){I.a.put(e,t,Object(x.a)({headers:Object(x.a)({},n)},o)).then((function(e){a(e)})).catch((function(e){console.log(e),a({error:e})}))}))}function F(e,t,n,o){return new Promise((function(a,i){I.a.delete(e,Object(x.a)({params:Object(x.a)({},t),headers:Object(x.a)({},n)},o)).then((function(e){a(e)})).catch((function(e){console.log(e),a({error:e})}))}))}var B=function(e,t){return R("".concat("https://api.github.com","/user/repos"),{page:1,per_page:200,visibility:t||"all"},{authorization:"token ".concat(e)})},z=function(e,t){return R(e,{},{authorization:"token ".concat(t)})},U=function(e,t,n,o){return L(e,n,{authorization:"token ".concat(t)},o?{onUploadProgress:o}:{})},G=function(e,t,n){return F(e,n,{authorization:"token ".concat(t)})},H=n(27),W=n(140),q=n.n(W),V="$$_$$",Y=function(){function e(t){Object(p.a)(this,e),this._repo=void 0,this._cache=void 0,this._cacheDir=void 0,this._docRootUrl=void 0,this._docsUrl=void 0,this._repo=Object(x.a)({},t.repo),this._docRootUrl="https://api.github.com/repos/".concat(this._repo.owner.login,"/").concat(this._repo.name,"/contents"),this._docsUrl="https://api.github.com/repos/".concat(this._repo.owner.login,"/").concat(this._repo.name,"/contents/geekeditor_docs"),this._cache={geekeditor_docs:{url:this._docsUrl,type:"dir",name:"geekeditor_docs",sha:"",size:0,path:"geekeditor_docs"}},this._cacheDir={}}return Object(h.a)(e,[{key:"rootID",value:function(){return"geekeditor_docs"}},{key:"init",value:function(){var e=this;return z(this._docRootUrl,this._repo.token).then((function(t){if(t.error)return e.createDir(e._docRootUrl,e._repo.token,"","geekeditor_docs",!0).then((function(e){return e?{status:r.EInitResultStatusSuccess}:{status:r.EInitResultStatusFail}}));if(t.status>=200&&t.status<=400){var n=t.data||[],o=n.findIndex((function(e){return"geekeditor_docs"===e.path}));if(-1===o||"dir"!==n[o].type)return e.createDir(e._docRootUrl,e._repo.token,"","geekeditor_docs",!0).then((function(e){return e?{status:r.EInitResultStatusSuccess}:{status:r.EInitResultStatusFail}}))}return{status:r.EInitResultStatusSuccess}}))}},{key:"queryDocs",value:function(e,t){return-1===e&&(e="geekeditor_docs"),t===o.EDocsNodeTypeFile?this.getFile(this._docRootUrl,this._repo.token,e,!0):this.getDir(this._docRootUrl,this._repo.token,e,!0)}},{key:"addDoc",value:function(e){return e.pid?e.type===o.EDocsNodeTypeFile?this.createDoc(this._docRootUrl,this._repo.token,e.pid,this.addSubfix(this.trim(e.title)),e.content||"",!0).then((function(e){return e?e.id:void 0})):this.createDir(this._docRootUrl,this._repo.token,e.pid,this.trim(e.title),!0).then((function(e){return e?e.id:void 0})):Promise.resolve(void 0)}},{key:"updateDoc",value:function(e,t){var n=this,a=e,i=e.split("/");if(t.type===o.EDocsNodeTypeFile){var r=i[i.length-1],c=this.addSubfix(this.trim(t.title));return r===c?this.updateFile(this._docRootUrl,this._repo.token,a,t.content||"",!0).then((function(e){return e?e.path:z("".concat(n._docRootUrl,"/").concat(a),n._repo.token).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t)return n._cache[t.path]=t,t}})).then((function(e){if(e)return n.updateFile(n._docRootUrl,n._repo.token,a,t.content||"",!0).then((function(e){if(e)return e.path}))}))})):t.pid?this.createDoc(this._docRootUrl,this._repo.token,t.pid,c,t.content||"",!0).then((function(e){if(e)return n.deleteDoc(a,o.EDocsNodeTypeFile).then((function(){return e.id}))})):Promise.resolve(void 0)}var s=i[i.length-1],d=this._cacheDir[e],l=d?d.name.replace(/\.gedir$/,""):"",u=this.addDirSubfix("".concat(this.trim(t.title)).concat(V).concat(s));return u===l?this.updateFile(this._docRootUrl,this._repo.token,d.path,t.content||JSON.stringify({name:t.title,target:s}),!0).then((function(o){return o?e:z("".concat(n._docRootUrl,"/").concat(d.path),n._repo.token).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t)return n._cache[t.path]=t,t}})).then((function(o){if(o)return n.updateFile(n._docRootUrl,n._repo.token,d.path,t.content||JSON.stringify({name:t.title,target:s}),!0).then((function(t){if(t)return e}))}))})):t.pid?this.createDoc(this._docRootUrl,this._repo.token,t.pid,u,t.content||"",!0).then((function(t){if(t&&d)return n._cacheDir[e]=t,n.deleteDoc(d.path,o.EDocsNodeTypeFile).then((function(){return e}))})):Promise.resolve(void 0)}},{key:"deleteDoc",value:function(e,t){var n=this;if(t===o.EDocsNodeTypeFile)return this.deleteFile(this._docRootUrl,this._repo.token,e).then((function(t){return t||z("".concat(n._docRootUrl,"/").concat(e),n._repo.token).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t)return n._cache[t.path]=t,t}})).then((function(t){return!!t&&n.deleteFile(n._docRootUrl,n._repo.token,e).then((function(e){return e}))}))}));var a=this._cacheDir[e];return a?this.deleteDoc(a.path,o.EDocsNodeTypeFile):Promise.resolve(!1)}},{key:"trim",value:function(e){return e?e=e.replace(/\s/g,"").trim():e}},{key:"addSubfix",value:function(e){return/\.ge$/.test(e)?e:"".concat(e,".ge")}},{key:"deleteFile",value:function(e,t,n){var o=this,a=this._cache[n];return G("".concat(e,"/").concat(n),t,{message:"delete from GeekEditor",sha:a.sha}).then((function(e){return e.status>=200&&e.status<=400&&(delete o._cache[n],!0)}))}},{key:"updateFile",value:function(e,t,n,o,a){var i=this,r=this._cache[n];return U("".concat(e,"/").concat(n),t,{message:"update from GeekEditor",sha:r.sha,content:H.a.encode(o)}).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data.content;if(t)return a&&(i._cache[n]=t),t}}))}},{key:"addDirSubfix",value:function(e){return/\.gedir$/.test(e)?e:"".concat(e,".gedir")}},{key:"createDir",value:function(e,t,n,a,i){var r=this,c="".concat(Date.now()).concat(q()(a)),s=this.addDirSubfix("".concat(a).concat(V).concat(c)),d=n?"".concat(n,"/").concat(s):s,l=n?"".concat(n,"/").concat(c):c;return U("".concat(e,"/").concat(l,"/__index__"),t,{message:"create from GeekEditor",content:H.a.encode("geekeditor")}).then((function(n){return n.status>=200&&n.status<=400?U("".concat(e,"/").concat(d),t,{message:"create from GeekEditor",content:H.a.encode(JSON.stringify({name:a,target:c}))}):n})).then((function(o){return o.status>=200&&o.status<=400&&i?z("".concat(e,"/").concat(n),t):o})).then((function(e){if(e.status>=200&&e.status<=400){if(i)e.data.forEach((function(e){e.path!==l&&e.path!==d||(r._cache[e.path]=e,e.path===d&&(r._cacheDir[l]=e))}));return{id:l,pid:n,title:a,type:o.EDocsNodeTypeFolder}}}))}},{key:"createDoc",value:function(e,t,n,a,i,r,c){var s=this,d="".concat(n,"/").concat(a);return U("".concat(e,"/").concat(d),t,{message:"create from GeekEditor",content:H.a.encode(i)}).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data.content;if(t)return r&&(s._cache[d]=t),c?t:{id:d,pid:n,title:a,content:i,type:o.EDocsNodeTypeFile}}}))}},{key:"getFile",value:function(e,t,n,a){var i=this;return z("".concat(e,"/").concat(n),t).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t){a&&(i._cache[t.path]=t);var r=n.split("/");return r.pop(),[{id:t.path,pid:r.join("/"),title:t.name.replace(/\.ge$/,""),content:H.a.decode(t.content||""),type:o.EDocsNodeTypeFile}]}}return[]}))}},{key:"getDir",value:function(e,t,n,a){var i=this;return z("".concat(e,"/").concat(n),t).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t){var n=[],r=t.reduce((function(e,t){return"file"!==t.type&&(e[t.name]=t),e}),{});return t.forEach((function(e){if("__index__"!==e.name){a&&(i._cache[e.path]=e);var t=e.path.split("/");t.pop();var c=e.name;if(/\.ge$/.test(c)){var s={id:e.path,pid:t.join("/"),title:c.replace(/\.ge$/,""),type:o.EDocsNodeTypeFile};n.push(s)}else if(/\.gedir/.test(c)){var d=c.replace(/\.gedir$/,"").split(V);if(d.length>=2){var l=d[0],u=r[d[1]];if(u){var p={id:u.path,pid:t.join("/"),title:l,type:o.EDocsNodeTypeFolder};n.push(p),i._cacheDir[u.path]=e}}}}})),n.sort((function(e,t){return t.type-e.type}))}}return[]}))}},{key:"title",get:function(){return"GitHub[".concat(this._repo.name,"]")}}]),e}(),K=n(16),J="https://gitee.com/api/v5",Z=function(e,t){return R("".concat(J,"/user/repos"),{page:1,per_page:200,visibility:t||"all",access_token:e},{authorization:"token ".concat(e)})},X=function(e,t){return R(e,{access_token:t},{authorization:"token ".concat(t)})},Q=function(e,t,n,o){return n.sha?L(e,Object(x.a)(Object(x.a)({},n),{},{access_token:t}),{authorization:"token ".concat(t)},o?{onUploadProgress:o}:{}):function(e,t,n,o){return new Promise((function(a,i){I.a.post(e,t,Object(x.a)({headers:Object(x.a)({},n)},o)).then((function(e){a(e)})).catch((function(e){console.log(e),a({error:e})}))}))}(e,Object(x.a)(Object(x.a)({},n),{},{access_token:t}),{authorization:"token ".concat(t)},o?{onUploadProgress:o}:{})},$=function(e,t,n){return F(Object(K.a)(e,{access_token:t}),Object(x.a)({},n),{authorization:"token ".concat(t)})},ee="$$_$$",te=function(){function e(t){Object(p.a)(this,e),this._repo=void 0,this._cache=void 0,this._cacheDir=void 0,this._docRootUrl=void 0,this._docRootBranches=void 0,this._docsUrl=void 0,this._repo=Object(x.a)({},t.repo),this._docRootBranches="".concat(J,"/repos/").concat(this._repo.owner.login,"/").concat(this._repo.path,"/branches"),this._docRootUrl="".concat(J,"/repos/").concat(this._repo.owner.login,"/").concat(this._repo.path,"/contents"),this._docsUrl="".concat(J,"/repos/").concat(this._repo.owner.login,"/").concat(this._repo.path,"/contents/geekeditor_docs"),this._cache={geekeditor_docs:{url:this._docsUrl,type:"dir",name:"geekeditor_docs",sha:"",size:0,path:"geekeditor_docs"}},this._cacheDir={}}return Object(h.a)(e,[{key:"rootID",value:function(){return"geekeditor_docs"}},{key:"init",value:function(){var e=this;return X(this._docRootUrl,this._repo.token).then((function(t){if(t.error)return t.data&&"Branch"===t.data.message?{status:r.EInitResultStatusNoBranch}:e.createDir(e._docRootUrl,e._repo.token,"","geekeditor_docs",!0).then((function(e){return e?{status:r.EInitResultStatusSuccess}:{status:r.EInitResultStatusFail}}));if(t.status>=200&&t.status<=400){var n=t.data||[],o=n.findIndex((function(e){return"geekeditor_docs"===e.path}));if(-1===o||"dir"!==n[o].type)return e.createDir(e._docRootUrl,e._repo.token,"","geekeditor_docs",!0).then((function(e){return e?{status:r.EInitResultStatusSuccess}:{status:r.EInitResultStatusFail}}))}return{status:r.EInitResultStatusSuccess}}))}},{key:"queryDocs",value:function(e,t){return-1===e&&(e="geekeditor_docs"),t===o.EDocsNodeTypeFile?this.getFile(this._docRootUrl,this._repo.token,e,!0):this.getDir(this._docRootUrl,this._repo.token,e,!0)}},{key:"addDoc",value:function(e){return e.pid?e.type===o.EDocsNodeTypeFile?this.createDoc(this._docRootUrl,this._repo.token,e.pid,this.addSubfix(this.trim(e.title)),e.content||" ",!0).then((function(e){return e?e.id:void 0})):this.createDir(this._docRootUrl,this._repo.token,e.pid,this.trim(e.title),!0).then((function(e){return e?e.id:void 0})):Promise.resolve(void 0)}},{key:"updateDoc",value:function(e,t){var n=this,a=e,i=e.split("/");if(t.type===o.EDocsNodeTypeFile){var r=i[i.length-1],c=this.addSubfix(this.trim(t.title));return r===c?this.updateFile(this._docRootUrl,this._repo.token,a,t.content||"",!0).then((function(e){return e?e.path:X("".concat(n._docRootUrl,"/").concat(a),n._repo.token).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t)return n._cache[t.path]=t,t}})).then((function(e){if(e)return n.updateFile(n._docRootUrl,n._repo.token,a,t.content||"",!0).then((function(e){if(e)return e.path}))}))})):t.pid?this.createDoc(this._docRootUrl,this._repo.token,t.pid,c,t.content||"",!0).then((function(e){if(e)return n.deleteDoc(a,o.EDocsNodeTypeFile).then((function(){return e.id}))})):Promise.resolve(void 0)}var s=i[i.length-1],d=this._cacheDir[e],l=d?d.name.replace(/\.gedir$/,""):"",u=this.addDirSubfix("".concat(this.trim(t.title)).concat(ee).concat(s));return u===l?this.updateFile(this._docRootUrl,this._repo.token,d.path,t.content||JSON.stringify({name:t.title,target:s}),!0).then((function(o){return o?e:X("".concat(n._docRootUrl,"/").concat(d.path),n._repo.token).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t)return n._cache[t.path]=t,t}})).then((function(o){if(o)return n.updateFile(n._docRootUrl,n._repo.token,d.path,t.content||JSON.stringify({name:t.title,target:s}),!0).then((function(t){if(t)return e}))}))})):t.pid?this.createDoc(this._docRootUrl,this._repo.token,t.pid,u,t.content||"",!0).then((function(t){if(t&&d)return n._cacheDir[e]=t,n.deleteDoc(d.path,o.EDocsNodeTypeFile).then((function(){return e}))})):Promise.resolve(void 0)}},{key:"deleteDoc",value:function(e,t){var n=this;if(t===o.EDocsNodeTypeFile)return this.deleteFile(this._docRootUrl,this._repo.token,e).then((function(t){return t||X("".concat(n._docRootUrl,"/").concat(e),n._repo.token).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t)return n._cache[t.path]=t,t}})).then((function(t){return!!t&&n.deleteFile(n._docRootUrl,n._repo.token,e).then((function(e){return e}))}))}));var a=this._cacheDir[e];return a?this.deleteDoc(a.path,o.EDocsNodeTypeFile):Promise.resolve(!1)}},{key:"trim",value:function(e){return e?e=e.replace(/\s/g,"").trim():e}},{key:"addSubfix",value:function(e){return/\.ge$/.test(e)?e:"".concat(e,".ge")}},{key:"deleteFile",value:function(e,t,n){var o=this,a=this._cache[n];return $("".concat(e,"/").concat(n),t,{message:"delete from GeekEditor",sha:a.sha}).then((function(e){return e.status>=200&&e.status<=400&&(delete o._cache[n],!0)}))}},{key:"updateFile",value:function(e,t,n,o,a){var i=this,r=this._cache[n];return Q("".concat(e,"/").concat(n),t,{message:"update from GeekEditor",sha:r.sha,content:H.a.encode(o)}).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data.content;if(t)return a&&(i._cache[n]=t),t}}))}},{key:"addDirSubfix",value:function(e){return/\.gedir$/.test(e)?e:"".concat(e,".gedir")}},{key:"createDir",value:function(e,t,n,a,i){var r=this,c="".concat(Date.now()).concat(q()(a)),s=this.addDirSubfix("".concat(a).concat(ee).concat(c)),d=n?"".concat(n,"/").concat(s):s,l=n?"".concat(n,"/").concat(c):c;return Q("".concat(e,"/").concat(l,"/__index__"),t,{message:"create from GeekEditor",content:H.a.encode("geekeditor")}).then((function(n){return n.status>=200&&n.status<=400?Q("".concat(e,"/").concat(d),t,{message:"create from GeekEditor",content:H.a.encode(JSON.stringify({name:a,target:c}))}):n})).then((function(o){return o.status>=200&&o.status<=400&&i?X("".concat(e,"/").concat(n),t):o})).then((function(e){if(e.status>=200&&e.status<=400){if(i)e.data.forEach((function(e){e.path!==l&&e.path!==d||(r._cache[e.path]=e,e.path===d&&(r._cacheDir[l]=e))}));return{id:l,pid:n,title:a,type:o.EDocsNodeTypeFolder}}}))}},{key:"createDoc",value:function(e,t,n,a,i,r,c){var s=this,d="".concat(n,"/").concat(a);return Q("".concat(e,"/").concat(d),t,{message:"create from GeekEditor",content:H.a.encode(i)}).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data.content;if(t)return r&&(s._cache[d]=t),c?t:{id:d,pid:n,title:a,content:i,type:o.EDocsNodeTypeFile}}}))}},{key:"getFile",value:function(e,t,n,a){var i=this;return X("".concat(e,"/").concat(n),t).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t){a&&(i._cache[t.path]=t);var r=n.split("/");return r.pop(),[{id:t.path,pid:r.join("/"),title:t.name.replace(/\.ge$/,""),content:H.a.decode(t.content||""),type:o.EDocsNodeTypeFile}]}}return[]}))}},{key:"getDir",value:function(e,t,n,a){var i=this;return X("".concat(e,"/").concat(n),t).then((function(e){if(e.status>=200&&e.status<=400){var t=e.data;if(t){var n=[],r=t.reduce((function(e,t){return"file"!==t.type&&(e[t.name]=t),e}),{});return t.forEach((function(e){if("__index__"!==e.name){a&&(i._cache[e.path]=e);var t=e.path.split("/");t.pop();var c=e.name;if(/\.ge$/.test(c)){var s={id:e.path,pid:t.join("/"),title:c.replace(/\.ge$/,""),type:o.EDocsNodeTypeFile};n.push(s)}else if(/\.gedir/.test(c)){var d=c.replace(/\.gedir$/,"").split(ee);if(d.length>=2){var l=d[0],u=r[d[1]];if(u){var p={id:u.path,pid:t.join("/"),title:l,type:o.EDocsNodeTypeFolder};n.push(p),i._cacheDir[u.path]=e}}}}})),n.sort((function(e,t){return t.type-e.type}))}}return[]}))}},{key:"title",get:function(){return"Gitee[".concat(this._repo.name,"]")}}]),e}(),ne=n(85),oe=function(){function e(t){Object(p.a)(this,e),this._options=void 0,this._database=void 0,this._dbName=void 0,this._version=void 0,this._onUpgrade=void 0,this._dbName=t.dbName,this._version=t.version,this._onUpgrade=t.onUpgrade}return Object(h.a)(e,[{key:"open",value:function(){var e=this;return new Promise((function(t,n){if(e._database)t(e._database);else{var o=indexedDB.open(e._dbName,e._version);o.onsuccess=function(){e._database=o.result,t(e._database)},o.onerror=function(){n(o.error)},o.onupgradeneeded=function(){e._onUpgrade(o.result,e._version)}}}))}},{key:"close",value:function(){this._database&&this._database.close()}},{key:"doAction",value:function(e){var t=this;return new Promise((function(n,o){t.open().then((function(t){e(t,n,o)})).catch((function(e){o(e)}))}))}},{key:"queryAll",value:function(e,t){return this.doAction((function(n,o,a){var i=n.transaction([e],"readonly").objectStore(e).openCursor(),r=[];i.onerror=function(){a(i.error)},i.onsuccess=function(e){var n=e.target.result;n?(t?t(n.value)&&r.push(n.value):r.push(n.value),n.continue()):o(r)}}))}},{key:"query",value:function(e,t){return this.doAction((function(n,o,a){var i=n.transaction([t],"readonly").objectStore(t).get(e);i.onerror=function(){a(i.error)},i.onsuccess=function(e){var t=e.target.result;o(t)}}))}},{key:"add",value:function(e,t){return this.doAction((function(n,o,a){var i=n.transaction([t],"readwrite").objectStore(t).add(e);i.onsuccess=function(e){o(e.target.result)},i.onerror=function(){a(i.error)}}))}},{key:"del",value:function(e,t){return this.doAction((function(n,o,a){var i=n.transaction([t],"readwrite").objectStore(t).delete(e);i.onsuccess=function(e){o(e.target.result)},i.onerror=function(){a(i.error)}}))}},{key:"update",value:function(e,t,n){return this.doAction((function(n,o,a){var i=n.transaction([t],"readwrite").objectStore(t).put(e);i.onsuccess=function(e){o(e.target.result)},i.onerror=function(){a(i.error)}}))}}]),e}(),ae=function(){function e(t){var n=this;Object(p.a)(this,e),this._db=void 0,this._docsStoreName=void 0,this._contentsStoreName=void 0,this._token=void 0,this._db=new oe({dbName:"GeekEditorBuiltinDB",version:1,onUpgrade:function(e,t){n.upgradeDatabase(e,t)}}),this._docsStoreName="BuiltinDocs",this._contentsStoreName="BuiltinContents",this._token=t.token||"",this._db.open().then((function(e){n.setDefaultDocs()})).catch((function(e){}))}return Object(h.a)(e,[{key:"upgradeDatabase",value:function(e,t){var n;e.objectStoreNames.contains(this._docsStoreName)||((n=e.createObjectStore(this._docsStoreName,{keyPath:"id",autoIncrement:!0})).createIndex("idIndex","id",{unique:!0}),n.createIndex("titleIndex","title"));e.objectStoreNames.contains(this._contentsStoreName)||(n=e.createObjectStore(this._contentsStoreName,{keyPath:"doc_id"})).createIndex("docIdIndex","doc_id",{unique:!0})}},{key:"init",value:function(){return Promise.resolve({status:r.EInitResultStatusSuccess})}},{key:"rootID",value:function(){return-1}},{key:"queryDocs",value:function(e,t){var n=this;return t===o.EDocsNodeTypeFile?Promise.all([this._db.query(e,this._docsStoreName),this._db.query(e,this._contentsStoreName)]).then((function(e){var t={};return Object.assign(t,e[0],{content:H.a.decode(e[1]&&e[1].content||"")}),[t]})):this._db.queryAll(this._docsStoreName,(function(t){return t.pid===e&&n._token===t.token})).then((function(e){return e.reverse()}))}},{key:"addDoc",value:function(e){var t=this,n=e.content,a=Object(ne.a)(e,["content"]);return this._db.add(Object(x.a)(Object(x.a)({},a),{},{token:this._token}),this._docsStoreName).then((function(a){return e.type===o.EDocsNodeTypeFile?t._db.update({doc_id:a,content:H.a.encode(n||"")},t._contentsStoreName):a})).then((function(e){return e}))}},{key:"updateDoc",value:function(e,t){var n=this,a=t.content,i=Object(ne.a)(t,["content"]);return this._db.update(Object(x.a)(Object(x.a)({},i),{},{token:this._token}),this._docsStoreName,e).then((function(i){return t.type===o.EDocsNodeTypeFile?!!i&&n._db.update({doc_id:e,content:H.a.encode(a||"")},n._contentsStoreName):!!i})).then((function(t){return t?e:void 0}))}},{key:"deleteDoc",value:function(e,t){var n=this;return t===o.EDocsNodeTypeFolder&&this.queryDocs(e,o.EDocsNodeTypeFolder).then((function(e){e.forEach((function(e){n._db.del(e.id,n._docsStoreName).then((function(){return n._db.del(e.id,n._contentsStoreName)})).then((function(){return!0}))}))})),this._db.del(e,this._docsStoreName).then((function(){return n._db.del(e,n._contentsStoreName)})).then((function(){return!0}))}},{key:"setDefaultDocs",value:function(){var e=Object(_.a)(O.a.mark((function e(){var t,n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e,t){return{token:n._token,id:e,pid:-1,title:t,type:0}},this._db.update(t(1,"\u81f4\u5199\u4f5c\u8005"),this._docsStoreName,1),this._db.update({doc_id:1,content:H.a.encode(this.letter)},this._contentsStoreName),this._db.update(t(2,"\u65b0\u624b\u6559\u7a0b"),this._docsStoreName,2),this._db.update({doc_id:2,content:H.a.encode(this.instructions)},this._contentsStoreName),this._db.update(t(3,"$$"),this._docsStoreName,3),this._db.update({doc_id:3,content:H.a.encode(this.instructions)},this._contentsStoreName),this.deleteDoc(3,o.EDocsNodeTypeFile);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"title",get:function(){return"\u793a\u4f8b\u6587\u6863"}},{key:"instructions",get:function(){return'{"content":[{"key":"header","data":{"level":1,"content":"\u6781\u5ba2\u7f16\u8f91\u5668 GeekEditor \u65b0\u624b\u6559\u7a0b"},"common":{}},{"key":"paragraph","data":{"content":"<strong>\u6781\u5ba2\u7f16\u8f91\u5668</strong>\u662f\u4e00\u4e2a\u6240\u89c1\u5373\u6240\u5f97\uff08WYSIWYG\uff09\u5bcc\u6587\u672c\u6c89\u6d78\u5f0f\u81ea\u5a92\u4f53\u5199\u4f5c\u7f16\u8f91\u5668\uff0c\u5b83\u6ce8\u91cd\u9ad8\u6548\u521b\u4f5c\uff0c\u53ef\u591a\u5f00\u6587\u6863\u7f16\u8f91\uff0c\u540c\u65f6\u652f\u6301Markdown\u8bed\u6cd5\u8f93\u5165\u3002\u5b83\u91cd\u89c6\u5199\u4f5c\u8005\u5185\u5bb9\u9690\u79c1\u53ca\u6570\u636e\u5b89\u5168\uff0c\u76ee\u524d\u5df2\u652f\u6301\u672c\u5730\u3001Github\u53caGitee\u4ed3\u5e93\u6587\u6863\u5b58\u50a8\uff0c\u652f\u6301Github\u3001Gitee\u4ed3\u5e93\u56fe\u7247\u8d44\u6e90\u5b58\u50a8\u3002<br>\u5f53\u524d\uff0c\u7f16\u8f91\u5668\u9664\u4e86\u652f\u6301\u5e38\u7528\u5185\u5bb9\u5757\u5916\uff0c\u5e76\u652f\u6301\u4e86\u4ee3\u7801\u5757\u3001LaTex\u6570\u5b66\u516c\u5f0f\u3001Mermaid\u56fe\u8868\u3001Drawio\u5236\u56fe\uff0c\u53ef\u4ee5<strong>\u4e00\u952e\u590d\u5236/\u540c\u6b65\u5230\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u53ca\u6398\u91d1</strong>\u7b49\u5e73\u53f0\u53d1\u5e03\u3002\u6b64\u5916\uff0c\u7f16\u8f91\u5668\u652f\u6301\u4e86\u622a\u56fe\u7c98\u8d34\u4ee5\u53ca\u672c\u5730\u56fe\u7247\u6587\u4ef6\u62d6\u62fd\u81f3\u7f16\u8f91\u533a\u4efb\u610f\u4f4d\u7f6e\u7b49\u4fbf\u6377\u529f\u80fd\u3002<br><strong>\u5728\u7ebf\u7248</strong>\uff1a<a href=\\"https://www.geekeditor.com/\\">https://www.geekeditor.com</a><br><strong>\u684c\u9762\u8f6f\u4ef6\u5386\u53f2\u53d1\u5e03</strong>\uff1a<a href=\\"https://github.com/geekeditor/geekeditor-releases/releases\\">https://github.com/geekeditor/geekeditor-releases/releases</a><br><strong>\u6d4f\u89c8\u5668\u63d2\u4ef6</strong>\uff1a\u5f00\u53d1\u4e2d"},"common":{"quote":true}},{"key":"paragraph","data":{"content":"\u5386\u53f2\u7248\u672c\u8bb0\u5f55\uff1a<a href=\\"https://github.com/geekeditor/geekeditor-releases/blob/main/versions.md\\">https://github.com/geekeditor/geekeditor-releases/blob/main/versions.md</a><br>Issues\uff1a<a href=\\"https://github.com/geekeditor/geekeditor-releases/issues\\">https://github.com/geekeditor/geekeditor-releases/issues</a>"},"common":{}},{"key":"header","data":{"level":2,"content":"\u529f\u80fd\u7279\u5f81"},"common":{}},{"key":"todolist","data":{"items":[{"content":"<strong>\u884c\u5185\u683c\u5f0f</strong>\uff1a<strong>\u52a0\u7c97</strong>\u3001\u659c\u4f53\u3001<u>\u4e0b\u5212\u7ebf</u>\u3001<del>\u5220\u9664\u7ebf</del>\u3001<a href=\\"https://www.geekeditor.com\\">\u8d85\u94fe\u63a5</a>\u3001<mark>\u6807\u8bb0</mark>\u3001<code>\u884c\u5185\u4ee3\u7801</code>\u3001<sup>\u4e0a\u6807</sup>\u3001<sub>\u4e0b\u6807</sub>\uff0c\u5747\u652f\u6301\u5feb\u6377\u952e\u64cd\u4f5c","checked":true},{"content":"<strong>\u6807\u9898</strong>\uff1a1~6\u7ea7\u6807\u9898","checked":true},{"content":"<strong>\u56fe\u7247</strong>\uff1a\u4e0a\u4f20\u81f3Github/Gitee\u4ed3\u5e93\uff0c\u652f\u6301\u8bbe\u7f6e\u6807\u9898\uff0c\u652f\u6301\u56fe\u7247\u7f16\u8f91\u7f8e\u5316\uff0c\u652f\u6301\u62d6\u62fd\u672c\u5730\u56fe\u7247\u6587\u4ef6\u5230\u7f16\u8f91\u533a\uff08\u53ef\u81ea\u7531\u9009\u62e9\u4f4d\u7f6e\uff09\uff0c\u652f\u6301\u7c98\u8d34\u5176\u5b83\u8f6f\u4ef6\u622a\u56fe","checked":true},{"content":"<strong>\u6709\u5e8f\u5217\u8868/\u65e0\u5e8f\u5217\u8868</strong>\uff1a\u652f\u6301\u4e24\u8005\u4e4b\u95f4\u7684\u5feb\u6377\u8f6c\u6362","checked":true},{"content":"<strong>\u5f85\u529e\u4e8b\u9879</strong>\uff1a\u652f\u6301\u4e0e\u6709\u5e8f\u5217\u8868/\u65e0\u5e8f\u5217\u8868\u4e4b\u95f4\u8f6c\u6362","checked":true},{"content":"<strong>\u8868\u683c</strong>\uff1a\u652f\u6301\u8868\u683c\u884c\u5217\u5feb\u6377\u65b0\u589e\u53ca\u5220\u9664","checked":true},{"content":"<strong>\u4ee3\u7801\u5757</strong>\uff1a\u652f\u6301\u5e38\u89c1\u4ee3\u7801\u8bed\u8a00\u81ea\u52a8\u8bc6\u522b\u53ca\u9ad8\u4eae\u663e\u793a","checked":true},{"content":"<strong>\u5206\u5272\u7ebf</strong>","checked":true},{"content":"<strong>\u6570\u5b66\u516c\u5f0f</strong>\uff1a\u652f\u6301Tex\u884c\u5185\u516c\u5f0f\u53ca\u5757\u516c\u5f0f\u5feb\u6377\u7f16\u5199","checked":true},{"content":"<strong>Mermaid \u56fe\u8868</strong>\uff1a\u652f\u6301Mermaid\u8bed\u6cd5\u7f16\u5199","checked":true},{"content":"<strong>Drawio \u5236\u56fe</strong>\uff1a\u5185\u7f6e\u4e86Drawio\u5236\u56fe\u5de5\u5177\uff0c\u652f\u6301\u6d41\u7a0b\u56fe\u3001UML\u7b49\u5236\u56fe","checked":true},{"content":"<strong>\u4e3b\u9898\u6392\u7248</strong>\uff1a\u5185\u7f6e5\u4e2a\u4e3b\u9898\uff0c\u5e76\u652f\u6301\u81ea\u5b9a\u4e49\u7f16\u5199\u4e3b\u9898\u98ce\u683c","checked":true},{"content":"<strong>\u53d1\u5e03</strong>\uff1a\u652f\u6301\u590d\u5236\u53d1\u5e03\u5230\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u3001\u6398\u91d1\u5e73\u53f0\uff0c\u652f\u6301\u590d\u5236\u4e3aHTML\u3001Markdown\u53ca\u7eaf\u6587\u672c","checked":true}]},"common":{}},{"key":"header","data":{"level":2,"content":"\u57fa\u672c\u64cd\u4f5c"},"common":{}},{"key":"list","data":{"style":"unordered","items":[{"content":"<strong>\u63d2\u5165\u5185\u5bb9\u5757</strong>","style":"unordered","closed":false,"items":[{"content":"\u540e\u589e\u65b0\u7684\u6587\u5b57\u5185\u5bb9\u5757\uff1a\u79fb\u52a8\u5149\u6807\u5230\u76ee\u6807\u5185\u5bb9\u5757\uff0c\u6309Enter\u952e","style":"unordered","closed":false,"items":[]},{"content":"\u540c\u4e00\u4e2a\u6587\u5b57\u5185\u5bb9\u5757\u4e2d\u65b0\u589e\u6bb5\u843d/\u7a7a\u884c\uff1a\u79fb\u52a8\u5149\u6807\u5230\u76ee\u6807\u4f4d\u7f6e\u540e\uff0c\u6309Shift+Enter\u952e","style":"unordered","closed":false,"items":[]},{"content":"\u65b0\u589e\u5176\u5b83\u5185\u5bb9\u5757","style":"unordered","closed":false,"items":[{"content":"\u5728\u7a7a\u884c\uff0c\u6309Tab\u952e\u5f39\u51fa\u5de5\u5177\u680f\uff0c\u6309\u5de6\u3001\u53f3\u65b9\u5411\u952e(\u2190/\u2192\u952e)\u9009\u62e9\u8981\u65b0\u589e\u7c7b\u578b\uff0c\u6309Enter\u952e(\u6216\u9f20\u6807\u70b9\u51fb\u64cd\u4f5c)\u65b0\u5efa","style":"unordered","closed":false,"items":[]},{"content":"\u5728\u7a7a\u884c\uff0c\u8f93\u5165Markdown\u8bed\u6cd5\uff0c\u6309Space(\u6216Enter)\u952e\u65b0\u5efa","style":"unordered","closed":false,"items":[]}]}]},{"content":"<strong>\u63d2\u5165\u884c\u5185\u6570\u5b66\u516c\u5f0f</strong><strong>\uff1a</strong>\u5728\u5149\u6807\u5904\uff0c\u6309Insert\u952e\u5f39\u51fa\u6570\u5b66\u516c\u5f0f\u7f16\u5199\u6846","style":"unordered","closed":false,"items":[]},{"content":"<strong>\u884c\u5185\u6587\u5b57\u683c\u5f0f\u5316</strong>\uff1a","style":"unordered","closed":false,"items":[{"content":"\u9009\u4e2d\u6587\u5b57\uff0c\u5c06\u5f39\u51fa\u5de5\u5177\u680f\uff0c\u6309\u5de6\u3001\u53f3\u65b9\u5411\u952e(\u2190/\u2192\u952e)\u9009\u62e9\u8981\u683c\u5f0f\u5316\u7684\u7c7b\u578b\uff0c\u6309Enter\u952e(\u6216\u9f20\u6807\u70b9\u51fb\u64cd\u4f5c)\u786e\u8ba4","style":"unordered","closed":false,"items":[]},{"content":"\u6309\u4e0a\u3001\u4e0b\u65b9\u5411\u952e(\u2191\u2193)\u6216Esc\u952e\uff0c\u53d6\u6d88\u6587\u5b57\u9009\u4e2d\u53ca\u9690\u85cf\u5de5\u5177\u680f","style":"unordered","closed":false,"items":[]},{"content":"\u5feb\u6377\u952e\u64cd\u4f5c\uff0c\u8bf7\u70b9\u51fb\u7f16\u8f91\u5668\u53f3\u4e0a\u89d2\u2022\u2022\u2022\u6309\u94ae\u67e5\u770b","style":"unordered","closed":false,"items":[]}]},{"content":"<strong>\u7f16\u8f91\u56fe\u7247/\u516c\u5f0f/\u56fe\u8868/Drawio:</strong>","style":"unordered","closed":false,"items":[{"content":"\u9f20\u6807\u53cc\u51fb","style":"unordered","closed":false,"items":[]},{"content":"\u9009\u4e2d\u540e\uff0c\u6309Command/Ctrl + Enter\u952e","style":"unordered","closed":false,"items":[]}]}]},"common":{}},{"key":"header","data":{"level":2,"content":"Markdown\u8bed\u6cd5"},"common":{}},{"key":"list","data":{"style":"ordered","items":[{"content":"<strong>\u6807\u9898</strong>\uff08<code>#~#######</code>\uff1a\u4e00\u7ea7~\u516d\u7ea7\u6807\u9898\uff09","style":"unordered","closed":false,"items":[{"content":"\u7a7a\u4e8c\u7ea7\u6807\u9898\uff1a<code>##</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"\u5e26\u5185\u5bb9\u4e8c\u7ea7\u6807\u9898\uff1a<code>##\u6807\u9898</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]}]},{"content":"<strong>\u56fe\u7247</strong>","style":"unordered","closed":false,"items":[{"content":"\u7a7a\u56fe\u7247\u5185\u5bb9\u5757\uff1a<code>\uff01</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"\u6807\u9898\u4e0d\u4e3a\u7a7a\u7684\u56fe\u7247\u5185\u5bb9\u5757\uff1a<code>!(\u6807\u9898)</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"\u6807\u9898\u53ca\u56fe\u7247\u90fd\u4e0d\u4e3a\u7a7a\u7684\u56fe\u7247\u5185\u5bb9\u5757\uff1a<code>!(\u6807\u9898)[https://cdn.jsdelivr.net/gh/montisan/imagehosting/geekeditor_images/2021-7-12/1626067390603-qrcode_for_geekeditor.jpg]</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]}]},{"content":"<strong>\u5217\u8868</strong>","style":"unordered","closed":false,"items":[{"content":"\u6709\u5e8f\u5217\u8868\uff1a<code>1.</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"\u65e0\u5e8f\u5217\u8868\uff1a<code>-</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]}]},{"content":"<strong>\u5f85\u529e\u4e8b\u9879</strong>\uff1a<code>-[]</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"<strong>\u5206\u5272\u7ebf</strong>\uff1a<code>---</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"<strong>\u8868\u683c</strong>\uff1a<code>||</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"<strong>\u6570\u5b66\u516c\u5f0f</strong>\uff1a<code>$$</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"<strong>\u4ee3\u7801\u5757</strong>\uff1a<code>```</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"<strong>Mermaid\u56fe\u8868</strong>\uff1a<code>`mermaid</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]},{"content":"<strong>Drawio\u5236\u56fe</strong>\uff1a<code>`drawio</code><code>Space/Enter\u952e</code>","style":"unordered","closed":false,"items":[]}]},"common":{}},{"key":"header","data":{"level":2,"content":"\u4e2a\u4eba\u6570\u636e"},"common":{}},{"key":"list","data":{"style":"unordered","items":[{"content":"\u6240\u6709\u7684\u6587\u6863\u6570\u636e\u90fd\u4fdd\u5b58\u5728\u672c\u5730\u6216\u8005\u4e2a\u4eba\u4ed3\u5e93(Github/Gitee\u7b49)\uff0c\u5f53\u524d\u7f16\u8f91\u5668\u4e0d\u4e91\u5b58\u50a8\u4efb\u4f55\u6570\u636e\u3002","style":"unordered","closed":false,"items":[]}]},"common":{}},{"key":"list","data":{"style":"unordered","items":[{"content":"\u6570\u636e\u5b58\u50a8\u4f7f\u7528\u4e86JSON\u7eaf\u6587\u672c\u683c\u5f0f\uff0c\u672a\u6765\u5c06\u5f00\u6e90\u6838\u5fc3\u4ee3\u7801\uff0c\u63d0\u6d4f\u89c8\u89e3\u6790\u4ed3\u5e93\u91cc\u9762\u7684\u6587\u6863\uff0c\u652f\u6301\u590d\u5236\u3001\u5bfc\u51faHTML\u3001Markdown\u7b49\u683c\u5f0f\u6587\u672c\u3002","style":"unordered","closed":false,"items":[]}]},"common":{}},{"key":"header","data":{"level":2,"content":"\u4ed3\u5e93\u5b58\u50a8"},"common":{}},{"key":"paragraph","data":{"content":"<strong>\u793a\u4f8b\u6587\u6863</strong>"},"common":{}},{"key":"paragraph","data":{"content":"\u5982\u60a8\u6240\u89c1\uff0c\u6253\u5f00\u7f16\u8f91\u5668\u65f6\uff0c\u9ed8\u8ba4\u5185\u7f6e\u4e86\u4e00\u4e2a\u7684\u793a\u4f8b\u6587\u6863\u3002\u60a8\u53ef\u4ee5\u5728\u793a\u4f8b\u6587\u6863\u8fdb\u884c\u521d\u6b65\u64cd\u4f5c\u4f53\u9a8c\u3002<mark>\u63d0\u793a</mark>\uff1a<strong>\u56e0\u793a\u4f8b\u6587\u6863\u914d\u7f6e\u7684Github\u56fe\u5e8aAccessToken\u603b\u88ab\u4eba\u6076\u610f\u6e05\u9664\uff0c\u793a\u4f8b\u6587\u6863\u4e2d\u4e0d\u80fd\u6f14\u793a\u56fe\u7247\u4e0a\u4f20\u3002\u8bf7\u60a8\u914d\u7f6e\u4e2a\u4eba\u72ec\u7acb\u7684\u6587\u6863\u4ed3\u5e93\u53ca\u56fe\u5e8a\u540e\u518d\u8fdb\u884c\u5199\u4f5c\u3002\u793a\u4f8b\u6587\u6863\u53ef\u4ee5\u5728\u8bbe\u7f6e\u4e2d\u9690\u85cf</strong>\u3002"},"common":{}},{"key":"paragraph","data":{"content":"\u6ce8\uff1a\u793a\u4f8b\u6587\u6863\u4e2d\u9ed8\u8ba4\u5185\u7f6e\u7684\u6587\u6863\uff0c\u5982\u88ab\u4fee\u6539\uff0c\u5c06\u5728\u9875\u9762\u5237\u65b0\u540e\u88ab\u91cd\u7f6e\u3002"},"common":{}},{"key":"paragraph","data":{"content":"<strong>\u914d\u7f6e\u4ed3\u5e93</strong>"},"common":{}},{"key":"paragraph","data":{"content":"\u5728\u5de6\u4e0b\u89d2\u201c\u8bbe\u7f6e\u201d\u4e2d\u53ef\u4ee5\u914d\u7f6e\u5b58\u50a8\u4ed3\u5e93\uff0c\u65b0\u6dfb\u52a0\u65f6\uff0c\u9700\u8981\u914d\u7f6e\u4e24\u4e2a\u4ed3\u5e93\uff1a\u4e00\u4e2a\u6587\u6863\u5b58\u50a8\u4ed3\u5e93\uff0c\u4e00\u4e2a\u6587\u6863\u5bf9\u5e94\u7684\u56fe\u5e8a\u4ed3\u5e93\u3002\u76ee\u524d\uff0c\u6587\u6863\u652f\u6301\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u672c\u5730\u3001Github\u53caGitee\uff0c\u56fe\u7247\u652f\u6301\u5b58\u50a8\u5728Github\u53caGitee\uff08\u56fd\u5185\u63a8\u8350\uff09\u3002<code>\u6587\u6863\u4ed3\u5e93\u53ef\u8bbe\u7f6e\u516c\u5f00\u6216\u79c1\u6709\u4ed3\u5e93\uff0c\u5efa\u8bae\u4f7f\u7528\u79c1\u6709\u4ed3\u5e93\uff1b\u56fe\u5e8a\u5fc5\u987b\u4f7f\u7528\u516c\u5f00\u4ed3\u5e93</code>\u3002Github\u548cGitee\u5747\u4f7f\u7528Access Token\u7684\u65b9\u5f0f\u5b58\u53d6\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u60a8\u6ce8\u518c\u597dGithub\u8d26\u6237\u6216Gitee\u8d26\u6237\uff0c\u5e76\u5728\u5e73\u53f0\u8bbe\u7f6e\u91cc\u521b\u5efa\u597d\u53ef\u4ee5\u8bbf\u95ee\u4ed3\u5e93\u7684AccessToken\u3002"},"common":{}},{"key":"paragraph","data":{"content":"<strong>\u5982\u4f55\u83b7\u53d6Github Access Token?</strong>"},"common":{}},{"key":"paragraph","data":{"content":"\u524d\u5f80<code>https://github.com/</code>\u6ce8\u518c\u8d26\u53f7\u5e76\u767b\u5f55\uff0c\u7136\u540e\u6253\u5f00<code>https://github.com/settings/tokens</code>\u70b9\u51fb\u5de6\u4e0a\u89d2\u201c\u751f\u6210\u65b0\u4ee4\u724c(Generate new token)\u201d\u521b\u5efa\u3002"},"common":{}},{"key":"paragraph","data":{"content":"<strong>\u5982\u4f55\u83b7\u53d6Gitee Access Token?</strong>"},"common":{}},{"key":"paragraph","data":{"content":"\u524d\u5f80<code>https://gitee.com/</code>\u6ce8\u518c\u8d26\u53f7\u5e76\u767b\u5f55\uff0c\u7136\u540e\u6253\u5f00<code>https://gitee.com/profile/personal_access_tokens</code>\u70b9\u51fb\u5de6\u4e0a\u89d2\u201c\u751f\u6210\u65b0\u4ee4\u724c\u201d\u521b\u5efa\u3002"},"common":{}},{"key":"paragraph","data":{"content":"<strong>\u6ce8\u610f\u4e8b\u9879</strong>"},"common":{}},{"key":"paragraph","data":{"content":"\u914d\u7f6eGithub\u548cGitee\u4ed3\u5e93\u65f6\uff0c<code>\u8bf7\u786e\u4fdd\u4ed3\u5e93\u5df2\u521d\u59cb\u5316</code>\u3002Gitee\u65b0\u521b\u5efa\u4ed3\u5e93\u65f6\uff0c\u521d\u59cb\u5316\u9009\u9879\u9ed8\u8ba4\u662f\u975e\u9009\u4e2d\u72b6\u6001\uff0c\u8bf7\u5728\u521b\u5efa\u4ed3\u5e93\u7684\u65f6\u5019\u9009\u4e2d\u521d\u59cb\u5316\u4ed3\u5e93\u3002"},"common":{}},{"key":"paragraph","data":{"content":""},"common":{}}],"typeset":"default","layout":"print","basic":{"title":"","cover":"","summary":""}}'}},{key:"letter",get:function(){return'{"content":[{"key":"header","data":{"content":"\u81f4\u5199\u4f5c\u8005\uff1a","level":1},"common":{}},{"key":"paragraph","data":{"content":"<mark>\u6c89\u6d78\u5f0f\u6df1\u5ea6(\u6548\u7387)\u5199\u4f5c</mark>\uff0c\u662f\u8fd9\u6b3e\u7f16\u8f91\u5668\u7684\u957f\u671f\u76ee\u6807\u3002\u5982\u679c\u60a8\u70ed\u7231\u5199\u4e1c\u897f\uff0c\u751a\u81f3\u4e50\u4e8e\u5199\u957f\u6587\uff0c\u5e72\u8d27\u5206\u4eab\u6216\u8005\u6df1\u5ea6\u603b\u7ed3\u7b49\uff0c\u90a3\u4e48\uff0c\u8fd9\u6b3e\u7f16\u8f91\u5668\u7684\u5b58\u5728\u5c31\u662f\u4e3a\u60a8\u800c\u751f\u3002"},"common":{}},{"key":"paragraph","data":{"content":"\u8fd9\u6b3e\u7f16\u8f91\u5668\uff0c\u5c06\u4e0d\u4ec5\u4e3a\u5199\u4f5c\u8005\u63d0\u9ad8\u5199\u4f5c\u6548\u7387\uff0c\u540c\u65f6\u5c06\u63d0\u4f9b\u5f88\u591a\u6548\u7387\u521b\u4f5c\u5c0f\u5de5\u5177\uff0c\u6700\u7ec8\u6ee1\u8db3\u5199\u4f5c\u8005\u6700\u5927\u5316\u81ea\u7531\u8868\u8fbe\u3002"},"common":{}},{"key":"paragraph","data":{"content":"\u4ee5\u4e0b\uff0c\u662f\u7f16\u8f91\u5668\u9636\u6bb5\u6027\u76ee\u6807\u3002"},"common":{}},{"key":"header","data":{"content":"\u9636\u6bb5\u76ee\u6807","level":2},"common":{}},{"key":"paragraph","data":{"content":"1\uff09\u63d0\u4f9b<code>\u5c3d\u91cf\u591a\u7684\u5feb\u6377\u952e\u64cd\u4f5c</code>\uff0c\u5c3d\u91cf\u51cf\u5c11\u9f20\u6807\u4f7f\u7528\u3002"},"common":{}},{"key":"paragraph","data":{"content":"2\uff09\u63d0\u4f9b<code>\u5c3d\u91cf\u591a\u7684\u521b\u4f5c\u5c0f\u5de5\u5177</code>\uff0c\u8ba9\u5199\u4f5c\u8005\u6c89\u6d78\u5728\u4e00\u4e2a\u7f16\u8f91\u5668\u5c31\u80fd\u987a\u5229\u5b8c\u6210\u4e30\u5bcc\u7684\u5185\u5bb9\u3002"},"common":{}},{"key":"paragraph","data":{"content":"3\uff09<code>\u4e00\u952e\u6392\u7248</code>\uff0c\u652f\u6301\u4e2a\u6027\u5316\u4ee3\u7801\u6392\u7248\uff0c\u8ba9\u5199\u4f5c\u8005\u4e0d\u5fc5\u5728\u6392\u7248\u4e0a\u8017\u8d39\u7cbe\u529b\u65f6\u95f4\u3002"},"common":{}},{"key":"paragraph","data":{"content":"4\uff09\u4e13\u6ce8\u5728\u7f16\u8f91\u5668\u5de5\u5177\u4e0a\uff0c\u5c06\u652f\u6301<code>\u5c3d\u53ef\u80fd\u591a\u7684\u7b2c\u4e09\u65b9\u4e91\u5e73\u53f0\u6765\u4f9b\u5199\u4f5c\u8005\u9009\u62e9\u5b58\u50a8\u5185\u5bb9\u53ca\u56fe\u7247\u7b49\u5a92\u4f53\u8d44\u6e90</code>\u3002"},"common":{}},{"key":"paragraph","data":{"content":"5\uff09\u5bf9\u63a5\u517c\u5bb9\u5c3d\u53ef\u80fd\u591a\u7684\u53d1\u5e03\u5e73\u53f0\uff0c\u8ba9\u5199\u4f5c\u8005<code>\u4e00\u5904\u521b\u4f5c\uff0c\u591a\u5904\u4f4e\u6210\u672c\u53d1\u5e03</code>\u3002"},"common":{}},{"key":"paragraph","data":{"content":"<strong>\u8bf7\u5173\u6ce8\u4ee5\u4e0b\u516c\u4f17\u53f7\u8054\u7cfb\u5f00\u53d1\u8005\uff0c\u53cd\u9988\u5e76\u4e86\u89e3\u540e\u7eed\u7248\u672c\u8fed\u4ee3\u7b49</strong>\u3002"},"common":{}},{"key":"image","data":{"image":{"url":"https://cdn.jsdelivr.net/gh/montisan/imagehosting/geekeditor_images/2021-7-12/1626067390603-qrcode_for_geekeditor.jpg"},"caption":"\u6781\u5ba2\u7f16\u8f91\u5668\u516c\u4f17\u53f7","withCaption":true},"common":{}},{"key":"paragraph","data":{"content":""},"common":{}}],"typeset":"default","layout":"print"}'}}]),e}(),ie=function(){function e(t){var n=this;Object(p.a)(this,e),this._db=void 0,this._docsStoreName=void 0,this._contentsStoreName=void 0,this._token=void 0,this._db=new oe({dbName:"GeekEditorDB",version:1,onUpgrade:function(e,t){n.upgradeDatabase(e,t)}}),this._docsStoreName="Docs",this._contentsStoreName="Contents",this._token=t.token||""}return Object(h.a)(e,[{key:"upgradeDatabase",value:function(e,t){var n;e.objectStoreNames.contains(this._docsStoreName)||((n=e.createObjectStore(this._docsStoreName,{keyPath:"id",autoIncrement:!0})).createIndex("idIndex","id",{unique:!0}),n.createIndex("titleIndex","title"));e.objectStoreNames.contains(this._contentsStoreName)||(n=e.createObjectStore(this._contentsStoreName,{keyPath:"doc_id"})).createIndex("docIdIndex","doc_id",{unique:!0})}},{key:"init",value:function(){return Promise.resolve({status:r.EInitResultStatusSuccess})}},{key:"rootID",value:function(){return-1}},{key:"queryDocs",value:function(e,t){var n=this;return t===o.EDocsNodeTypeFile?Promise.all([this._db.query(e,this._docsStoreName),this._db.query(e,this._contentsStoreName)]).then((function(e){var t={};return Object.assign(t,e[0],{content:H.a.decode(e[1]&&e[1].content||"")}),[t]})):this._db.queryAll(this._docsStoreName,(function(t){return t.pid===e&&n._token===t.token})).then((function(e){return e.reverse()}))}},{key:"addDoc",value:function(e){var t=this,n=e.content,a=Object(ne.a)(e,["content"]);return this._db.add(Object(x.a)(Object(x.a)({},a),{},{token:this._token}),this._docsStoreName).then((function(a){return e.type===o.EDocsNodeTypeFile?t._db.update({doc_id:a,content:H.a.encode(n||"")},t._contentsStoreName):a})).then((function(e){return e}))}},{key:"updateDoc",value:function(e,t){var n=this,a=t.content,i=Object(ne.a)(t,["content"]);return this._db.update(Object(x.a)(Object(x.a)({},i),{},{token:this._token}),this._docsStoreName,e).then((function(i){return t.type===o.EDocsNodeTypeFile?!!i&&n._db.update({doc_id:e,content:H.a.encode(a||"")},n._contentsStoreName):!!i})).then((function(t){return t?e:void 0}))}},{key:"deleteDoc",value:function(e,t){var n=this;return t===o.EDocsNodeTypeFolder&&this.queryDocs(e,o.EDocsNodeTypeFolder).then((function(e){e.forEach((function(e){n._db.del(e.id,n._docsStoreName).then((function(){return n._db.del(e.id,n._contentsStoreName)})).then((function(){return!0}))}))})),this._db.del(e,this._docsStoreName).then((function(){return n._db.del(e,n._contentsStoreName)})).then((function(){return!0}))}},{key:"title",get:function(){return"\u6d4f\u89c8\u5668[".concat(this._token.substr(0,1),"***").concat(this._token.substr(this._token.length-1),"]")}}]),e}(),re=n(39),ce="Win32"==navigator.platform||"Windows"==navigator.platform,se=function(){function e(t){Object(p.a)(this,e),this._rootPath=void 0,this._rootPath=t.rootPath}return Object(h.a)(e,[{key:"init",value:function(){var e=this;return re.a.get({path:this._rootPath,type:"dir"}).then((function(t){return t.status>=200&&t.status<=400?{status:r.EInitResultStatusSuccess}:e.createDir(e._rootPath,"","").then((function(e){return e?{status:r.EInitResultStatusSuccess}:{status:r.EInitResultStatusFail}}))}))}},{key:"rootID",value:function(){return-1}},{key:"queryDocs",value:function(e,t){return-1===e&&(e=""),t===o.EDocsNodeTypeFile?this.getFile(this._rootPath,e):this.getDir(this._rootPath,e)}},{key:"addDoc",value:function(e){return e.pid?e.type===o.EDocsNodeTypeFile?this.createDoc(this._rootPath,e.pid,this.addSubfix(this.trim(e.title)),e.content||"").then((function(e){return e?e.id:void 0})):this.createDir(this._rootPath,e.pid,this.trim(e.title)).then((function(e){return e?e.id:void 0})):Promise.resolve(void 0)}},{key:"updateDoc",value:function(e,t){var n=this,a=e;if(!t.pid)return Promise.resolve(void 0);if(t.type===o.EDocsNodeTypeFile){var i=e.split("/").pop(),r=this.addSubfix(this.trim(t.title));return i===r?this.updateFile(this._rootPath,a,t.content||"").then((function(e){if(e)return e})):t.pid?this.createDoc(this._rootPath,t.pid,r,t.content||"").then((function(e){if(e)return n.deleteDoc(a,o.EDocsNodeTypeFile).then((function(){return e.id}))})):Promise.resolve(void 0)}var c="".concat(this._rootPath).concat(ce?"\\":"/").concat(a),s="".concat(t.pid).concat(ce?"\\":"/").concat(t.title),d="".concat(this._rootPath).concat(ce?"\\":"/").concat(s);return s!==a?this.renameDoc(c,d,t.type).then((function(e){if(e.status>=200&&e.status<=400)return n.deletePath(n._rootPath,a,t.type).then((function(){return s}))})):Promise.resolve(void 0)}},{key:"deleteDoc",value:function(e,t){return this.deletePath(this._rootPath,e,t).then((function(e){return e}))}},{key:"renameDoc",value:function(e,t,n){return re.a.rename({path:e,newPath:t,type:n===o.EDocsNodeTypeFile?"file":"dir"})}},{key:"trim",value:function(e){return e?e=e.replace(/\s/g,"").trim():e}},{key:"addSubfix",value:function(e){return/\.ge$/.test(e)?e:"".concat(e,".ge")}},{key:"deletePath",value:function(e,t,n){return re.a.del({path:"".concat(e,"/").concat(t),type:n===o.EDocsNodeTypeFile?"file":"dir"}).then((function(e){return e.status>=200&&e.status<=400}))}},{key:"updateFile",value:function(e,t,n){return re.a.put({path:"".concat(e,"/").concat(t),type:"file",content:H.a.encode(n)}).then((function(e){if(e.status>=200&&e.status<=400)return t}))}},{key:"createDir",value:function(e,t,n){var a=[t&&"-1"!=t?"".concat(t,"/"):"",n||""].join("");return re.a.put({path:"".concat(e,"/").concat(a),type:"dir"}).then((function(e){if(e.status>=200&&e.status<=400)return{id:a,pid:t,title:n,type:o.EDocsNodeTypeFolder}}))}},{key:"createDoc",value:function(e,t,n,a){var i="-1"==t?n:"".concat(t,"/").concat(n);return re.a.put({path:"".concat(e,"/").concat(i),type:"file",content:H.a.encode(a)}).then((function(e){if(e.status>=200&&e.status<=400&&e.data)return{id:i,pid:t,title:n.replace(/\.ge$/,""),content:a,type:o.EDocsNodeTypeFile}}))}},{key:"getFile",value:function(e,t){return re.a.get({path:"".concat(e,"/").concat(t),type:"file"}).then((function(e){if(e.status>=200&&e.status<=400){var n=e.data;if(n){var a=t.split("/");return a.pop(),[{id:t,pid:a.join("/"),title:n.name.replace(/\.ge$/,""),content:H.a.decode(n.content||""),type:o.EDocsNodeTypeFile}]}}return[]}))}},{key:"getDir",value:function(e,t){return re.a.get({path:t.length?"".concat(e,"/").concat(t):e,type:"dir"}).then((function(t){if(t.status>=200&&t.status<=400){var n=t.data;if(n){var a=[];return n.forEach((function(t){if(/\.ge$/.test(t.name)||"file"!==t.type){var n=t.fullpath.substr(e.length+1),i=n.split("/");i.pop();var r={id:n,pid:i.length?i.join("/"):-1,title:t.name.replace(/\.ge$/,""),type:"file"===t.type?o.EDocsNodeTypeFile:o.EDocsNodeTypeFolder};a.push(r)}})),a.sort((function(e,t){return t.type-e.type}))}}return[]}))}},{key:"title",get:function(){var e=this._rootPath.split("/").pop()||"";return"\u78c1\u76d8[".concat(e.split("\\").pop()||"","]")}}]),e}(),de=function(){function e(t){Object(p.a)(this,e),this._repo=void 0,this._imageJsdelivrUrl=void 0,this._imagesUrl=void 0,this._imageRootUrl=void 0,this._hostRegexs=void 0,this._repo=Object(x.a)({},t.repo),this._imageJsdelivrUrl="https://cdn.jsdelivr.net/gh/".concat(this._repo.owner.login,"/").concat(this._repo.name,"/geekeditor_images"),this._imageRootUrl="https://api.github.com/repos/".concat(this._repo.owner.login,"/").concat(this._repo.name,"/contents"),this._imagesUrl="https://api.github.com/repos/".concat(this._repo.owner.login,"/").concat(this._repo.name,"/contents/geekeditor_images"),this._hostRegexs=[new RegExp("https://cdn.jsdelivr.net/gh/".concat(this._repo.owner.login,"/").concat(this._repo.name)),new RegExp("https://raw.githubusercontent.com/".concat(this._repo.owner.login,"/").concat(this._repo.name))]}return Object(h.a)(e,[{key:"init",value:function(){return z(this._imageRootUrl,this._repo.token).then((function(e){return e.error?{status:r.EInitResultStatusFail}:{status:r.EInitResultStatusSuccess}}))}},{key:"uploadImage",value:function(e,t){var n=this;return new Promise((function(o){var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),r=new FileReader;r.readAsDataURL(e);var c=e.type.match(/image\/(.*)/),s=c?c[1]:"jpg";r.onload=function(r){if(r.target&&r.target.result&&"string"===typeof r.target.result){var c=r.target.result.split(",").pop()||"",d="".concat(a.getTime(),"-").concat(e.name||"image"),l=new RegExp(".".concat(s,"$"));s&&!l.test(d)&&(d="".concat(d,".").concat(s)),n.uploadFile(n._imagesUrl,n._repo.token,i,d,c,t).then((function(e){if(e){var t={filename:e.name,url:encodeURI("".concat(n._imageJsdelivrUrl,"/").concat(i,"/").concat(d))};o(t)}else o(void 0)}))}else o(void 0)}}))}},{key:"uploadSVG",value:function(e,t){var n=this;return new Promise((function(o){var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),r="".concat(a.getTime(),"-svg.svg"),c=H.a.encode(e);n.uploadFile(n._imagesUrl,n._repo.token,i,r,c,t).then((function(e){if(e){var t={filename:e.name,url:encodeURIComponent("".concat(n._imageJsdelivrUrl,"/").concat(i,"/").concat(r))};o(t)}else o(void 0)}))}))}},{key:"checkHostMatched",value:function(e){return this._hostRegexs.some((function(t){return t.test(e)}))}},{key:"uploadFile",value:function(e,t,n,o,a,i){var r="".concat(n,"/").concat(o);return U("".concat(e,"/").concat(r),t,{message:"upload from GeekEditor",content:a},i).then((function(e){if(e.status>=200&&e.status<=400)return e.data.content}))}}]),e}(),le=function(){function e(t){Object(p.a)(this,e),this._repo=void 0,this._imageRootUrl=void 0,this._imagesUrl=void 0,this._hostRegexs=void 0,this._repo=Object(x.a)({},t.repo),this._imageRootUrl="".concat(J,"/repos/").concat(this._repo.owner.login,"/").concat(this._repo.path,"/contents"),this._imagesUrl="".concat(J,"/repos/").concat(this._repo.owner.login,"/").concat(this._repo.path,"/contents/geekeditor_images"),this._hostRegexs=[new RegExp("https://gitee.com/".concat(this._repo.owner.login,"/").concat(this._repo.path))]}return Object(h.a)(e,[{key:"init",value:function(){return X(this._imageRootUrl,this._repo.token).then((function(e){return e.error?e.data&&"Branch"===e.data.message?{status:r.EInitResultStatusNoBranch}:{status:r.EInitResultStatusFail}:{status:r.EInitResultStatusSuccess}}))}},{key:"uploadImage",value:function(e,t){var n=this;return new Promise((function(o){var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),r=new FileReader;r.readAsDataURL(e);var c=e.type.match(/image\/(.*)/),s=c?c[1]:"jpg";r.onload=function(r){if(r.target&&r.target.result&&"string"===typeof r.target.result){var c=r.target.result.split(",").pop()||"",d="".concat(a.getTime(),"-").concat(e.name||"image"),l=new RegExp(".".concat(s,"$"));s&&!l.test(d)&&(d="".concat(d,".").concat(s)),n.uploadFile(n._imagesUrl,n._repo.token,i,d,c,t).then((function(e){if(e){var t={filename:e.name,url:e.download_url||""};o(t)}else o(void 0)}))}else o(void 0)}}))}},{key:"uploadSVG",value:function(e,t){var n=this;return new Promise((function(o){var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),r="".concat(a.getTime(),"-svg.svg"),c=H.a.encode(e);n.uploadFile(n._imagesUrl,n._repo.token,i,r,c,t).then((function(e){if(e){var t={filename:e.name,url:e.download_url||""};o(t)}else o(void 0)}))}))}},{key:"checkHostMatched",value:function(e){return this._hostRegexs.some((function(t){return t.test(e)}))}},{key:"uploadFile",value:function(e,t,n,o,a,i){var r="".concat(n,"/").concat(o);return Q("".concat(e,"/").concat(r),t,{message:"upload from GeekEditor",content:a},i).then((function(e){if(e.status>=200&&e.status<=400)return e.data.content}))}}]),e}(),ue=function(){function e(t){Object(p.a)(this,e),this._rootPath=void 0,this._hostRegexs=void 0,this._rootPath=t.rootPath,this._hostRegexs=[/\/file\?path=/]}return Object(h.a)(e,[{key:"init",value:function(){var e=Object(_.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{status:r.EInitResultStatusSuccess});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadImage",value:function(e,t){var n=this;return new Promise((function(o){var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),r=new FileReader;r.readAsDataURL(e);var c=e.type.match(/image\/(.*)/),s=c?c[1]:"jpg";r.onload=function(r){if(r.target&&r.target.result&&"string"===typeof r.target.result){var c=r.target.result.split(",").pop()||"",d=e.path||"",l="".concat(a.getTime(),"-").concat(e.name||"image"),u=new RegExp(".".concat(s,"$"));s&&!u.test(l)&&(l="".concat(l,".").concat(s)),n.uploadFile(n._rootPath,i,l,c,d,t).then((function(e){if(e){var t={filename:e.name,url:"/file?path=".concat(encodeURIComponent(e.fullpath))};o(t)}else o(void 0)}))}else o(void 0)}}))}},{key:"uploadSVG",value:function(e,t){var n=this;return new Promise((function(o){var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),r="".concat(a.getTime(),"-svg.svg"),c=H.a.encode(e);n.uploadFile(n._rootPath,i,r,c,void 0,t).then((function(e){if(e){var t={filename:e.name,url:"/file?path=".concat(encodeURIComponent(e.fullpath))};o(t)}else o(void 0)}))}))}},{key:"checkHostMatched",value:function(e){return this._hostRegexs.some((function(t){return t.test(e)}))}},{key:"uploadFile",value:function(e,t,n,o,a,i){var r="".concat(t,"/").concat(n);return re.a.put({path:"".concat(e,"/").concat(r),type:"image",content:o,source:a},i).then((function(e){if(e.status>=200&&e.status<=400)return e.data}))}}]),e}(),pe=0,he=Date.now();function fe(){return"".concat(he).concat(++pe)}function be(e,t,n){var o=[];return e.forEach((function(e){var a=new xe({parentNode:t,nodeType:e.type,data:{title:e.title,content:e.content,cover:e.cover},dao:n.createDAO({type:e.type,parentNode:t,id:e.id})});o.push(a)})),o}function me(e,t){var n=e.children();if(n&&n.length)for(var o,a=0;o=n[a];)me(o,t),o.parentNode()&&(o.children()&&o.children().length&&t(o),o.parentNode()&&a++);else t(e)}function ge(e){var t=[];t.push(e);for(var n=e.parentNode();n&&n.parentNode();)t.push(n),n=n.parentNode();return t.reverse()}function ve(e){var t;if(e.platform===A.EPlatformTypeBuiltin)t=new ae({token:e.token});else if(e.platform===A.EPlatformTypeBrowser)t=new ie({token:e.token});else if(e.platform===A.EPlatformTypeLocal)t=new se({rootPath:e.repo});else if(e.platform===A.EPlatformTypeGithub)try{var n=JSON.parse(e.repo);t=new Y({repo:n})}catch(a){console.log(a)}else if(e.platform===A.EPlatformTypeGitee)try{var o=JSON.parse(e.repo);t=new te({repo:o})}catch(a){console.log(a)}return t}function ye(e){var t;if(e.platform===A.EPlatformTypeGithub)try{var n=JSON.parse(e.repo);t=new de({repo:n})}catch(a){console.log(a)}else if(e.platform===A.EPlatformTypeGitee)try{var o=JSON.parse(e.repo);t=new le({repo:o})}catch(a){console.log(a)}else e.platform===A.EPlatformTypeLocal&&(t=new ue({rootPath:e.repo}));return t}var je=n(62),xe=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;Object(p.a)(this,n),(o=t.call(this))._tempID=void 0,o._nodeType=void 0,o._dao=void 0,o._store=void 0,o._children=void 0,o._isChanged=void 0,o._isLoaded=void 0,o._isRemoved=void 0,o._unsubcribe=void 0,o._lastTitle=void 0,o._isSaving=void 0,o._isLoading=void 0,o._isRemoving=void 0,o._editable=void 0,o._autoSaveFn=void 0,o._changeTimestamp=void 0,o._bakArress=void 0;var a=e.nodeType;return o._tempID=fe(),o._nodeType=a,o._dao=e.dao,e.store?o._store=e.store:o._store=new P({data:e.data}),o._lastTitle=o._store.getTitle(),o._unsubcribe=o._store.subscribe((function(){var e=o._store.getTitle();e!==o._lastTitle&&(o.notifyChangedHandlers(i.EDocsNodeChangeTypeTitle),o._lastTitle=e)})),o._store.setSaver(Object(N.a)(o)),e.data&&(o._store.setTitle(e.data.title||""),o._store.setContent(e.data.content||"")),o._children=[],o._isChanged=!1,o._changeTimestamp=0,o._isLoaded=!o.id(),o._isRemoved=!o.parentNode(),o._isSaving=!1,o._isRemoving=!1,o._autoSaveFn=Object(je.a)((function(){o._isChanged&&o.save()}),3e3),o}return Object(h.a)(n,[{key:"store",value:function(){return this._store}},{key:"setDAO",value:function(e){this._dao=e}},{key:"onRemoved",value:function(){}},{key:"offRemoved",value:function(){}},{key:"save",value:function(){var e=Object(_.a)(O.a.mark((function e(){var t,n,a,r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._dao||this._isSaving){e.next=9;break}return t=Date.now(),this._editable&&(n=this._editable.getContent(!0),this._store.setContent(n)),a=this._nodeType===o.EDocsNodeTypeFile?{content:this._store.getContent(),title:this._store.getTitle()}:{title:this._store.getTitle()},this._isSaving=!0,this.notifyChangedHandlers(i.EDocsNodeChangeTypeSaving),e.abrupt("return",this._dao.save(a).then((function(e){return r._isSaving=!1,e&&r._isChanged&&t>=r._changeTimestamp&&(r._isChanged=!1,r.notifyChangedHandlers(i.EDocsNodeChangeTypeChanging)),r.notifyChangedHandlers(i.EDocsNodeChangeTypeSaving),e})));case 9:return e.abrupt("return",Promise.resolve(!1));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyChangedHandlers",value:function(e){this.trigger("change",e)}},{key:"id",value:function(){if(this._dao)return this._dao.id()}},{key:"isRoot",value:function(){return!this.id()}},{key:"root",value:function(){var e=this.parentNode();return e?e.root():this}},{key:"tempID",value:function(){return this._tempID}},{key:"title",value:function(){return this._store.getTitle()}},{key:"setTitle",value:function(e){this.title()!==e&&(this._store.setTitle(e),this.save())}},{key:"content",value:function(){return this._store.getContent()}},{key:"setEditable",value:function(e){var t=this;this._editable=e,this._editable.setOpt("uploadImage",function(){var e=Object(_.a)(O.a.mark((function e(n,o){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(a=t._dao)||void 0===a?void 0:a.uploadImage(n,o));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this._editable.setOpt("uploadSVG",function(){var e=Object(_.a)(O.a.mark((function e(n,o){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(a=t._dao)||void 0===a?void 0:a.uploadSVG(n,o));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this._editable.setOpt("checkImageHostMatched",(function(e){var n;return null===(n=t._dao)||void 0===n?void 0:n.checkImageHostMatched(e)})),this._editable.setOpt("uploadImageByUrl",function(){var e=Object(_.a)(O.a.mark((function e(n){var o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(o=t._dao)||void 0===o?void 0:o.uploadImageByUrl(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._isLoaded&&e.setContent(this._store.getContent());var n=e.command("basic");if(n){var o=n.queryCommandValue;o&&(n.queryCommandValue=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var r=null===o||void 0===o?void 0:o.call.apply(o,[t._editable,e].concat(a));return r.title=r.title||t.title(),r})}e.on("contentchange",(function(){t._isChanged||(t._isChanged=!0,t._changeTimestamp=Date.now(),t.notifyChangedHandlers(i.EDocsNodeChangeTypeChanging)),t._autoSaveFn()})),this._editable.on("save",(function(){t.save()}))}},{key:"nodeType",value:function(){return this._nodeType}},{key:"providerType",value:function(){var e=this.parentNode();return e?e.providerType():a.EDocsProviderTypeMemory}},{key:"isChanged",value:function(){return this._isChanged}},{key:"isLoaded",value:function(){return this._isLoaded}},{key:"isSaving",value:function(){return this._isSaving}},{key:"isLoading",value:function(){return this._isLoading}},{key:"isRemoving",value:function(){return this._isRemoving}},{key:"load",value:function(){var e=this;return this._dao&&!this._isLoading?(this._isLoading=!0,this.notifyChangedHandlers(i.EDocsNodeChangeTypeLoading),this._dao.load().then((function(t){if(e._isLoading=!1,e._nodeType===o.EDocsNodeTypeFolder&&e._dao){var n=be(t,e,e._dao.provider()).map((function(t){var n=e._children.findIndex((function(e){return e.id()===t.id()&&e.nodeType()===t.nodeType()}));if(-1!==n){var o=e._children[n];return e._children.splice(n,1),o}return t}));e._children.forEach((function(e){e.nodeType()===o.EDocsNodeTypeFolder?me(e,(function(e){e.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoved)})):e.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoved)})),e._children=n,e._isLoaded=!0}else{var a=t[0];a&&(e._store.setContent(a.content||""),e._editable&&e._editable.setContent(a.content||""),e._store.setTitle(a.title||""),e._isLoaded=!0)}return e.notifyChangedHandlers(i.EDocsNodeChangeTypeLoading),e._isLoaded}))):Promise.resolve(!0)}},{key:"createNode",value:function(e){var t=this;return e.parentNode=this,this._dao?this._dao.createNode(e).then((function(e){return e&&t.notifyChangedHandlers(i.EDocsNodeChangeTypeChildren),e})):Promise.resolve(void 0)}},{key:"suportCreateNode",value:function(e){return this._nodeType===o.EDocsNodeTypeFolder}},{key:"suportReloadNode",value:function(){return!0}},{key:"children",value:function(){return this._children}},{key:"parentNode",value:function(){if(this._dao)return this._dao.parentNode()}},{key:"mount",value:function(e){var t=this,n=this.parentNode();if(n){var o=n.children();if(-1===o.findIndex((function(e){return e.tempID()===t.tempID()}))){if(e)o.unshift(this);else{var a=o.findIndex((function(e){return e.title()>t.title()&&e.nodeType()===t.nodeType()||e.nodeType()<t.nodeType()}));0===a?o.unshift(this):-1===a?o.push(this):o.splice(a,0,this)}n.notifyChangedHandlers(i.EDocsNodeChangeTypeChildren)}return this._isRemoved=!1,this.id()?Promise.resolve(!0):this.save().then((function(e){return e||t.remove(),e}))}return Promise.resolve(!1)}},{key:"remove",value:function(){var e=this,t=this.parentNode();return this._dao&&t&&!this._isRemoving?(this._isRemoving=!0,this.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoving),this._dao.delete().then((function(n){if(e._isRemoving=!1,e.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoving),n){var o=t.children(),a=o.findIndex((function(t){return t.tempID()===e.tempID()}));-1!==a&&o.splice(a,1),t.notifyChangedHandlers(i.EDocsNodeChangeTypeChildren),e.afterRemoved()}return n}))):(this.afterRemoved(),Promise.resolve(!0))}},{key:"onChanged",value:function(e){this.on("change",e)}},{key:"offChanged",value:function(e){this.off("change",e)}},{key:"destory",value:function(){this._unsubcribe&&this._unsubcribe()}},{key:"actived",value:function(){var e=this;setTimeout((function(){if(e._editable&&e._bakArress){var t=e._editable.selection.getRangeAt(0);t.moveToAddress(e._bakArress),t.select(!!t.startContainer),e._editable.actived=!0}}),0)}},{key:"deactived",value:function(){this._editable&&(this._bakArress=this._editable.selection.getRangeAt(0).createAddress(),this._editable.actived=!1)}},{key:"canMove",value:function(){return this._nodeType===o.EDocsNodeTypeFile}},{key:"afterRemoved",value:function(){this._isRemoved=!0,this._nodeType===o.EDocsNodeTypeFolder?me(this,(function(e){e.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoved)})):this.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoved)}}]),n}(w.a),ke=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this))._children=void 0,o._isLoaded=void 0,o._isLoading=void 0,o._tempID=void 0,o._parentNode=void 0,o._id=void 0,e=e||{},o._children=[],o._isLoaded=!0,o._tempID=fe(),o._parentNode=e.parentNode,o}return Object(h.a)(n,[{key:"title",value:function(){return"\u4e34\u65f6"}},{key:"setTitle",value:function(){}},{key:"content",value:function(){return""}},{key:"setEditable",value:function(){}},{key:"providerType",value:function(){return a.EDocsProviderTypeMemory}},{key:"notifyChangedHandlers",value:function(e){this.trigger("change",e)}},{key:"id",value:function(){return this._id}},{key:"isRoot",value:function(){return!0}},{key:"root",value:function(){return this}},{key:"tempID",value:function(){return this._tempID}},{key:"nodeType",value:function(){return o.EDocsNodeTypeFolder}},{key:"isChanged",value:function(){return!1}},{key:"isLoaded",value:function(){return this._isLoaded}},{key:"isSaving",value:function(){return!1}},{key:"isLoading",value:function(){return this._isLoading}},{key:"isRemoving",value:function(){return!1}},{key:"load",value:function(){return Promise.resolve(!0)}},{key:"save",value:function(){return Promise.resolve(!0)}},{key:"createNode",value:function(e){var t=this;return new Promise((function(n){n(new xe(Object(x.a)(Object(x.a)({},e),{},{parentNode:t})))})).then((function(e){return e&&t.notifyChangedHandlers(i.EDocsNodeChangeTypeChildren),e}))}},{key:"suportCreateNode",value:function(e){return e===o.EDocsNodeTypeFile}},{key:"suportReloadNode",value:function(){return!1}},{key:"children",value:function(){return this._children}},{key:"parentNode",value:function(){return this._parentNode}},{key:"mount",value:function(e){return Promise.resolve(!0)}},{key:"remove",value:function(){return Promise.resolve(!1)}},{key:"onChanged",value:function(e){this.on("change",e)}},{key:"offChanged",value:function(e){this.off("change",e)}},{key:"destory",value:function(){}},{key:"actived",value:function(){}},{key:"deactived",value:function(){}},{key:"canMove",value:function(){return!1}}]),n}(w.a),Oe=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e))._data=void 0,o._imageHosting=void 0,o._type=void 0,o._title=void 0,o._isLoaded=!1,o._data=e.data,o._imageHosting=e.image,o._type=e.type,o._title=e.title,o._id=e.id,o}return Object(h.a)(n,[{key:"title",value:function(){return this._title}},{key:"providerType",value:function(){return this._type}},{key:"createDAO",value:function(e){var t=this,n=e.id,o=e.parentNode,a=e.type,i={title:"",pid:o.id(),type:a};return{id:function(){return n},parentNode:function(){return o},load:function(){return n?t._data.queryDocs(n,a):Promise.reject([])},save:function(e){var o={title:void 0===e.title?i.title||"":e.title,pid:i.pid,content:void 0===e.content?i.content||"":e.content,type:a,cover:void 0===e.cover?i.cover||"":e.cover};return n?(o.id=n,t._data.updateDoc(n,o).then((function(e){return e&&(n=e),!!e}))):i.pid?t._data.addDoc(o).then((function(e){return n=e,!0})):Promise.reject()},delete:function(){return n?t._data.deleteDoc(n,a).then((function(e){return e&&(o=void 0),e})):(o=void 0,Promise.resolve(!0))},uploadImage:function(e,n){return t._imageHosting?t._imageHosting.uploadImage(e,n):Promise.resolve(void 0)},uploadSVG:function(e,n){return t._imageHosting?t._imageHosting.uploadSVG(e,n):Promise.resolve(void 0)},uploadImageByUrl:function(e){var t=this;return Object(_.a)(O.a.mark((function n(){var o,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(K.f)(e);case 2:if(!(o=n.sent)){n.next=10;break}return n.next=6,t.uploadImage(o);case 6:return a=n.sent,n.abrupt("return",a);case 10:return n.abrupt("return",void 0);case 11:case"end":return n.stop()}}),n)})))()},checkImageHostMatched:function(e){return!!t._imageHosting&&t._imageHosting.checkHostMatched(e)},createNode:function(e){return t.createNode(e)},provider:function(){return t}}}},{key:"id",value:function(){return this._id}},{key:"load",value:function(){var e=this;return this._isLoading=!0,this.notifyChangedHandlers(i.EDocsNodeChangeTypeLoading),this._data.queryDocs(this.id(),o.EDocsNodeTypeFolder).then((function(t){e._isLoading=!1;var n=be(t,e,e).map((function(t){var n=e._children.findIndex((function(e){return e.id()===t.id()&&e.nodeType()===t.nodeType()}));if(-1!==n){var o=e._children[n];return e._children.splice(n,1),o}return t}));return e._children.forEach((function(e){e.nodeType()===o.EDocsNodeTypeFolder?me(e,(function(e){e.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoved)})):e.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoved)})),e._children=n,e._isLoaded=!0,e.notifyChangedHandlers(i.EDocsNodeChangeTypeLoading),!0}))}},{key:"createNode",value:function(e){var t=this,n=e.parentNode||this;return new Promise((function(o){var a=t.createDAO({type:e.nodeType,parentNode:n});o(new xe(Object(x.a)(Object(x.a)({},e),{},{parentNode:n,dao:a})))})).then((function(e){return e&&n===t&&t.notifyChangedHandlers(i.EDocsNodeChangeTypeChildren),e}))}},{key:"suportCreateNode",value:function(e){return!0}},{key:"suportReloadNode",value:function(){return!0}}]),n}(ke),_e=n(28),Ne=new(function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e))._providers=void 0,o.local=void 0,o._providers=[],_e.a.on(["doc_providers","hide_builtin_provider"],(function(){o.loadProvides()})),_e.a.ready((function(){o.loadProvides(),o.expand(Object(re.b)()?a.EDocsProviderTypeLocal:a.EDocsProviderTypeBrowser)})),o}return Object(h.a)(n,[{key:"title",value:function(){return""}},{key:"children",value:function(){return this._providers}},{key:"parentNode",value:function(){}},{key:"expand",value:function(e){(void 0!==e?this.getProviders(e):[this]).forEach((function(e){me(e,(function(e){e.trigger("expand",!0)}))}))}},{key:"collapse",value:function(e){(void 0!==e?this.getProviders(e):[this]).forEach((function(e){me(e,(function(e){e.trigger("expand",!1)}))}))}},{key:"getProviders",value:function(e){return this._providers.filter((function(t){return t.providerType()===e}))}},{key:"loadProvides",value:function(){var e=this;this._providers.forEach((function(e){me(e,(function(e){e.notifyChangedHandlers(i.EDocsNodeChangeTypeRemoved)}))}));var t=[],n=[];!!_e.a.getSetting("hide_builtin_provider")||n.push(this.builtinProvider),n.push.apply(n,Object(j.a)(_e.a.getSetting("doc_providers")||[])),n.map((function(n){var o,i=ve(n.doc_repo),r=ye(n.image_repo);if(n.doc_repo.platform===A.EPlatformTypeGithub?o=a.EDocsProviderTypeGitHub:n.doc_repo.platform===A.EPlatformTypeBrowser||n.doc_repo.platform===A.EPlatformTypeBuiltin?o=a.EDocsProviderTypeBrowser:n.doc_repo.platform===A.EPlatformTypeLocal?o=a.EDocsProviderTypeLocal:n.doc_repo.platform===A.EPlatformTypeGitee&&(o=a.EDocsProviderTypeGitee),void 0!==o&&i&&r){var c=new Oe({id:i.rootID(),title:i.title,type:o,data:i,image:r,parentNode:e});t.push(c)}})),this._providers=t.sort((function(e,t){return e.providerType()-t.providerType()})),this.notifyChangedHandlers(i.EDocsNodeChangeTypeChildren)}},{key:"builtinProvider",get:function(){return{id:"builtin",doc_repo:{platform:A.EPlatformTypeBuiltin,token:"builtin",repo:""},title:"",image_repo:{platform:A.EPlatformTypeGithub,token:"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",repo:JSON.stringify({jsDelivr:!0,token:"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",id:385421357,name:"GeekEditorImages",owner:{login:"geekeditorcom",id:87345372,avatar_url:"https://avatars.githubusercontent.com/u/87345372?v=4"},private:!1,permissions:{admin:!0,push:!0,pull:!0}})}}}}]),n}(ke)),we=(n(376),n(68)),Se=n(257),Te=n(502),Ce=n(503),Ee=n(504),De=n(505),Ae=n(506),Pe=n(507),Me=n(508),Ie=n(124),Re=n(495),Le=n(500),Fe=n(53),Be=n(497),ze=(n(377),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).state={visible:!1,showTransition:!1},o}return Object(h.a)(n,[{key:"showTransition",value:function(){var e=this;this.setState({visible:!0},(function(){setTimeout((function(){e.setState({showTransition:!0})}),0)}))}},{key:"hideTransition",value:function(){var e=this;this.setState({showTransition:!1},(function(){setTimeout((function(){e.setState({visible:!1})}),300)}))}},{key:"render",value:function(){var e=this.state,t=e.visible,n=e.showTransition,o=this.props,a=o.top,i=Object(ne.a)(o,["top"]),r=Object(x.a)(Object(x.a)({},i),{},{style:Object(x.a)(Object(x.a)({},this.props.style),{},{top:a,marginTop:"0px"}),visible:t,wrapClassName:[this.props.wrapClassName||""," transition-modal",n?" transition-modal--show":""].join("")});return Object(c.jsx)(Be.a,Object(x.a)(Object(x.a)({},r),{},{children:this.props.children}))}}]),n}(s.Component)),Ue=(n(379),n(117)),Ge=n(250),He=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).addNodeType=void 0,a.transitionModal=void 0,a.MIME_TYPE="application/geekeditor-doc",a.onExpand=function(e){var t=a.props.node;(e=void 0===e?!a.state.expand:e)&&t.nodeType()===o.EDocsNodeTypeFolder&&!t.isLoaded()&&a.onReload(),a.setState({expand:e})},a.onActive=function(e){var t=a.props;(0,t.onActiveNode)(t.node),0===e.button&&(a.onExpand(),a.onOpenDoc())},a.onOpenDoc=function(){var e=a.props,t=e.node,n=e.onOpen;t.nodeType()===o.EDocsNodeTypeFile&&n(t)},a.onCreateNode=function(e){a.setState({addNodeEditing:!0,expand:!0}),a.addNodeType=e},a.onReload=function(){a.props.node.load().then((function(e){}))},a.onAddNoteEditing=function(e){if(e.length){var t=a.props,n=t.node,i=t.onOpen,r=a.addNodeType||o.EDocsNodeTypeFile;if(-1!==n.children().findIndex((function(t){return t.title()===e&&t.nodeType()===r})))return void Ge.b.warn("\u4e0d\u80fd\u521b\u5efa\u91cd\u540d".concat(r===o.EDocsNodeTypeFile?"\u6587\u6863":"\u6587\u4ef6\u5939"));n.createNode({nodeType:r,parentNode:n,data:{title:e,content:""}}).then((function(e){return e?e.mount().then((function(t){t?((0,a.props.onActiveNode)(e),e.nodeType()===o.EDocsNodeTypeFile&&i(e)):Ge.b.error("\u521b\u5efa\u4fdd\u5b58\u5931\u8d25")})):Ge.b.error("\u521b\u5efa\u4fdd\u5b58\u5931\u8d25"),a.setState({addNodeEditing:!1}),e}))}else a.setState({addNodeEditing:!1})},a.onAddNoteDroping=function(){var e=Object(_.a)(O.a.mark((function e(t){var i,r,c,s,d,l,u,p;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.props,r=i.node,c=i.onOpen,s=o.EDocsNodeTypeFile,d=r.children(),l=n.dropNodeMap[t]){e.next=6;break}return e.abrupt("return");case 6:if(!d.find((function(e){return e===l}))){e.next=9;break}return e.abrupt("return");case 9:if(a.setState({addNodeDroping:!0}),l.isLoaded()){e.next=13;break}return e.next=13,l.load();case 13:u=l.title(),p=l.content(),-1!==d.findIndex((function(e){return e.title()===u&&e.nodeType()===s}))&&(u="".concat(u,"_").concat(Date.now())),r.createNode({nodeType:s,parentNode:r,data:{title:u,content:p}}).then((function(e){return e?e.mount().then((function(t){t?((0,a.props.onActiveNode)(e),e.nodeType()===o.EDocsNodeTypeFile&&c(e),e.root()===l.root()&&l.remove()):Ge.b.error("\u4fdd\u5b58\u5931\u8d25")})):Ge.b.error("\u4fdd\u5b58\u5931\u8d25"),a.setState({addNodeDroping:!1}),e}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onTitleEditing=function(e){e.length?(a.props.node.setTitle(e),a.setState({titleEditing:!1})):a.setState({titleEditing:!1})},a.onNodeChanged=function(e){e!==i.EDocsNodeChangeTypeTitle&&e!==i.EDocsNodeChangeTypeChildren&&e!==i.EDocsNodeChangeTypeSaving&&e!==i.EDocsNodeChangeTypeLoading&&e!==i.EDocsNodeChangeTypeRemoving||a.forceUpdate()},a.onContextMenuClick=function(e){if("rename"===e.key)a.setState({titleEditing:!0});else if("delete"===e.key)a.onShowConfirmModal();else if("refresh"===e.key){a.props.node.load().then((function(e){}))}e.domEvent.stopPropagation()},a.onConfirmDelete=function(){var e=a.props.node;return a.setState({confirmLoading:!0}),e.remove().then((function(e){a.setState({confirmLoading:!1}),e&&a.onHideConfirmModal()}))},a.onShowConfirmModal=function(){a.transitionModal&&a.transitionModal.showTransition()},a.onHideConfirmModal=function(){a.transitionModal&&a.transitionModal.hideTransition()},a.onDragStart=function(e){console.log(e);var t=a.props.node,o="".concat(Date.now(),"_").concat(t.id());n.dropNodeMap[o]=t,e.dataTransfer.setData(a.MIME_TYPE,o)},a.onDragEnd=function(e){},a.onDrop=function(e){if(a.props.node.nodeType()===o.EDocsNodeTypeFolder&&(e.preventDefault(),e.target.closest(".docs-node__folder").dataset.nodeId===a.state.nodeId)){var t=e.dataTransfer;if(t){var n=t.getData(a.MIME_TYPE);n&&a.onAddNoteDroping(n)}}},a.onDragEnter=function(e){a.props.node.nodeType()===o.EDocsNodeTypeFolder&&(a.onExpand(!0),e.preventDefault())},a.state={expand:!1,addNodeEditing:!1,addNodeDroping:!1,deleteConfirmVisible:!1,titleEditing:!1,confirmLoading:!1,nodeId:""},a.addNodeType=o.EDocsNodeTypeFile,a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.node;this.setState({nodeId:e.id()+""}),e.onChanged(this.onNodeChanged),e.on("expand",this.onExpand)}},{key:"componentWillUnmount",value:function(){var e=this.props.node;e.offChanged(this.onNodeChanged),e.off("expand",this.onExpand)}},{key:"render",value:function(){var e=this,t=this.props,i=t.node,r=t.activeNode,s=t.onActiveNode,d=t.onOpen,l=this.props.hideOps,u=this.props.onlyFolder,p=this.state,h=p.expand,f=p.addNodeEditing,b=p.addNodeDroping,g=p.titleEditing,v=p.confirmLoading,y=p.nodeId,j=i.isSaving()||i.isLoading()||i.isRemoving(),x=i.title(),k=u?i.children().filter((function(e){return e.nodeType()===o.EDocsNodeTypeFolder})):i.children(),O=!u&&i.suportCreateNode(o.EDocsNodeTypeFile),_=i.suportCreateNode(o.EDocsNodeTypeFolder),N=i.suportReloadNode(),w=i.nodeType()===o.EDocsNodeTypeFolder,S=i===r,T=i.canMove(),C=k.map((function(e){return Object(c.jsx)(n,{hideOps:l,onOpen:d,node:e,activeNode:r,onActiveNode:s},e.tempID())})),E=i.isRoot(),D=i.providerType()<=a.EDocsProviderTypeLocal?"\u6587\u4ef6\u5939\u5c06\u4ece\u4ed3\u5e93\u5220\u9664\uff0c\u5220\u9664\u540e\u4e0d\u80fd\u627e\u56de":"\u6587\u4ef6\u5939\u5c06\u4ece\u5217\u8868\u5220\u9664\uff0c\u4f46\u6587\u4ef6\u5939\u4e0b\u6240\u6709\u6587\u6863\u6254\u4fdd\u7559\u5728\u4ed3\u5e93\u4e2d",A=Object(c.jsxs)(Re.a,{onClick:this.onContextMenuClick,children:[Object(c.jsx)(Re.a.Item,{children:"\u91cd\u547d\u540d"},"rename"),Object(c.jsx)(Re.a.Item,{children:"\u5220\u9664"},"delete")]}),P=j||b;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{"data-node-id":y,className:["docs-node",w?" docs-node__folder":"",S?" active":""].join(""),onContextMenu:function(t){e.onActive(t),t.preventDefault(),t.stopPropagation()},onDrop:this.onDrop,onDragEnter:this.onDragEnter,children:[Object(c.jsx)(Le.a,{transitionName:"",overlay:A,trigger:["contextMenu"],children:Object(c.jsx)("div",{children:!g&&Object(c.jsxs)("div",{className:"docs-node__nav",onClick:this.onActive,draggable:T,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,children:[Object(c.jsxs)("div",{className:"docs-node__info",children:[P&&Object(c.jsx)(we.a,{}),!P&&w&&(h?E?Object(c.jsx)(Se.a,{}):Object(c.jsx)(Te.a,{}):E?Object(c.jsx)(Ce.a,{}):Object(c.jsx)(Ee.a,{})),!P&&!w&&Object(c.jsx)(De.a,{}),Object(c.jsx)("span",{className:"docs-node__name",children:x})]}),!l&&!P&&Object(c.jsxs)("div",{className:"docs-node__ops",children:[O&&Object(c.jsx)(m.a,{wrapClassName:"app-guide-newfile",disabled:j,onClick:function(){e.onCreateNode(o.EDocsNodeTypeFile)},icon:Object(c.jsx)(Ae.a,{})}),_&&Object(c.jsx)(m.a,{wrapClassName:"app-guide-newfolder",disabled:j,onClick:function(){e.onCreateNode(o.EDocsNodeTypeFolder)},icon:Object(c.jsx)(Pe.a,{})}),N&&Object(c.jsx)(m.a,{wrapClassName:"app-guide-refresh",disabled:j,onClick:this.onReload,icon:Object(c.jsx)(Me.a,{})})]})]})})}),g&&Object(c.jsx)("div",{className:"docs-node__title-editing",children:Object(c.jsx)(Ue.a,{text:x,onFinishing:this.onTitleEditing})}),w&&Object(c.jsxs)("div",{className:["docs-node__content",f||C.length?" padding":""].join(""),style:{display:h?"block":"none"},children:[f&&Object(c.jsx)("div",{className:"docs-node__adding",children:Object(c.jsx)(Ue.a,{text:"",onFinishing:this.onAddNoteEditing})}),C]})]}),Object(c.jsx)(ze,{ref:function(t){e.transitionModal=t},title:null,footer:Object(c.jsx)("div",{className:"alert-modal__footer",children:Object(c.jsxs)("div",{className:"alert-modal__footer-right",children:[Object(c.jsx)(Fe.a,{onClick:this.onHideConfirmModal,children:"\u53d6\u6d88"}),Object(c.jsx)(Fe.a,{type:"primary",danger:!0,onClick:this.onConfirmDelete,loading:v,children:"\u5220\u9664"})]})}),closable:!1,width:300,top:"-300px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",wrapClassName:"alert-modal",children:Object(c.jsxs)("div",{className:"alert-modal__content",children:[Object(c.jsxs)("div",{className:"alert-modal__title",children:[Object(c.jsx)(Ie.a,{className:"alert-modal__icon"}),Object(c.jsxs)("span",{children:[w?"\u786e\u5b9a\u5220\u9664\u6587\u4ef6\u5939":"\u786e\u5b9a\u5220\u9664\u6587\u6863"," ",x,"? "]})]}),Object(c.jsx)("div",{className:"alert-modal__info",children:Object(c.jsx)("span",{children:w?"".concat(D):"\u6587\u6863\u5c06\u4ece\u4ed3\u5e93\u5220\u9664\uff0c\u5220\u9664\u540e\u4e0d\u80fd\u627e\u56de"})})]})})]})}}]),n}(s.Component);He.dropNodeMap={};var We=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).lastDragOverTarget=void 0,o.onActiveNode=function(e){o.setState({activeNode:e}),o.props.onActiveNode&&o.props.onActiveNode(e)},o.onNodeChanged=function(e){(e===i.EDocsNodeChangeTypeTitle||e===i.EDocsNodeChangeTypeChildren)&&o.forceUpdate()},o.onDrop=function(e){e.preventDefault(),e.stopPropagation(),o.lastDragOverTarget&&(o.lastDragOverTarget.classList.toggle("dragging-over",!1),o.lastDragOverTarget=null)},o.onDragEnter=function(e){e.preventDefault(),e.stopPropagation()},o.onDragOver=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".docs-node__folder");o.lastDragOverTarget!==t&&(o.lastDragOverTarget&&o.lastDragOverTarget.classList.toggle("dragging-over",!1),t.classList.toggle("dragging-over",!0),o.lastDragOverTarget=t)},o.onDragLeave=function(e){o.lastDragOverTarget&&(o.lastDragOverTarget.classList.toggle("dragging-over",!1),o.lastDragOverTarget=null)},o.state={activeNode:e.defaultActiveNode||void 0},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.root;e.onChanged(this.onNodeChanged),e.children().length&&!this.state.activeNode&&this.setState({activeNode:e.children()[0]})}},{key:"componentWillUnmount",value:function(){this.props.root.offChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onOpen,o=t.root,a=this.props.hideOps,i=this.props.onlyFolder,r=o.children(),s=this.state.activeNode,d=this.props.wrapClassName||"",l=r.map((function(t){return Object(c.jsx)(He,{onlyFolder:!!i,hideOps:!!a,node:t,activeNode:s,onActiveNode:e.onActiveNode,onOpen:n},t.tempID())}));return Object(c.jsx)("div",{className:["docs-nodes-bar",d].join(" "),onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,children:l})}}]),n}(s.Component),qe=n(112),Ve=(n(381),n(382),n(496)),Ye=n(494),Ke=n(491),Je=n(509),Ze=n(259),Xe=n(498),Qe=Ve.a.Option,$e=Ve.a.OptGroup,et=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onTokenChecking=function(){var e=o.state.token;o.setState({tokenChecking:!0}),B(e).then((function(t){if(200===t.status){var n=t.data.map((function(t){return{jsDelivr:!0,token:e,id:t.id,name:t.name,owner:{login:t.owner.login,id:t.owner.id,avatar_url:t.owner.avatar_url},private:t.private,permissions:t.permissions}}));o.setState({repos:n,tokenChecked:200===t.status})}o.setState({tokenChecking:!1})}))},o.onTokenChange=function(e){o.setState({token:e.target.value,tokenChecked:!1,repos:[],selRepo:void 0})},o.onSelectRepo=function(e){o.setState({selRepo:e})},o.state={tokenChecking:!1,tokenChecked:!1,token:"",repos:[],selRepo:void 0},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.type,n=this.state,o=n.tokenChecking,a=n.token,i=n.tokenChecked,r=n.repos,s=n.selRepo,d=[],l=[],u=[];r.forEach((function(e){e.private?d.push(Object(c.jsx)(Qe,{value:JSON.stringify(e),children:e.name},e.id)):(l.push(Object(c.jsx)(Qe,{value:JSON.stringify(e),children:e.name},e.id)),u.push(Object(c.jsx)(Qe,{value:JSON.stringify(e),children:e.name},e.id)))}));var p=[],h=[];return d.length&&p.push(Object(c.jsx)($e,{label:"\u79c1\u6709\u4ed3\u5e93",children:d},"private")),l.length&&(p.push(Object(c.jsx)($e,{label:"\u516c\u5f00\u4ed3\u5e93",children:l},"public")),h.push(Object(c.jsx)($e,{label:"\u516c\u5f00\u4ed3\u5e93",children:u},"public"))),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ye.a.Item,{extra:Object(c.jsx)("a",{style:{fontSize:"12px"},href:"https://github.com/settings/tokens",target:"_blank",children:"\u83b7\u53d6AccessToken"}),name:"".concat(t,"_token"),label:"AccessToken",rules:[{required:!0,message:"\u8bf7\u586b\u5199AccessToken"}],validateStatus:i?"success":"error",children:Object(c.jsx)(Xe.a,{value:a,onChange:this.onTokenChange,addonAfter:i?Object(c.jsx)("span",{style:{color:"green"},children:"\u5df2\u6210\u529f\u6821\u9a8c"}):Object(c.jsx)(Fe.a,{disabled:!a,loading:o,size:"small",type:"text",onClick:this.onTokenChecking,children:"\u6821\u9a8c"})})}),Object(c.jsx)(Ye.a.Item,{name:"".concat(t,"_repo"),extra:"image"===t&&Object(c.jsx)("span",{style:{fontSize:"12px"},children:"\u56fe\u5e8a\u53ea\u80fd\u9009\u62e9\u516c\u5f00\u4ed3\u5e93\uff0c\u56fe\u5e8a\u548c\u6587\u6863\u53ef\u5171\u7528\u4e00\u4e2a\u516c\u5f00\u4ed3\u5e93\u3002\u5df2\u5f00\u542fjsDelivr\u4ee3\u7801\u52a0\u901f\u3002"}),label:"\u4ed3\u5e93",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5b58\u50a8\u4ed3\u5e93"}],children:Object(c.jsx)(Ve.a,{showSearch:!0,allowClear:!0,style:{width:"100%"},placeholder:"\u9009\u62e9\u4e00\u4e2a\u4ed3\u5e93",value:s,onChange:this.onSelectRepo,notFoundContent:Object(c.jsx)(qe.a,{image:qe.a.PRESENTED_IMAGE_SIMPLE,description:i?Object(c.jsx)("span",{children:"\u6682\u65e0\u4ed3\u5e93"}):Object(c.jsxs)("span",{children:["\u672a\u6821\u9a8c\uff0c\u8bf7",Object(c.jsx)("span",{children:"\u6821\u9a8cToken"}),"\u83b7\u53d6\u4ed3\u5e93\u5217\u8868"]})}),dropdownRender:function(t){return Object(c.jsxs)("div",{children:[t,Object(c.jsx)(Ke.a,{style:{margin:"4px 0"}}),Object(c.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8,alignItems:"center"},children:[Object(c.jsx)(Fe.a,{disabled:!a,onClick:e.onTokenChecking,loading:o,icon:Object(c.jsx)(Me.a,{}),children:"\u5237\u65b0"}),Object(c.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},href:"https://github.com/new",target:"_blank",children:[Object(c.jsx)(Je.a,{})," \u65b0\u5efa\u4ed3\u5e93"]})]})]})},children:"image"===t?h:p})})]})}}]),n}(s.Component);var tt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.info,n=e.type,o=function(e){var t="";try{t=JSON.parse(e.repo).name||""}catch(n){}return{token:e.token,repo:t}}(t);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ye.a.Item,{shouldUpdate:function(){return!0},preserve:!1,name:"".concat(n,"_token"),label:"AccessToken",rules:[{required:!0}],initialValue:o.token,children:Object(c.jsx)(Xe.a,{disabled:!0,value:o.token})}),Object(c.jsx)(Ye.a.Item,{shouldUpdate:function(){return!0},preserve:!1,name:"".concat(n,"_repo"),label:"\u4ed3\u5e93",rules:[{required:!0}],initialValue:o.repo,children:Object(c.jsx)(Xe.a,{disabled:!0,value:o.repo})})]})}}]),n}(s.Component),nt=Ve.a.Option,ot=Ve.a.OptGroup,at=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onTokenChecking=function(){var e=o.state.token;o.setState({tokenChecking:!0}),Z(e).then((function(t){if(200===t.status){var n=t.data.map((function(t){return{jsDelivr:!0,token:e,id:t.id,path:t.path,name:t.name,owner:{login:t.owner.login,id:t.owner.id,avatar_url:t.owner.avatar_url},private:t.private,permission:t.permission}}));o.setState({repos:n,tokenChecked:200===t.status})}o.setState({tokenChecking:!1})}))},o.onTokenChange=function(e){o.setState({token:e.target.value,tokenChecked:!1,repos:[],selRepo:void 0})},o.onSelectRepo=function(e){o.setState({selRepo:e})},o.state={tokenChecking:!1,tokenChecked:!1,token:"",repos:[],selRepo:void 0},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.type,n=this.state,o=n.tokenChecking,a=n.token,i=n.tokenChecked,r=n.repos,s=n.selRepo,d=[],l=[],u=[];r.forEach((function(e){e.private?d.push(Object(c.jsx)(nt,{value:JSON.stringify(e),children:e.name},e.id)):(l.push(Object(c.jsx)(nt,{value:JSON.stringify(e),children:e.name},e.id)),u.push(Object(c.jsx)(nt,{value:JSON.stringify(e),children:e.name},e.id)))}));var p=[],h=[];return d.length&&p.push(Object(c.jsx)(ot,{label:"\u79c1\u6709\u4ed3\u5e93",children:d},"private")),l.length&&(p.push(Object(c.jsx)(ot,{label:"\u516c\u5f00\u4ed3\u5e93",children:l},"public")),h.push(Object(c.jsx)(ot,{label:"\u516c\u5f00\u4ed3\u5e93",children:u},"public"))),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ye.a.Item,{extra:Object(c.jsx)("a",{style:{fontSize:"12px"},href:"https://gitee.com/personal_access_tokens",target:"_blank",children:"\u83b7\u53d6AccessToken"}),name:"".concat(t,"_token"),label:"AccessToken",rules:[{required:!0,message:"\u8bf7\u586b\u5199AccessToken"}],validateStatus:i?"success":"error",children:Object(c.jsx)(Xe.a,{value:a,onChange:this.onTokenChange,addonAfter:i?Object(c.jsx)("span",{style:{color:"green"},children:"\u5df2\u6210\u529f\u6821\u9a8c"}):Object(c.jsx)(Fe.a,{disabled:!a,loading:o,size:"small",type:"text",onClick:this.onTokenChecking,children:"\u6821\u9a8c"})})}),Object(c.jsx)(Ye.a.Item,{name:"".concat(t,"_repo"),extra:"image"===t&&Object(c.jsx)("span",{style:{fontSize:"12px"},children:"\u56fe\u5e8a\u53ea\u80fd\u9009\u62e9\u516c\u5f00\u4ed3\u5e93\uff0c\u56fe\u5e8a\u548c\u6587\u6863\u53ef\u5171\u7528\u4e00\u4e2a\u516c\u5f00\u4ed3\u5e93\u3002"}),label:"\u4ed3\u5e93",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5b58\u50a8\u4ed3\u5e93"}],children:Object(c.jsx)(Ve.a,{showSearch:!0,allowClear:!0,style:{width:"100%"},placeholder:"\u9009\u62e9\u4e00\u4e2a\u4ed3\u5e93",value:s,onChange:this.onSelectRepo,notFoundContent:Object(c.jsx)(qe.a,{image:qe.a.PRESENTED_IMAGE_SIMPLE,description:i?Object(c.jsx)("span",{children:"\u6682\u65e0\u4ed3\u5e93"}):Object(c.jsxs)("span",{children:["\u672a\u6821\u9a8c\uff0c\u8bf7",Object(c.jsx)("span",{children:"\u6821\u9a8cToken"}),"\u83b7\u53d6\u4ed3\u5e93\u5217\u8868"]})}),dropdownRender:function(t){return Object(c.jsxs)("div",{children:[t,Object(c.jsx)(Ke.a,{style:{margin:"4px 0"}}),Object(c.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8,alignItems:"center"},children:[Object(c.jsx)(Fe.a,{disabled:!a,onClick:e.onTokenChecking,loading:o,icon:Object(c.jsx)(Me.a,{}),children:"\u5237\u65b0"}),Object(c.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},href:"https://gitee.com/projects/new",target:"_blank",children:[Object(c.jsx)(Je.a,{})," \u65b0\u5efa\u4ed3\u5e93"]})]})]})},children:"image"===t?h:p})})]})}}]),n}(s.Component);var it=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.info,n=e.type,o=function(e){var t="";try{t=JSON.parse(e.repo).name||""}catch(n){}return{token:e.token,repo:t}}(t);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ye.a.Item,{shouldUpdate:function(){return!0},preserve:!1,name:"".concat(n,"_token"),label:"AccessToken",rules:[{required:!0}],initialValue:o.token,children:Object(c.jsx)(Xe.a,{disabled:!0,value:o.token})}),Object(c.jsx)(Ye.a.Item,{shouldUpdate:function(){return!0},preserve:!1,name:"".concat(n,"_repo"),label:"\u4ed3\u5e93",rules:[{required:!0}],initialValue:o.repo,children:Object(c.jsx)(Xe.a,{disabled:!0,value:o.repo})})]})}}]),n}(s.Component),rt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.type;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Ye.a.Item,{extra:Object(c.jsx)("span",{style:{fontSize:"12px"},children:"\u6587\u6863\u4e0e\u6b64\u5bc6\u7801\u8fdb\u884c\u7ed1\u5b9a\u3002\u5efa\u8bae\u4f7f\u7528\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u7ec4\u5408\u3002"}),name:"".concat(e,"_token"),label:"\u8bbf\u95ee\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6d4f\u89c8\u5668\u6570\u636e\u5e93\u552f\u4e00\u533a\u5206\u5bc6\u7801"}],children:Object(c.jsx)(Xe.a,{placeholder:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u6570\u636e\u5e93\u552f\u4e00\u533a\u5206\u5bc6\u7801"})})})}}]),n}(s.Component),ct=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.info;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Ye.a.Item,{extra:Object(c.jsx)("span",{style:{fontSize:"12px"},children:"\u6b64\u6807\u8bc6\u7528\u6765\u67e5\u8be2\u6d4f\u89c8\u5668\u6570\u636e\u5e93\u6587\u6863\uff0c\u8bf7\u8bb0\u4f4f\u6216\u4fdd\u5b58\u597d\u8fd9\u4e2a\u6807\u8bc6\u3002"}),name:"".concat(t,"_token"),label:"\u6807\u8bc6",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6d4f\u89c8\u5668\u6570\u636e\u5e93\u533a\u5206\u6807\u8bc6"}],initialValue:n.token,children:Object(c.jsx)(Xe.a,{placeholder:"\u6d4f\u89c8\u5668\u6570\u636e\u5e93\u533a\u5206\u6807\u8bc6",disabled:!0})})})}}]),n}(s.Component),st=n(139),dt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onSelectDirectory=function(){Object(K.o)().then((function(e){if(e){var t=o.props,n=t.type;(0,t.setField)(Object(st.a)({},"".concat(n,"_repo"),e)),o.setState({directory:e})}}))},o.state={directory:""},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.type,t=this.state.directory;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Ye.a.Item,{name:"".concat(e,"_repo"),extra:"image"===e&&Object(c.jsx)("span",{style:{fontSize:"12px"},children:"\u6ce8\uff1a\u5bfc\u51fa\uff08\u590d\u5236\uff09\u5185\u5bb9\u53d1\u5e03\u5230\u7ebf\u4e0a\uff0c\u56fe\u7247\u8def\u5f84\u5c06\u4e0d\u80fd\u8bbf\u95ee\u3002\u53e6\u8bf7\u4e0d\u8981\u548c\u672c\u5730\u6587\u6863\u4ed3\u5e93\u4f7f\u7528\u540c\u4e00\u4e2a\u76ee\u5f55\u3002"}),label:"\u6839\u76ee\u5f55",initialValue:t,rules:[{required:!0,message:"\u8bf7\u8bbe\u7f6e\u5b58\u50a8\u6839\u76ee\u5f55\u8def\u5f84"}],children:Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(Xe.a,{placeholder:"\u5b58\u50a8\u6839\u76ee\u5f55\u8def\u5f84",readOnly:!0,value:t}),Object(c.jsx)(Fe.a,{type:"primary",style:{marginLeft:"5px"},onClick:this.onSelectDirectory,children:"\u9009\u62e9"})]})})})}}]),n}(s.Component),lt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.info;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Ye.a.Item,{name:"".concat(t,"_repo"),label:"\u6839\u76ee\u5f55",rules:[{required:!0,message:"\u8bf7\u8bbe\u7f6e\u5b58\u50a8\u6839\u76ee\u5f55\u8def\u5f84"}],initialValue:n.repo,children:Object(c.jsx)(Xe.a,{placeholder:"\u5b58\u50a8\u6839\u76ee\u5f55\u8def\u5f84",disabled:!0})})})}}]),n}(s.Component),ut={};Object(re.b)()?ut[A.EPlatformTypeLocal]={type:A.EPlatformTypeLocal,name:"\u78c1\u76d8\uff08\u672c\u5730\uff09",edit:dt,info:lt}:ut[A.EPlatformTypeBrowser]={type:A.EPlatformTypeBrowser,name:"\u6d4f\u89c8\u5668\u6570\u636e\u5e93\uff08\u672c\u5730\uff09",edit:rt,info:ct},ut[A.EPlatformTypeGithub]={type:A.EPlatformTypeGithub,name:"GitHub",edit:et,info:tt},ut[A.EPlatformTypeGitee]={type:A.EPlatformTypeGitee,name:"Gitee\uff08\u56fd\u5185\u63a8\u8350\uff09",edit:at,info:it};var pt={};Object(re.b)()&&(pt[A.EPlatformTypeLocal]={type:A.EPlatformTypeLocal,name:"\u78c1\u76d8\uff08\u672c\u5730\uff09",edit:dt,info:lt}),pt[A.EPlatformTypeGithub]={type:A.EPlatformTypeGithub,name:"GitHub",edit:et,info:tt},pt[A.EPlatformTypeGitee]={type:A.EPlatformTypeGitee,name:"Gitee\uff08\u56fd\u5185\u63a8\u8350\uff09",edit:at,info:it};var ht=navigator.userAgent.toLowerCase(),ft=/chrome\/(\d+\.\d)/i.test(ht)||/firefox/.test(ht)||/safari/.test(ht),bt=Ve.a.Option,mt={labelCol:{span:7},wrapperCol:{span:16}},gt={wrapperCol:{offset:7,span:16}},vt=0,yt=Date.now();var jt,xt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).transitionModal=void 0,o.alertModal=void 0,o.form=void 0,o.onDocSelectPlatform=function(e){o.setState({docSelectPlatform:e})},o.onImageSelectPlatform=function(e){o.setState({imageSelectPlatform:e})},o.onHide=function(){o.alertModal&&o.alertModal.showTransition(),o.transitionModal&&o.transitionModal.hideTransition(),o.setState({docSelectPlatform:A.EPlatformTypeNone,imageSelectPlatform:A.EPlatformTypeNone})},o.onPlatformAdd=function(e){try{var t={id:"".concat(yt).concat(++vt),title:e.title,doc_repo:{platform:e.doc_platform,token:e.doc_token||"",repo:e.doc_repo||""},image_repo:{platform:e.image_platform,token:e.image_token||"",repo:e.image_repo||""}},n=ve(t.doc_repo),a=ye(t.image_repo);n&&a&&(o.setState({initingRepo:!0}),Promise.all([n.init(),a.init()]).then((function(e){if(o.setState({initingRepo:!1}),e[0].status===r.EInitResultStatusSuccess)if(e[1].status===r.EInitResultStatusSuccess){var n=_e.a.getSetting("doc_providers")||[];n.push(t),_e.a.setSetting("doc_providers",n),o.onHide()}else Ge.b.error("\u6dfb\u52a0\u56fe\u5e8a\u4ed3\u5e93\u5931\u8d25\uff0c".concat(e[0].status===r.EInitResultStatusNoBranch?"\u4ed3\u5e93\u8fd8\u672a\u521d\u59cb\u5316\u5206\u652f":"\u8bf7\u68c0\u67e5\u4ed3\u5e93\u662f\u5426\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528"));else Ge.b.error("\u6dfb\u52a0\u6587\u6863\u4ed3\u5e93\u5931\u8d25\uff0c".concat(e[0].status===r.EInitResultStatusNoBranch?"\u4ed3\u5e93\u8fd8\u672a\u521d\u59cb\u5316\u5206\u652f":"\u8bf7\u68c0\u67e5\u4ed3\u5e93\u662f\u5426\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528"))})))}catch(i){}},o.onChangeField=function(e){o.form&&o.form.setFieldsValue(e)},o.onConfirmAlert=function(){o.alertModal&&o.alertModal.hideTransition()},o.state={docSelectPlatform:A.EPlatformTypeNone,imageSelectPlatform:A.EPlatformTypeNone,initingRepo:!1},o}return Object(h.a)(n,[{key:"show",value:function(){this.transitionModal&&ft?this.transitionModal.showTransition():this.alertModal&&!ft&&this.alertModal.showTransition()}},{key:"render",value:function(){var e=this,t=this.state,n=t.initingRepo,o=t.docSelectPlatform,a=(t.imageSelectPlatform,Object.keys(ut).map((function(e){var t=ut[parseInt(e)];return Object(c.jsx)(bt,{value:t.type,children:t.name},t.type)}))),i=ut[o]?ut[o].edit:null,r=Object.keys(pt).map((function(e){var t=pt[parseInt(e)];return Object(c.jsx)(bt,{value:t.type,children:t.name},t.type)})),s=pt[this.state.imageSelectPlatform]?pt[this.state.imageSelectPlatform].edit:null;return Object(c.jsxs)("div",{className:"docs-provider-add",children:[Object(c.jsx)(ze,{ref:function(t){e.transitionModal=t},title:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a,{}),Object(c.jsx)("span",{style:{marginLeft:"5px"},children:"\u6dfb\u52a0\u4ed3\u5e93"})]}),footer:null,onOk:this.onHide,onCancel:this.onHide,width:500,top:"-500px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",wrapClassName:"docs-provider-add-modal",children:Object(c.jsx)("div",{className:"docs-provider-add-modal-body",children:Object(c.jsxs)(Ye.a,Object(x.a)(Object(x.a)({ref:function(t){e.form=t}},mt),{},{name:"docs-provider-add-form",onFinish:this.onPlatformAdd,children:[Object(c.jsx)(Ke.a,{orientation:"left",children:"\u6587\u6863\u4ed3\u5e93"}),Object(c.jsx)(Ye.a.Item,{name:"doc_platform",label:"\u5b58\u50a8\u5e73\u53f0",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6587\u6863\u5b58\u50a8\u5e73\u53f0"}],children:Object(c.jsx)(Ve.a,{placeholder:"\u9009\u62e9\u5b58\u50a8\u5e73\u53f0",onSelect:this.onDocSelectPlatform,children:a})}),!!i&&d.a.createElement(i,{type:"doc",setField:this.onChangeField}),Object(c.jsx)(Ke.a,{orientation:"left",children:"\u56fe\u5e8a\u4ed3\u5e93"}),Object(c.jsx)(Ye.a.Item,{name:"image_platform",label:"\u5b58\u50a8\u5e73\u53f0",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u56fe\u5e8a\u5b58\u50a8\u5e73\u53f0"}],children:Object(c.jsx)(Ve.a,{placeholder:"\u9009\u62e9\u5b58\u50a8\u5e73\u53f0",onSelect:this.onImageSelectPlatform,children:r})}),!!s&&d.a.createElement(s,{type:"image",setField:this.onChangeField}),Object(c.jsxs)(Ye.a.Item,Object(x.a)(Object(x.a)({},gt),{},{children:[Object(c.jsx)(Fe.a,{loading:n,disabled:n,type:"primary",htmlType:"submit",icon:Object(c.jsx)(Je.a,{}),children:n?"\u521d\u59cb\u5316...":"\u6dfb\u52a0"}),Object(c.jsx)(Fe.a,{style:{marginLeft:"10px",display:"none"},type:"link",htmlType:"button",icon:Object(c.jsx)(Ze.a,{}),children:"\u5e2e\u52a9"})]}))]}))})}),!ft&&Object(c.jsx)(ze,{ref:function(t){e.alertModal=t},title:null,footer:Object(c.jsx)("div",{className:"alert-modal__footer",children:Object(c.jsx)("div",{className:"alert-modal__footer-right",children:Object(c.jsx)(Fe.a,{type:"primary",onClick:this.onConfirmAlert,children:"\u77e5\u9053\u4e86"})})}),closable:!0,onCancel:this.onConfirmAlert,width:400,top:"-300px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",wrapClassName:"alert-modal",children:Object(c.jsxs)("div",{className:"alert-modal__content",children:[Object(c.jsxs)("div",{className:"alert-modal__title",children:[Object(c.jsx)(Ie.a,{className:"alert-modal__icon"}),Object(c.jsx)("span",{children:"\u5f53\u524d\u6d4f\u89c8\u5668\u5c1a\u672a\u517c\u5bb9"})]}),Object(c.jsx)("div",{className:"alert-modal__info",children:Object(c.jsxs)("span",{children:["\u5df2\u517c\u5bb9Chrome\u3001Fixfox\u53caSafari\u6d4f\u89c8\u5668\uff0c\u63a8\u8350\u4f7f\u7528",Object(c.jsx)("a",{target:"_blank",href:"https://www.google.cn/chrome/",children:"Chrome\u6d4f\u89c8\u5668"}),"\uff0c\u6216\u8005Chromium\u5185\u6838\u6d4f\u89c8\u5668"]})})]})})]})}}]),n}(s.Component),kt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).provider=void 0,o.onAddDocRepo=function(){o.provider&&o.provider.show()},o.state={docVisible:!1},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"docs-empty-repo",children:[Object(c.jsx)(qe.a,{image:qe.a.PRESENTED_IMAGE_SIMPLE,description:Object(c.jsxs)("span",{children:["\u6682\u65e0\u4ed3\u5e93\uff0c",Object(c.jsx)("span",{className:"docs-repo__add",onClick:this.onAddDocRepo,children:"\u7acb\u5373\u6dfb\u52a0"})]})}),Object(c.jsx)(xt,{ref:function(t){e.provider=t}})]})}}]),n}(s.Component),Ot=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).provider=void 0,o.onAddDocRepo=function(){o.provider&&o.provider.show()},o.onExpand=function(){Ne.expand()},o.onCollapse=function(){Ne.collapse()},o.onNodeChanged=function(e){e===i.EDocsNodeChangeTypeChildren&&o.forceUpdate()},o}return Object(h.a)(n,[{key:"componentWillUnmount",value:function(){Ne.offChanged(this.onNodeChanged)}},{key:"componentDidMount",value:function(){Ne.onChanged(this.onNodeChanged),Ne.expand(a.EDocsProviderTypeLocal)}},{key:"render",value:function(){var e=this,t=this.props.onOpen,n=this.props.onActiveNode,o=Ne,a=o.children();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"docs-bar",children:[Object(c.jsx)("div",{className:"docs-bar-header",children:Object(c.jsxs)("div",{className:"docs-bar-ops",children:[Object(c.jsx)(m.a,{id:"app-guide-collapse",icon:Object(c.jsx)(g.a,{onClick:this.onCollapse})}),Object(c.jsx)(m.a,{id:"app-guide-expand",icon:Object(c.jsx)(v.a,{}),onClick:this.onExpand}),Object(c.jsx)(m.a,{id:"app-guide-repo",icon:Object(c.jsx)(y.a,{}),onClick:this.onAddDocRepo})]})}),!a.length&&Object(c.jsx)(kt,{}),!!a.length&&Object(c.jsx)(We,{onActiveNode:n,defaultActiveNode:a[0],wrapClassName:"docs-bar-providers",onOpen:t,root:o})]}),Object(c.jsx)(xt,{ref:function(t){e.provider=t}})]})}}]),n}(s.Component),_t=n(91),Nt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onNodeChanged=function(e){e!==i.EDocsNodeChangeTypeTitle&&e!==i.EDocsNodeChangeTypeSaving&&e!==i.EDocsNodeChangeTypeLoading&&e!==i.EDocsNodeChangeTypeRemoving||o.forceUpdate()},o.state={path:[]},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.result.node;e.onChanged(this.onNodeChanged),this.setState({path:ge(e)})}},{key:"componentWillUnmount",value:function(){this.props.result.node.offChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this.props.result,t=e.node,n=e.match,a=n?n.map((function(e,t){if(0!=t&&e.length)return t%2==0?Object(c.jsx)("em",{className:"search-mark",children:e},t):Object(c.jsx)("span",{children:e},t)})):t.title()||"Untitled",i=this.props.onOpen,r=t.isSaving()||t.isLoading()||t.isRemoving(),s=this.state.path.map((function(e){return Object(c.jsxs)("span",{children:[e.title(),e.nodeType()===o.EDocsNodeTypeFolder&&Object(c.jsx)(_t.a,{})]},e.tempID())}));return Object(c.jsxs)("div",{className:["docs-search-result-item"].join(" "),onClick:function(e){i(t),e.stopPropagation()},children:[Object(c.jsxs)("div",{className:"docs-search-result-item-info",children:[Object(c.jsx)("span",{className:"docs-search-result-item-icon",children:r?Object(c.jsx)(we.a,{}):Object(c.jsx)(De.a,{})}),Object(c.jsx)("span",{children:a})]}),Object(c.jsx)("div",{className:"docs-search-result-item-path",children:s})]})}}]),n}(s.Component),wt=function(){function e(t){Object(p.a)(this,e),this._searchKey=void 0,this._roots=void 0,this._searchRegex=void 0,this._listeners=void 0,this._cancelled=void 0,this._nodePool=void 0,this.searchDelay=void 0,this._roots=t.roots,this._cancelled=!1,this._nodePool=[],this.searchDelay=Object(je.b)(this.search,500)}return Object(h.a)(e,[{key:"start",value:function(e,t){this.cancel(),t.onSearchBegin(),e?this.searchDelay(e,t):t.onSearchEnd()}},{key:"cancel",value:function(){this._cancelled=!0,this._listeners&&this._listeners.onSearchCancel(),this._listeners=null}},{key:"search",value:function(e,t){this._searchKey=e,this._searchRegex=Object(K.n)(e),this._listeners=t,this._nodePool=Array.from(this._roots),this._cancelled=!1,this.searchIteration()}},{key:"searchIteration",value:function(){if(this._nodePool.length&&!this._cancelled){var e=this._nodePool.pop();e&&this.checkNodeLoaded(e)}else this._listeners&&this._listeners.onSearchEnd()}},{key:"checkNodeLoaded",value:function(e){var t=this;e.isLoaded()?this.searchNodeTraversal(e):e.isLoading()?setTimeout((function(){t.checkNodeLoaded(e)}),200):e.load().then((function(n){n&&t.searchNodeTraversal(e)}))}},{key:"searchNodeTraversal",value:function(e){var t=this;if(!this._cancelled){var n=[];me(e,(function(e){if(e.nodeType()===o.EDocsNodeTypeFile){var a=e.title().match(t._searchRegex);a&&n.push({key:t._searchKey,node:e,match:a})}else e.isLoaded()||t._nodePool.unshift(e)})),n.length&&this._listeners&&this._listeners.onSearchProgress(n),this.searchIteration()}}}]),e}(),St=(n(450),Xe.a.Search),Tt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).searchEngine=void 0,o.onSearchTextChangeProxy=void 0,o.searchResultsCache=void 0,o.onSearch=function(e){o.setState({searchKey:e,searchLoading:!0}),o.searchEngine.start(e,{onSearchBegin:o.onSearchBegin,onSearchProgress:o.onSearchProgress,onSearchEnd:o.onSearchEnd,onSearchCancel:o.onSearchCancel})},o.onSearchBegin=function(){o.searchResultsCache=[],o.setState({searchResults:o.searchResultsCache,searchLoading:!0})},o.onSearchCancel=function(){o.searchResultsCache=[],o.setState({searchLoading:!1,searchResults:o.searchResultsCache,searchKey:""})},o.onSearchProgress=function(e){var t=o.searchResultsCache||[];o.searchResultsCache=t.concat(e),o.setState({searchResults:o.searchResultsCache})},o.onSearchEnd=function(){o.setState({searchLoading:!1})},o.onSearchTextChange=function(e){var t=e.target.value;o.onSearchTextChangeProxy(t)},o.state={searchKey:"",searchLoading:!1,searchResults:[]},o.searchEngine=new wt({roots:[Ne]}),o.onSearchTextChangeProxy=Object(je.b)(o.onSearch,200),o.searchResultsCache=[],o}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.onOpen,t=this.state,n=t.searchLoading,o=t.searchResults,a=t.searchKey,i=o.map((function(t){return Object(c.jsx)(Nt,{result:t,onOpen:e},t.node.tempID())}));return Object(c.jsxs)("div",{className:"docs-search-bar",children:[Object(c.jsx)("div",{className:"docs-search-bar-header",children:Object(c.jsx)(St,{loading:n,onChange:this.onSearchTextChange,placeholder:"\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22\u6587\u6863",onSearch:this.onSearch,enterButton:!0})}),Object(c.jsxs)("div",{className:"docs-search-bar-body",children:[n||!a.length||o.length?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)(qe.a,{image:qe.a.PRESENTED_IMAGE_SIMPLE,description:Object(c.jsx)("span",{children:"\u641c\u7d22\u65e0\u7ed3\u679c"})}),i]})]})}}]),n}(s.Component),Ct=n(158);n(451);!function(e){e[e.EDocsSelectDocs=0]="EDocsSelectDocs",e[e.EDocsSelectSearch=1]="EDocsSelectSearch"}(jt||(jt={}));Xe.a.Search;var Et=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onTabSelect=function(e){o.state.tabSelect;o.setState({tabSelect:e},(function(){}))},o.state={tabSelect:jt.EDocsSelectDocs},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.onOpen,n=this.state.tabSelect,o=this.props.onActiveNode;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"docs",children:[Object(c.jsxs)("div",{className:"docs-nav",children:[Object(c.jsx)("div",{className:["docs-nav-before",n===jt.EDocsSelectDocs?" active":""].join(""),children:Object(c.jsx)("div",{className:"docs-nav-item-inner"})}),Object(c.jsxs)("div",{className:"docs-nav-inner",children:[Object(c.jsx)("div",{className:["docs-nav-item",n===jt.EDocsSelectDocs?" active":" before-active"].join(""),onClick:function(){e.onTabSelect(jt.EDocsSelectDocs)},children:Object(c.jsx)("div",{className:"docs-nav-item-inner",children:Object(c.jsx)(Ce.a,{})})}),Object(c.jsx)("div",{id:"app-guide-search",className:["docs-nav-item",n===jt.EDocsSelectSearch?" active":" after-active"].join(""),onClick:function(){e.onTabSelect(jt.EDocsSelectSearch)},children:Object(c.jsx)("div",{className:"docs-nav-item-inner",children:Object(c.jsx)(Ct.a,{})})})]}),Object(c.jsx)("div",{className:["docs-nav-after",n===jt.EDocsSelectSearch?" active":""].join(""),children:Object(c.jsx)("div",{className:"docs-nav-item-inner"})})]}),Object(c.jsxs)("div",{className:"docs-tab",children:[Object(c.jsx)("div",{className:"docs-tab__docs",style:{display:n!==jt.EDocsSelectDocs?"none":"block"},children:Object(c.jsx)(Ot,{onActiveNode:o,onOpen:t})}),Object(c.jsx)("div",{className:"docs-tab__search",style:{display:n!==jt.EDocsSelectSearch?"none":"block"},children:Object(c.jsx)(Tt,{onOpen:t})})]})]})})}}]),n}(s.Component),Dt=(n(452),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).transitionModal=void 0,o.onHide=function(){o.transitionModal&&o.transitionModal.hideTransition()},o.onOpen=function(e){(0,o.props.onOpen)(e),o.onHide()},o.onNodeChanged=function(e){e===i.EDocsNodeChangeTypeChildren&&o.forceUpdate()},o.state={visible:!1},o}return Object(h.a)(n,[{key:"show",value:function(){this.transitionModal&&this.transitionModal.showTransition()}},{key:"componentWillUnmount",value:function(){Ne.offChanged(this.onNodeChanged)}},{key:"componentDidMount",value:function(){Ne.onChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this,t=Ne,n=t.children();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(ze,{ref:function(t){e.transitionModal=t},title:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{children:"\u65b0\u5efa/\u6253\u5f00\u6587\u6863"}),Object(c.jsxs)("span",{className:"docs-new-modal-tip",children:["\u9009\u62e9\u5b58\u50a8\u76ee\u5f55\uff0c\u70b9\u51fb ",Object(c.jsx)(Ae.a,{})," \u521b\u5efa\u6587\u6863"]})]}),onOk:this.onHide,onCancel:this.onHide,footer:null,width:400,top:"-300px",maskStyle:{backgroundColor:"transparent"},transitionName:"",maskTransitionName:"",wrapClassName:"docs-new-modal",children:Object(c.jsx)("div",{className:"docs-new-modal-body",children:Object(c.jsxs)("div",{className:"docs-folder-bar",children:[!n.length&&Object(c.jsx)(kt,{}),Object(c.jsx)(We,{wrapClassName:"docs-bar-providers",onOpen:this.onOpen,root:t})]})})})})}}]),n}(s.Component)),At=n(517),Pt=n(518),Mt=n(514),It=n(519),Rt=n(520),Lt=(n(453),n(454),n.p+"static/media/qrcode_for_geekeditor.83a2f37b.jpg"),Ft=Object(c.jsx)("svg",{viewBox:"0 0 1097 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4443",width:"18",height:"18",children:Object(c.jsx)("path",{fill:"currentColor",d:"M146.285714 0h804.571429a146.285714 146.285714 0 0 1 146.285714 146.285714v514.779429a146.285714 146.285714 0 0 1-146.285714 146.285714h-196.973714a36.571429 36.571429 0 0 0-27.648 12.507429L548.571429 1024l-165.156572-203.190857a36.571429 36.571429 0 0 0-28.379428-13.458286H146.285714a146.285714 146.285714 0 0 1-146.285714-146.285714V146.285714a146.285714 146.285714 0 0 1 146.285714-146.285714z m36.571429 73.362286a109.714286 109.714286 0 0 0-109.714286 109.714285V623.908571a109.714286 109.714286 0 0 0 109.714286 109.714286h217.380571a36.571429 36.571429 0 0 1 29.257143 14.701714L548.571429 907.702857l136.265142-161.133714a36.571429 36.571429 0 0 1 27.867429-13.019429H914.285714a109.714286 109.714286 0 0 0 109.714286-109.714285V183.076571a109.714286 109.714286 0 0 0-109.714286-109.714285h-731.428571zM219.428571 366.957714h146.285715v146.797715H219.428571V366.957714z m253.952 0h146.285715v146.797715h-146.285715V366.957714z m258.048 0h146.285715v146.797715h-146.285715V366.957714z","p-id":"4444"})}),Bt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(p.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).transitionModal=void 0,e.onHide=function(){e.transitionModal&&e.transitionModal.hideTransition()},e.onShow=function(){e.transitionModal&&e.transitionModal.showTransition()},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a,{id:"app-guide-qrcode",icon:Ft,wrapClassName:"app-bar-item",onClick:this.onShow}),Object(c.jsx)(ze,{ref:function(t){e.transitionModal=t},title:null,footer:null,onOk:this.onHide,onCancel:this.onHide,width:260,top:"-350px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",closeIcon:null,closable:!1,wrapClassName:"qrcode-modal",children:Object(c.jsxs)("div",{className:"qrcode-main",children:[Object(c.jsx)("div",{className:"qrcode-img",children:Object(c.jsx)("img",{src:Lt})}),Object(c.jsxs)("div",{className:"qrcode-tip",children:[Object(c.jsx)("p",{children:"\u5173\u6ce8\u300c\u6781\u5ba2\u7f16\u8f91\u5668\u300d\u516c\u4f17\u53f7"}),Object(c.jsx)("p",{children:"\u53cd\u9988Bug\u3001\u63d0\u9700\u6c42\u53ca\u4e86\u89e3\u540e\u7eed\u7248\u672c\u66f4\u65b0"})]})]})})]})}}]),n}(s.Component),zt=(n(455),n(492)),Ut={labelCol:{span:6},wrapperCol:{span:16}},Gt={wrapperCol:{offset:6,span:16}},Ht=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onSaveDocProvider=function(e){var t=_e.a.getSetting("doc_providers")||[],n=o.props.provider;t.forEach((function(o,a){if(o.id===n.id){var i=e.title;t[a]=Object.assign(o,{title:i})}})),_e.a.setSetting("doc_providers",t),o.setState({fieldChanged:!1})},o.onDeleteDocProvider=function(){var e=_e.a.getSetting("doc_providers")||[],t=o.props.provider;e.forEach((function(n,o){n.id===t.id&&e.splice(o,1)})),_e.a.setSetting("doc_providers",e)},o.onFieldsChange=function(){o.setState({fieldChanged:!0})},o.state={fieldChanged:!1},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.provider,t=this.state.fieldChanged,n=ut[e.doc_repo.platform].info,o=pt[e.image_repo.platform].info;return Object(c.jsx)("div",{className:"settings-docs-provider",children:Object(c.jsxs)(Ye.a,Object(x.a)(Object(x.a)({},Ut),{},{name:"docs-provider",preserve:!1,onFieldsChange:this.onFieldsChange,onFinish:this.onSaveDocProvider,children:[Object(c.jsx)(Ke.a,{orientation:"left",children:"\u6587\u6863\u4ed3\u5e93"}),Object(c.jsx)(Ye.a.Item,{name:"doc_platform",label:"\u5b58\u50a8\u5e73\u53f0",rules:[{required:!0}],initialValue:ut[e.doc_repo.platform].name,children:Object(c.jsx)(Xe.a,{disabled:!0})}),!!n&&d.a.createElement(n,{info:e.doc_repo,type:"doc"}),Object(c.jsx)(Ke.a,{orientation:"left",children:"\u56fe\u5e8a\u4ed3\u5e93"}),Object(c.jsx)(Ye.a.Item,{name:"image_platform",label:"\u5b58\u50a8\u5e73\u53f0",rules:[{required:!0}],initialValue:ut[e.image_repo.platform].name,children:Object(c.jsx)(Xe.a,{disabled:!0})}),!!o&&d.a.createElement(o,{info:e.image_repo,type:"image"}),Object(c.jsxs)(Ye.a.Item,Object(x.a)(Object(x.a)({},Gt),{},{children:[Object(c.jsx)(Fe.a,{disabled:!t,htmlType:"submit",type:"primary",children:"\u4fdd\u5b58"}),Object(c.jsx)(zt.a,{onConfirm:this.onDeleteDocProvider,destroyTooltipOnHide:{keepParent:!1},placement:"top",title:"\u786e\u5b9a\u5220\u9664\u8be5\u4ed3\u5e93\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(c.jsx)(Fe.a,{style:{marginLeft:"10px"},children:"\u5220\u9664"})})]}))]}))})}}]),n}(s.Component),Wt=n(255),qt=(n(456),n(43)),Vt=new(n(142).a),Yt=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).transitionModal=void 0,o.onHide=function(){o.transitionModal&&o.transitionModal.hideTransition()},o.onShow=function(){o.transitionModal&&o.transitionModal.showTransition()},o.checkUpdate=function(){var e=Object(_.a)(O.a.mark((function e(t){var n,a,i,r,s,d,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(K.i?"https://www.geekeditor.com/version.json":"/version.json",{},{"Cache-Control":"no-cache"});case 2:if(n=e.sent,!(a=n.data)||!a.version){e.next=21;break}if(o.setState({update:a.update||"",version:a.version}),!K.i){e.next=17;break}if(!(Object(K.t)(a.version.substring(1),qt.a.substring(1))>0)){e.next=14;break}return e.next=10,Vt.get("check_version");case 10:e.sent===qt.a&&t?a.noti&&(i=o.state,r=i.update,s=i.version,d=K.j?"https://cdn.montisan.cn/GeekEditor-".concat(s.substring(1),".dmg"):K.k?"https://cdn.montisan.cn/GeekEditor-Setup-".concat(s.substring(1),".exe"):"https://cdn.montisan.cn/GeekEditor_".concat(s.substring(1),"_amd64.deb"),l={message:"\u7248\u672c\u66f4\u65b0\u901a\u77e5(".concat(s,")"),description:Object(c.jsxs)("div",{className:"app-update",children:[Object(c.jsx)("div",{className:"update-tip",dangerouslySetInnerHTML:{__html:r}}),Object(c.jsx)("a",{href:d,target:"_blank",children:"\u7acb\u5373\u66f4\u65b0"})]}),duration:3,className:"app-update-notification",key:"app-update-notification",onClose:function(){}},Wt.a.open(l)):o.onShow(),e.next=15;break;case 14:t||Ge.b.info("\u5f53\u524d\u5df2\u662f\u6700\u65b0\u7248\u672c");case 15:e.next=21;break;case 17:return e.next=19,Vt.get("check_version");case 19:e.sent!==qt.a&&o.onShow();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.onCheckVersion=function(){Vt.set("check_version",qt.a),o.onHide()},o.state={update:"",version:qt.a},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.checkUpdate(!0)}),K.i?3e3:5e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.update,o=t.version,a=K.j?"https://cdn.montisan.cn/GeekEditor-".concat(o.substring(1),".dmg"):K.k?"https://cdn.montisan.cn/GeekEditor-Setup-".concat(o.substring(1),".exe"):"https://cdn.montisan.cn/GeekEditor_".concat(o.substring(1),"_amd64.deb");return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(ze,{ref:function(t){e.transitionModal=t},title:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("span",{children:["\u7248\u672c\u66f4\u65b0(",o,")"]}),Object(c.jsx)("a",{style:{marginLeft:"10px",fontSize:"12px"},href:"https://github.com/geekeditor/geekeditor-releases/blob/main/versions.md",target:"_blank",children:"\u67e5\u770b\u5386\u53f2\u66f4\u65b0"})]}),footer:null,onOk:this.onHide,onCancel:this.onHide,width:300,top:"-350px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",closeIcon:null,closable:!1,wrapClassName:"update-modal",children:Object(c.jsxs)("div",{className:"update-main",children:[Object(c.jsx)("div",{className:"update-tip",dangerouslySetInnerHTML:{__html:n}}),Object(c.jsxs)("div",{className:"update-check",children:[Object(c.jsx)("a",{href:a,target:"_blank",children:K.i?"\u7acb\u5373\u66f4\u65b0":"\u7acb\u5373\u4e0b\u8f7d\u684c\u9762\u8f6f\u4ef6"}),Object(c.jsx)(Fe.a,{type:"primary",size:"middle",onClick:this.onCheckVersion,children:"\u77e5\u9053\u4e86"})]})]})})})}}]),n}(s.Component),Kt=n(513),Jt=n(260),Zt=n(261),Xt=n(515),Qt=n(516),$t=Re.a.SubMenu,en=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).transitionModal=void 0,o.provider=void 0,o.update=void 0,o.onOk=function(){o.hide()},o.onSelect=function(e){o.setState({selectedKey:e.key})},o.onAddDocRepo=function(){o.provider&&o.provider.show()},o.onCheckUpdate=function(){o.update&&o.update.checkUpdate()},o.onTriggerBuiltinProvider=function(){console.log(_e.a.getSetting("hide_builtin_provider"));var e=!!_e.a.getSetting("hide_builtin_provider");o.setState({hideBuiltinProvider:!e},(function(){_e.a.setSetting("hide_builtin_provider",!e)}))},o.state={selectedKey:e.key||"docProviders",defaultSelectedKeys:[e.key||"docProviders"],defaultOpenKeys:[],hideBuiltinProvider:!!_e.a.getSetting("hide_builtin_provider")},_e.a.on("doc_providers",(function(){o.forceUpdate()})),o}return Object(h.a)(n,null,[{key:"newInstance",value:function(e){e=e||{};var t=document.createElement("div");document.body.appendChild(t);var o=u.a.render(d.a.createElement(n,e),t);return{open:function(e){o.show(e)},close:function(){o.hide()},destory:function(){u.a.unmountComponentAtNode(t),document.body.removeChild(t)}}}}]),Object(h.a)(n,[{key:"show",value:function(e){var t=(e=e||{}).key,n=this.sortedProviders();t=!t&&n.length?n[0].id:"docProviders",this.setState({selectedKey:t,defaultSelectedKeys:[t],defaultOpenKeys:["docProviders"]}),this.transitionModal&&this.transitionModal.showTransition()}},{key:"hide",value:function(){this.transitionModal&&this.transitionModal.hideTransition()}},{key:"sortedProviders",value:function(){var e=(_e.a.getSetting("doc_providers")||[]).sort((function(e,t){return e.doc_repo.platform-t.doc_repo.platform})).filter((function(e){return!!ut[e.doc_repo.platform]}));return e}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedKey,o=t.defaultSelectedKeys,a=t.defaultOpenKeys,i=t.hideBuiltinProvider,r=void 0,s=this.sortedProviders().map((function(e,t){e.id===n&&(r=Object(c.jsx)(Ht,{provider:e},e.id));var o=ut[e.doc_repo.platform].name.split("\uff08")[0];return Object(c.jsx)(Re.a.Item,{icon:e.doc_repo.platform===A.EPlatformTypeGithub?Object(c.jsx)(Kt.a,{}):e.doc_repo.platform===A.EPlatformTypeGitee?Object(c.jsx)("i",{className:"be-gitee",style:{fontSize:"12px"}}):Object(c.jsx)(Ce.a,{}),children:e.title||o},e.id)}));return Object(c.jsxs)("div",{className:"settings",children:[Object(c.jsx)(ze,{ref:function(t){e.transitionModal=t},title:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Mt.a,{}),Object(c.jsx)("span",{style:{marginLeft:"5px"},children:"\u8bbe\u7f6e"}),Object(c.jsxs)(Fe.a,{style:{marginLeft:"20px"},type:"text",icon:i?Object(c.jsx)(Zt.a,{}):Object(c.jsx)(Jt.a,{}),onClick:this.onTriggerBuiltinProvider,children:[i?"\u663e\u793a":"\u9690\u85cf","\u793a\u4f8b\u6587\u6863"]}),Object(c.jsx)(Fe.a,{style:{marginLeft:"20px"},type:"text",icon:Object(c.jsx)(Xt.a,{}),onClick:this.onAddDocRepo,children:"\u6dfb\u52a0\u4ed3\u5e93"}),Object(c.jsxs)(Fe.a,{style:{marginLeft:"40px"},icon:Object(c.jsx)(Qt.a,{}),type:"text",onClick:function(){e.onCheckUpdate()},children:["\u68c0\u67e5\u66f4\u65b0(",Object(c.jsx)("span",{style:{fontSize:"12px"},children:qt.a}),")"]})]}),footer:null,onOk:this.onOk,onCancel:this.onOk,width:620,top:"-500px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",wrapClassName:"settings-modal",children:Object(c.jsxs)("div",{className:"settings-main",children:[Object(c.jsx)(Re.a,{mode:"inline",onSelect:this.onSelect,defaultSelectedKeys:o,defaultOpenKeys:a,style:{width:150},children:Object(c.jsx)($t,{icon:Object(c.jsx)(y.a,{}),title:Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("span",{children:"\u4ed3\u5e93"})}),children:s},"docProviders")}),Object(c.jsx)("div",{className:"settings-tab",children:r})]})}),Object(c.jsx)(xt,{ref:function(t){e.provider=t}}),Object(c.jsx)(Yt,{ref:function(t){e.update=t}})]})}}]),n}(s.Component),tn=en.newInstance(),nn=function(e){tn||(tn=en.newInstance()),tn.open(e)},on=n(54),an="darkmode",rn="shown_more_operations_guide",cn=(n(501),n(246)),sn=n.n(cn),dn=(n(457),n(458),{element:"#app-guide-new",popover:{title:"\u65b0\u5efa/\u6253\u5f00\u6587\u6863",description:"\u9009\u62e9\u5b58\u50a8\u76ee\u5f55\u65b0\u5efa\u6587\u6863\uff0c\u6216\u6253\u5f00\u76ee\u5f55\u4e0b\u6587\u6863",position:"right"}}),ln={element:"#app-guide-docs",popover:{title:"\u67e5\u770b\u6587\u6863",description:"\u6d4f\u89c8\u6240\u6709\u4ed3\u5e93\u6587\u6863\uff0c\u53ef\u6253\u5f00/\u65b0\u5efa\u6587\u6863\uff0c\u65b0\u5efa\u6587\u6863/\u56fe\u5e8a\u4ed3\u5e93",position:"right"}},un={element:"#app-guide-collapse",popover:{title:"\u6536\u8d77\u6587\u6863\u5217\u8868",description:"\u4e00\u952e\u6536\u8d77\u5df2\u5c55\u5f00\u6587\u6863\u5217\u8868",position:"bottom"}},pn={element:"#app-guide-expand",popover:{title:"\u5c55\u5f00\u6587\u6863\u5217\u8868",description:"\u4e00\u952e\u5c55\u5f00\u4ed3\u5e93\u6587\u6863\u5217\u8868\uff0c\u8fde\u7eed\u70b9\u51fb\u53ef\u9010\u5c42\u5c55\u5f00",position:"bottom"}},hn={element:"#app-guide-repo",popover:{title:"\u65b0\u5efa\u4ed3\u5e93",description:"\u65b0\u5efa\u6587\u6863/\u56fe\u5e8a\u4ed3\u5e93\uff0c\u5f53\u524d\u652f\u6301Github/Gitee\u4e91\u4ed3\u5e93",position:"bottom"}},fn={element:".app-guide-newfile",popover:{title:"\u65b0\u5efa\u6587\u6863",description:"\u5728\u9009\u4e2d\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u6863",position:"bottom"}},bn={element:".app-guide-newfolder",popover:{title:"\u65b0\u5efa\u6587\u4ef6\u5939",description:"\u5728\u9009\u4e2d\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u4ef6\u5939",position:"bottom"}},mn={element:".app-guide-refresh",popover:{title:"\u5237\u65b0\u76ee\u5f55",description:"\u5237\u65b0\u76ee\u5f55\u4e0b\u6587\u6863\u5217\u8868",position:"bottom"}},gn={element:"#app-guide-search",popover:{title:"\u641c\u7d22\u6587\u6863",description:"\u5339\u914d\u6587\u6863\u6807\u9898\u641c\u7d22\u6587\u6863",position:"right"}},vn={element:"#app-guide-darkmode",popover:{title:"\u5207\u6362\u6697\u9ed1\u6a21\u5f0f",description:"\u4e00\u952e\u5f00\u542f\uff0c\u51cf\u8f7b\u773c\u90e8\u7684\u75b2\u52b3",position:"top"}},yn={element:"#app-guide-qrcode",popover:{title:"\u5173\u6ce8\u516c\u4f17\u53f7",description:"\u53cd\u9988\u5efa\u8bae\u3001\u4e86\u89e3\u540e\u7eed\u7248\u672c\u66f4\u65b0",position:"bottom"}},jn={element:"#app-guide-vip",popover:{title:"\u8ba2\u9605\u4f1a\u5458\u529f\u80fd",description:"\u8ba2\u9605\u4f1a\u5458\u529f\u80fd\uff0c\u83b7\u5f97\u66f4\u591a\u529f\u80fd\u6743\u9650",position:"bottom"}},xn={element:"#app-guide-setting",popover:{title:"\u6253\u5f00\u8bbe\u7f6e",description:"\u65b0\u5efa/\u5220\u9664\u6587\u6863\u4ed3\u5e93\u3001\u9690\u85cf\u5185\u7f6e\u6587\u6863\u5e93",position:"top"}},kn={element:"#app-guide-zenmode",popover:{title:"\u5207\u6362Zen\u6a21\u5f0f",description:"Zen\u6a21\u5f0f\uff0c\u8ba9\u5199\u4f5c\u66f4\u4e13\u6ce8",position:"top"}},On={element:"#app-guide-desktop",popover:{title:"\u4e0b\u8f7d\u684c\u9762\u8f6f\u4ef6",description:"\u79bb\u7ebf\u5199\u4f5c\uff0c\u66f4\u591a\u9ad8\u7ea7\u529f\u80fd",position:"top"}},_n={element:"#app-guide-alwaystop",popover:{title:"\u7f6e\u9876\u7a97\u53e3",description:"\u7f6e\u9876\u7a97\u53e3\uff0c\u8ba9\u5199\u4f5c\u66f4\u4fbf\u6377",position:"top"}},Nn={element:"#app-guide-more",popover:{title:"\u66f4\u591a\u64cd\u4f5c",description:"\u5feb\u6377\u5207\u6362\u5df2\u6253\u5f00\u6587\u6863\uff0c\u67e5\u770b\u7f16\u8f91\u5668\u5feb\u6377\u952e",position:"left"}},wn={element:".app-guide-fullscreen",popover:{title:"\u7f16\u8f91\u6a21\u5f0f",description:"\u6536\u8d77\u5176\u5b83\u9762\u677f\uff0c\u4ec5\u663e\u793a\u7f16\u8f91\u533a",position:"left"}},Sn={element:".app-guide-export",popover:{title:"\u5bfc\u51fa\u6587\u6863",description:"\u590d\u5236\u5230\u5fae\u4fe1\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u3001\u6398\u91d1\u7b49",position:"left"}},Tn={element:".app-guide-profile",popover:{title:"\u8bbe\u7f6e\u5c01\u9762\u3001\u6458\u8981\u7b49",description:"\u53ef\u4e00\u952e\u540c\u6b65\u5230\u5fae\u4fe1\u516c\u4f17\u53f7\u7b49\u591a\u4e2a\u5185\u5bb9\u5e73\u53f0",position:"left"}},Cn={element:".app-guide-typeset",popover:{title:"\u4e3b\u9898\u6392\u7248",description:"\u4e00\u952e\u4e3b\u9898\u6392\u7248\uff0c\u81ea\u5b9a\u4e49\u6392\u7248CSS",position:"left"}},En={element:".app-guide-layout",popover:{title:"\u7f16\u8f91\u7248\u5f0f",description:"Web\u7248\u5f0f\u3001\u9875\u9762\u7248\u5f0f\u53ca\u624b\u673a\u7248\u5f0f\u5207\u6362",position:"left"}},Dn={element:".app-guide-catalog",popover:{title:"\u76ee\u5f55\u5927\u7eb2",description:"\u5feb\u6377\u521b\u5efa/\u8df3\u8f6c\u5927\u7eb2\u6807\u9898",position:"left"}},An={element:".app-guide-searchreplace",popover:{title:"\u641c\u7d22/\u66ff\u6362",description:"\u5feb\u6377\u641c\u7d22/\u66ff\u6362\u6587\u6863\u6587\u5b57",position:"left"}},Pn={element:".app-guide-undo",popover:{title:"\u56de\u64a4",description:"\u56de\u64a4\u4fee\u6539",position:"left"}},Mn={element:".app-guide-redo",popover:{title:"\u91cd\u505a",description:"\u6062\u590d\u4fee\u6539",position:"left"}},In={element:".app-guide-upload",popover:{title:"\u4e00\u952e\u4e0a\u4f20\u56fe\u7247\u5230\u56fe\u5e8a",description:"\u81ea\u52a8\u68c0\u67e5\u6587\u6863\u4e2d\u672a\u5728\u56fe\u5e8a\u4e2d\u7684\u56fe\u7247\uff0c\u70b9\u51fb\u4e00\u952e\u4e0a\u4f20",position:"left"}},Rn=new sn.a({className:"app-guide-popover",animate:!0,opacity:.75,padding:0,allowClose:!1,overlayClickNext:!1,doneBtnText:"\u77e5\u9053\u4e86",closeBtnText:"\u5173\u95ed",stageBackground:"#ffffff",nextBtnText:"\u4e0b\u4e00\u6b65",prevBtnText:"\u4e0a\u4e00\u6b65",showButtons:!0,keyboardControl:!0,scrollIntoViewOptions:{},onHighlightStarted:function(){},onHighlighted:function(e){},onDeselected:function(){},onReset:function(){},onNext:function(){},onPrevious:function(){}});function Ln(){on.a.trigger("onOpenDocs"),Rn.defineSteps([dn,ln,gn,un,pn,hn,fn,bn,mn,kn,On,vn,xn,_n,jn,yn]),Rn.start()}var Fn,Bn={onEnterGuide:Ln,showModeOperationsGuideIfNotShown:function(){_e.a.getSetting(rn)||(setTimeout((function(){Rn.defineSteps([Nn,wn,Dn,An,En,Pn,Mn,In,Cn,Tn,Sn]),Rn.start()}),0),_e.a.setSetting(rn,!0))}};!function(e){e[e.EHomeBarTabSelectNone=0]="EHomeBarTabSelectNone",e[e.EHomeBarTabSelectDocs=1]="EHomeBarTabSelectDocs"}(Fn||(Fn={}));var zn,Un=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).newBar=void 0,o.onTabSelect=function(e){var t=o.state.tabSelect;o.setState({tabSelect:t===e?Fn.EHomeBarTabSelectNone:e},(function(){o.state.tabSelect!==Fn.EHomeBarTabSelectNone&&on.a.trigger("onAppSideBarTabOpen")}))},o.onOpenSettings=function(){nn()},o.onAdd=function(){o.newBar&&o.newBar.show()},o.onOpen=function(e){on.a.trigger("onOpen",e)},o.onDarkModeToggle=function(){var e=document.documentElement;e.classList.toggle("dark-mode",!e.classList.contains("dark-mode")),o.setState({darkMode:e.classList.contains("dark-mode")}),_e.a.setSetting(an,e.classList.contains("dark-mode"))},o.onZenModeToggle=function(){Object(K.r)()},o.onAlwaysOnTopToggle=function(){Object(K.p)(!o.state.isAlwaysOnTop).then((function(e){o.setState({isAlwaysOnTop:e})}))},o.onOpenGuide=function(){Bn.onEnterGuide()},o.onDownload=function(){window.open(K.b,"_blank")},o.state={tabSelect:Fn.EHomeBarTabSelectNone,darkMode:!!_e.a.getSetting("darkmode"),isAlwaysOnTop:!1},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;_e.a.ready((function(){var t=!!_e.a.getSetting(an);e.setState({darkMode:t}),document.documentElement.classList.toggle("dark-mode",t)})),on.a.on("onAdd",(function(){e.onAdd()})),on.a.on("onTriggerSideBar onTriggerFullscreen",(function(t){t&&e.setState({tabSelect:Fn.EHomeBarTabSelectNone})})),on.a.on("onOpenDocs",(function(){e.setState({tabSelect:Fn.EHomeBarTabSelectDocs})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.tabWidth,o=t.sketchBar,a=this.state,i=a.tabSelect,r=a.darkMode,s=a.isAlwaysOnTop,d=this.props.onActiveNode,l=Object(c.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"28",height:"28",fill:"currentColor",children:Object(c.jsx)("path",{d:"M512.001 297.072c-118.511 0-214.929 96.418-214.929 214.93 0 118.509 96.418 214.926 214.929 214.926 118.509 0 214.927-96.416 214.927-214.926 0-118.512-96.418-214.93-214.927-214.93z m0 371.777c-86.485 0-156.85-70.362-156.85-156.847 0-86.49 70.365-156.853 156.85-156.853s156.848 70.363 156.848 156.853c0 86.485-70.363 156.847-156.848 156.847zM512.001 261.715c16.017 0 29.042-13.027 29.042-29.039V93.017c0-16.012-13.026-29.039-29.042-29.039-16.009 0-29.036 13.027-29.036 29.039v139.659c-0.001 16.012 13.027 29.039 29.036 29.039zM512.001 762.282c-16.009 0-29.036 13.027-29.036 29.039v139.665c0 16.011 13.027 29.036 29.036 29.036 16.017 0 29.042-13.026 29.042-29.036V791.321c0-16.012-13.026-29.039-29.042-29.039zM261.716 512.002c0-16.012-13.027-29.038-29.041-29.038H93.014c-16.009 0-29.036 13.026-29.036 29.038s13.027 29.039 29.036 29.039h139.662c16.013 0.001 29.04-13.027 29.04-29.039zM930.986 482.964H791.32c-16.008 0-29.035 13.026-29.035 29.038s13.027 29.039 29.035 29.039h139.666c16.009 0 29.036-13.027 29.036-29.039s-13.027-29.038-29.036-29.038zM258.7 299.807c5.503 5.446 12.78 8.451 20.484 8.463h0.049c7.768-0.012 15.048-3.027 20.502-8.485 5.481-5.479 8.5-12.771 8.5-20.532 0-7.762-3.019-15.054-8.5-20.532l-93.104-93.104c-5.476-5.479-12.769-8.497-20.53-8.497-7.764 0-15.055 3.018-20.532 8.497-11.317 11.325-11.317 29.741 0 41.057l93.131 93.133zM279.206 715.764c-7.761 0-15.052 3.018-20.529 8.497l-93.109 93.109c-11.317 11.319-11.317 29.738 0.023 41.081 5.506 5.448 12.78 8.452 20.487 8.464h0.042c7.771-0.012 15.057-3.025 20.511-8.487l93.104-93.107c5.481-5.476 8.5-12.769 8.5-20.529 0-7.764-3.019-15.055-8.5-20.532-5.477-5.479-12.764-8.496-20.529-8.496zM765.277 724.261c-5.479-5.479-12.772-8.497-20.532-8.497-7.761 0-15.049 3.018-20.526 8.497-5.481 5.478-8.5 12.771-8.5 20.532 0 7.762 3.019 15.052 8.5 20.526l93.128 93.133c5.506 5.446 12.778 8.452 20.487 8.464h0.045c7.765-0.012 15.049-3.025 20.506-8.487 11.317-11.323 11.317-29.741 0-41.059l-93.108-93.109zM744.723 308.269h0.052c7.756-0.012 15.037-3.027 20.502-8.485l93.109-93.11c11.317-11.316 11.317-29.735 0-41.057-5.479-5.479-12.771-8.497-20.531-8.497s-15.052 3.018-20.529 8.497l-93.106 93.104c-5.481 5.479-8.5 12.771-8.5 20.532 0 7.762 3.019 15.055 8.518 20.55 5.496 5.445 12.773 8.454 20.485 8.466z"})}),u=Object(c.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"22",height:"22",fill:"currentColor",children:Object(c.jsx)("path",{d:"M426.666667 85.333333c-77.653333 0-150.613333 21.333333-213.333334 57.6C340.906667 216.746667 426.666667 354.133333 426.666667 512s-85.76 295.253333-213.333334 369.066667C276.053333 917.333333 349.013333 938.666667 426.666667 938.666667c235.52 0 426.666667-191.146667 426.666666-426.666667S662.186667 85.333333 426.666667 85.333333z","p-id":"1968"})}),p=Object(c.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",width:"18",height:"18",children:Object(c.jsx)("path",{d:"M102.28 692.465l4.156 0.482a18.07 18.07 0 0 1 13.432 13.432l0.482 4.157-0.06 192.993 192.934 0.06a18.07 18.07 0 0 1 17.588 13.915l0.482 4.216v54.032a18.07 18.07 0 0 1-13.914 17.588l-4.156 0.542H48.188A18.07 18.07 0 0 1 30.6 979.968l-0.482-4.156V710.536a18.07 18.07 0 0 1 13.914-17.59l4.156-0.481h54.092z m873.532 0l4.156 0.482a18.07 18.07 0 0 1 13.432 13.432l0.482 4.157v265.276l-0.482 4.156a18.07 18.07 0 0 1-13.432 13.432l-4.156 0.482H710.776l-4.156-0.482a18.07 18.07 0 0 1-13.432-13.432l-0.482-4.156V921.72l0.482-4.156a18.07 18.07 0 0 1 13.432-13.432l4.156-0.482H903.71V710.536l0.422-4.157a18.07 18.07 0 0 1 9.637-12.047l3.795-1.385 4.217-0.482h54.03zM313.224 30.118a18.07 18.07 0 0 1 18.07 18.07v54.092a18.07 18.07 0 0 1-18.07 18.07H120.29v193.114a18.07 18.07 0 0 1-13.854 17.59l-4.217 0.481H48.19a18.07 18.07 0 0 1-18.071-18.07V48.187a18.07 18.07 0 0 1 18.07-18.07h265.036z m662.588 0A18.07 18.07 0 0 1 993.4 44.032l0.482 4.156v265.276a18.07 18.07 0 0 1-13.914 17.59l-4.156 0.481H921.72l-4.156-0.482a18.07 18.07 0 0 1-13.432-13.432l-0.482-4.157 0.06-192.993-192.934-0.12a18.07 18.07 0 0 1-17.588-13.915l-0.482-4.217V48.19a18.07 18.07 0 0 1 13.914-17.59l4.156-0.481h265.036z","p-id":"5677"})});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"app-side-bar",children:[Object(c.jsxs)("div",{className:"app-side-bar-nav",children:[Object(c.jsxs)("div",{className:"app-side-bar-nav__top",children:[Object(c.jsx)(m.a,{id:"app-guide-new",icon:Object(c.jsx)(Ae.a,{}),wrapClassName:"app-bar-item",onClick:this.onAdd}),Object(c.jsx)(m.a,{id:"app-guide-docs",icon:Object(c.jsx)(At.a,{}),wrapClassName:"app-bar-item",onClick:function(){e.onTabSelect(Fn.EHomeBarTabSelectDocs)},selected:i===Fn.EHomeBarTabSelectDocs})]}),Object(c.jsxs)("div",{className:"app-side-bar-nav__bottom",children:[K.i?Object(c.jsx)(m.a,{id:"app-guide-zenmode",icon:p,wrapClassName:"app-bar-item",onClick:this.onZenModeToggle}):Object(c.jsx)(m.a,{id:"app-guide-desktop",icon:Object(c.jsx)(Pt.a,{}),wrapClassName:"app-bar-item",tip:"\u4e0b\u8f7d\u684c\u9762\u8f6f\u4ef6",placement:"right",onClick:this.onDownload}),Object(c.jsx)(m.a,{id:"app-guide-darkmode",icon:r?l:u,wrapClassName:"app-bar-item",onClick:this.onDarkModeToggle}),Object(c.jsx)(m.a,{id:"app-guide-setting",icon:Object(c.jsx)(Mt.a,{}),wrapClassName:"app-bar-item",onClick:this.onOpenSettings}),K.i?Object(c.jsx)(m.a,{id:"app-guide-alwaystop",icon:s?Object(c.jsx)(It.a,{}):Object(c.jsx)(Rt.a,{}),wrapClassName:"app-bar-item",onClick:this.onAlwaysOnTopToggle,selected:s}):Object(c.jsx)(m.a,{icon:Object(c.jsx)(Ze.a,{}),wrapClassName:"app-bar-item",onClick:this.onOpenGuide}),Object(c.jsx)(Bt,{})]})]}),Object(c.jsxs)("div",{className:"app-side-bar-tab",style:{width:i===Fn.EHomeBarTabSelectNone?"0px":"".concat(n,"px"),borderWidth:i===Fn.EHomeBarTabSelectNone?"0px":"1px",opacity:i===Fn.EHomeBarTabSelectNone?"0":"1"},children:[Object(c.jsx)("div",{className:"app-side-bar-tab__docs",style:{display:i!==Fn.EHomeBarTabSelectDocs?"none":"block"},children:Object(c.jsx)(Et,{onActiveNode:d,onOpen:this.onOpen})}),i!==Fn.EHomeBarTabSelectNone&&o]})]}),Object(c.jsx)(Dt,{onOpen:this.onOpen,ref:function(t){e.newBar=t}})]})}}]),n}(s.Component),Gn=(n(459),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.activeNode,t=e?e.title():"\u6781\u5ba2\u7f16\u8f91\u5668";return Object(c.jsxs)("div",{className:"app-top-bar",children:[Object(c.jsx)("div",{className:"app-title",children:Object(c.jsx)("span",{children:t})}),Object(c.jsx)("div",{className:"app-top-items",children:Object(c.jsx)("div",{className:"app-top-bar-ext"})})]})}}]),n}(s.Component)),Hn=(n(460),Object(re.b)()),Wn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"app-status-bar",children:!Hn&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"app-copyright",children:["Copyright \xa9 2021 ",Object(c.jsxs)("strong",{children:[Object(c.jsx)("a",{href:"/",children:"\u6781\u5ba2\u7f16\u8f91\u5668Beta ".concat(qt.a,"\u7248")}),"  "]})," ",Object(c.jsxs)("span",{children:[Object(c.jsx)("a",{className:"theme-color",style:{fontWeight:"bolder",color:"#388ae5 !important"},href:K.b,target:"_blank",children:"\u4e0b\u8f7d\u684c\u9762\u8f6f\u4ef6"})," "]}),Object(c.jsx)("a",{href:"http://beian.miit.gov.cn/",target:"_blank",children:"\u5907\u6848\u53f7: \u6e58ICP\u590718009160\u53f7-4"})]}),Object(c.jsxs)("div",{className:"app-friendly-links",children:[Object(c.jsx)("strong",{children:"\u53cb\u60c5\u94fe\u63a5\uff1a"}),Object(c.jsx)("a",{href:"http://h5.dooring.cn/",target:"_blank",children:"H5-dooring\u7f16\u8f91\u5668"})]})]})})}}]),n}(s.Component),qn=(n(461),n(90));!function(e){e[e.WinTabHome=1]="WinTabHome",e[e.WinTabDoc=2]="WinTabDoc"}(zn||(zn={}));var Vn=n(521),Yn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.wrapClassName||"";return Object(c.jsx)("div",{className:["win-tab-header win-tab-header__home",e].join(" "),children:Object(c.jsx)(Vn.a,{})})}}]),n}(s.Component),Kn=n(107),Jn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(p.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onNodeChanged=function(t){t!==i.EDocsNodeChangeTypeTitle&&t!==i.EDocsNodeChangeTypeSaving&&t!==i.EDocsNodeChangeTypeLoading&&t!==i.EDocsNodeChangeTypeRemoving&&t!==i.EDocsNodeChangeTypeChanging||e.forceUpdate()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.node.onChanged(this.onNodeChanged)}},{key:"componentWillUnmount",value:function(){this.props.node.offChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this.props.node,t=e.title()||"Untitled",n=this.props.onRemove,o=this.props.wrapClassName||"",a=e.isChanged(),i=e.isSaving()||e.isLoading()||e.isRemoving();return Object(c.jsxs)("div",{className:["win-tab-header win-tab-header__doc",o].join(" "),children:[Object(c.jsx)("span",{children:t}),Object(c.jsxs)("span",{className:["win-tab-header-op",a?" win-tab-header-op__changed":"",i?" win-tab-header-op__loading":""].join(""),onClick:function(e){n(),e.stopPropagation()},children:[!i&&a&&Object(c.jsx)("span",{className:"win-tab-header-op-changed"}),!i&&Object(c.jsx)("span",{className:"win-tab-header-op-close",children:Object(c.jsx)(Kn.a,{})}),i&&Object(c.jsx)("span",{className:"win-tab-header-op-saving",children:Object(c.jsx)(we.a,{})})]})]})}}]),n}(s.Component),Zn=(n(464),n(465),n(493)),Xn=n(522),Qn=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onEditTitleBegin=function(e){a.setState({titleEditing:!0}),e.stopPropagation()},a.onEditTitleFinish=function(e){var t=a.props.node;e&&t.setTitle(e),a.setState({titleEditing:!1})},a.onNodeChanged=function(e){e===i.EDocsNodeChangeTypeTitle&&a.forceUpdate()},a.onActiveNode=function(e){e.nodeType()===o.EDocsNodeTypeFile&&(a.setState({nodesBarVisible:!1}),(0,a.props.onOpen)(e))},a.onNodesBarVisible=function(e){a.setState({nodesBarVisible:e})},a.state={titleEditing:!1,nodesBarVisible:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.node;e.onChanged(this.onNodeChanged),e.title()||this.setState({titleEditing:!0})}},{key:"componentWillUnmount",value:function(){this.props.node.offChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this.props.node,t=this.state,n=t.titleEditing,a=t.nodesBarVisible,i=e.title()||"Untitled",r=e.nodeType()===o.EDocsNodeTypeFile,s=this.props.onOpen,d=e.parentNode()||e,l=Object(c.jsx)("div",{className:"path-docs-nodes",children:Object(c.jsx)(We,{root:d,onActiveNode:this.onActiveNode,onOpen:s,defaultActiveNode:e})});return Object(c.jsx)("div",{className:"docs-node-path-bar-item",children:Object(c.jsx)(Zn.a,{placement:"bottomLeft",visible:a,onVisibleChange:this.onNodesBarVisible,content:l,trigger:"click",destroyTooltipOnHide:{keepParent:!1},children:Object(c.jsxs)("div",{className:"path-item",children:[!n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{className:"path-item__icon",children:r?Object(c.jsx)(De.a,{}):Object(c.jsx)(Ee.a,{})}),Object(c.jsx)("span",{className:"path-item__title",children:i}),Object(c.jsx)("span",{className:"path-item__icon",children:r?Object(c.jsx)(Xn.a,{onClick:this.onEditTitleBegin}):Object(c.jsx)(_t.a,{})})]}),n&&Object(c.jsx)(Ue.a,{text:i,onFinishing:this.onEditTitleFinish})]})})})}}]),n}(s.Component),$n=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onReload=function(){o.props.node.load()},o.onNodeChanged=function(e){e!==i.EDocsNodeChangeTypeTitle&&e!==i.EDocsNodeChangeTypeSaving&&e!==i.EDocsNodeChangeTypeLoading||o.forceUpdate()},o.state={path:[],isLoading:!1},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.node;this.setState({path:ge(e)}),e.onChanged(this.onNodeChanged)}},{key:"componentWillUnmount",value:function(){this.props.node.offChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this.props,t=e.onOpen,n=e.node,o=this.state.path.map((function(e){return Object(c.jsx)(Qn,{onOpen:t,node:e},e.tempID())})),a=n.isLoading(),i=n.isLoading()||n.isSaving()||n.isChanged();return Object(c.jsxs)("div",{className:"docs-node-path-bar",children:[Object(c.jsx)("div",{className:"docs-nodes",children:o}),Object(c.jsx)("div",{className:"docs-node-tools",children:Object(c.jsx)(m.a,{tip:"\u5237\u65b0\u6587\u6863",placement:"left",wrapClassName:"docs-node-refresh",disabled:i,onClick:this.onReload,icon:a?Object(c.jsx)(we.a,{}):Object(c.jsx)(Me.a,{})})})]})}}]),n}(s.Component),eo=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,1111))})),to=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(p.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onEditable=function(t){e.props.node.setEditable(t),Bn.showModeOperationsGuideIfNotShown()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.onOpen,o=this.props.wrapClassName||"";return Object(c.jsxs)("div",{className:["win-tab-content-doc",o].join(" "),children:[Object(c.jsx)($n,{onOpen:n,node:t}),Object(c.jsx)("div",{className:"content-doc-editor",children:Object(c.jsx)(s.Suspense,{fallback:Object(c.jsxs)("div",{className:"content-doc-editor__loading",children:[Object(c.jsx)("div",{children:"\u521d\u6b21\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49..."}),Object(c.jsx)("div",{children:Object(c.jsx)(we.a,{})})]}),children:Object(c.jsx)(eo,{onEditable:this.onEditable})})})]})}}]),n}(s.Component),no=(n(466),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onSearch=function(e){},o.onActiveNode=function(e){o.setState({activeNode:e})},o.state={activeNode:void 0},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.onOpen,e.onAdd,this.state.activeNode),n=(t&&(t.nodeType(),o.EDocsNodeTypeFile),this.props.wrapClassName||"");return Object(c.jsx)("div",{className:["win-tab-content-home",n].join(" "),children:Object(c.jsx)("div",{className:"home-main",children:Object(c.jsx)("div",{className:"home-preview"})})})}}]),n}(s.Component)),oo=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).transitionModal=void 0,o.onNodeChanged=function(e){if(e===i.EDocsNodeChangeTypeRemoved){var t=o.props,n=t.tab;(0,t.onRemove)(n.id)}},o.onRemove=function(){var e=o.props,t=e.tab,n=e.onRemove;t.node.isChanged()?o.onShowConfirmModal():n(t.id)},o.onConfirmSaveAndRemove=function(){var e=o.props,t=e.tab,n=e.onRemove,a=t.node;return o.setState({confirmLoading:!0}),a.save().then((function(e){o.setState({confirmLoading:!1}),e&&(n(t.id),o.onHideConfirmModal())}))},o.onCancelSaveAndRemove=function(){var e=o.props,t=e.tab;(0,e.onRemove)(t.id),o.onHideConfirmModal()},o.onShowConfirmModal=function(){o.transitionModal&&o.transitionModal.showTransition()},o.onHideConfirmModal=function(){o.transitionModal&&o.transitionModal.hideTransition()},o.state={confirmLoading:!1},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.tab.type===zn.WinTabDoc&&this.props.tab.node.onChanged(this.onNodeChanged)}},{key:"componentWillUnmount",value:function(){this.props.tab.type===zn.WinTabDoc&&this.props.tab.node.offChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tab,o=t.activeTabID,a=t.live,i=t.onSelect,r=t.onOpen,s=t.onAdd,d=this.state.confirmLoading,l=o===n.id,u=n.node.title(),p=n.type===zn.WinTabHome?Object(c.jsx)(Yn,{wrapClassName:l?"active":""}):Object(c.jsx)(Jn,{wrapClassName:o===n.id?"active":"",node:n.node,onRemove:this.onRemove}),h=n.type===zn.WinTabHome?Object(c.jsx)(no,{wrapClassName:l?"active":"",onOpen:r,onAdd:s}):Object(c.jsx)(to,{wrapClassName:o===n.id?"active":"",node:n.node,onOpen:r},n.id);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{onMouseDown:function(){i(n.id)},className:["win-tab-header-wrap",l?" active":""].join(""),children:p}),(a||l)&&Object(c.jsx)("div",{className:["win-tab-content-wrap",o===n.id?" active":""].join(""),children:h}),Object(c.jsx)(ze,{ref:function(t){e.transitionModal=t},title:null,footer:Object(c.jsxs)("div",{className:"remove-modal__footer",children:[Object(c.jsx)(Fe.a,{onMouseDown:this.onCancelSaveAndRemove,children:"\u4e0d\u4fdd\u5b58"}),Object(c.jsxs)("div",{className:"remove-modal__footer-right",children:[Object(c.jsx)(Fe.a,{onMouseDown:this.onHideConfirmModal,children:"\u53d6\u6d88"}),Object(c.jsx)(Fe.a,{type:"primary",onClick:this.onConfirmSaveAndRemove,loading:d,children:"\u4fdd\u5b58"})]})]}),closable:!1,width:300,top:"-300px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",wrapClassName:"remove-modal",children:Object(c.jsxs)("div",{className:"remove-modal__content",children:[Object(c.jsxs)("div",{className:"remove-modal__title",children:[Object(c.jsx)(Ie.a,{className:"remove-modal__icon"}),Object(c.jsxs)("span",{children:["\u662f\u5426\u4fdd\u5b58\u5f53\u524d\u6539\u52a8\u5230 ",u,"? "]})]}),Object(c.jsx)("div",{className:"remove-modal__info",children:Object(c.jsx)("span",{children:"\u5f53\u524d\u5185\u5bb9\u6539\u52a8\u5c1a\u672a\u4fdd\u5b58\uff0c\u4e0d\u4fdd\u5b58\u5c06\u5bfc\u81f4\u4fee\u6539\u4e22\u5931"})})]})})]})}}]),n}(s.Component),ao=n(180),io=n(256),ro=n(178),co=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).swiperDom=void 0,o.resize=void 0,o.alertModal=void 0,o.setStatePromise=function(e){return new Promise((function(t){o.setState(e,(function(){t(!0)}))}))},o.onResize=function(){o.resize&&o.resize()},o.onSelect=function(e){o.onDeactivedTab(),o.updateTabsLiveMap(e,!1),o.setStatePromise({activeTabID:e}).then(o.updateSwiperActivePos).then(o.onActivedTab)},o.onRemove=function(e){o.onDeactivedTab();var t=o.props,n=t.onWinTabRemove,a=t.tabs,i=o.state.activeTabID,r=i;if(e===i){var c=a.findIndex((function(e){return e.id===i}));c>0?r=a[c-1].id:0===c&&a.length>1&&(r=a[c+1].id)}n(e),o.updateTabsLiveMap(e,!0),o.setStatePromise({activeTabID:r}).then((function(){return o.updateSwiperState()})).then(o.updateSwiperActivePos).then(o.onActivedTab)},o.onAdd=function(){on.a.trigger("onAdd")},o.onOpen=function(e){if(ft){o.onDeactivedTab();var t=o.props.tabs,n=t.findIndex((function(t){return t.type===zn.WinTabDoc&&t.node.tempID()===e.tempID()}));if(-1!==n){var a=t[n].id;o.updateTabsLiveMap(a,!1),o.setStatePromise({activeTabID:a}).then((function(){return o.updateSwiperState()})).then(o.updateSwiperActivePos).then(o.onActivedTab)}else{var i=(0,o.props.onWinTabAdd)(e);i&&(o.updateTabsLiveMap(i,!1),!e.isLoaded()&&e.load(),o.setStatePromise({activeTabID:i}).then((function(){return o.updateSwiperState()})).then(o.updateSwiperActivePos))}}else o.alertModal&&o.alertModal.showTransition()},o.swiperReady=function(e){o.swiperDom=e},o.changeSwiperScrollLeft=function(e){var t=o.swiperDom;t&&(t.scrollTo?t.scrollTo({top:0,left:e,behavior:"smooth"}):t.scrollLeft=e,o.updateSwiperState(e))},o.updateSwiperState=function(e){var t=o.swiperDom;if(t){void 0===e&&t.clientWidth>0&&(e=Math.floor(t.scrollLeft/t.clientWidth)*t.clientWidth,t.scrollLeft=e);var n=void 0===e?t.scrollLeft:e;return new Promise((function(e){o.setState({canSwipeLeft:n>0,canSwipeRight:n+t.clientWidth<t.scrollWidth},(function(){e(!0)}))}))}return Promise.resolve(!1)},o.updateSwiperActivePos=function(){var e=document.querySelector(".win-tab-header-wrap.active"),t=e&&e.parentElement;if(e&&t){var n=t.scrollLeft,a=e.offsetLeft-t.offsetLeft,i=e.clientWidth,r=t.clientWidth;a<n?n=a:a+i>n+r&&(n=a+i-r),o.changeSwiperScrollLeft(n)}o.props.onWinTabActive(o.state.activeTabID)},o.onActivedTab=function(){var e=o.state.activeTabID,t=o.props.tabs.find((function(t){return t.id===e}));t&&t.node&&t.node.actived()},o.onDeactivedTab=function(){var e=o.state.activeTabID,t=o.props.tabs.find((function(t){return t.id===e}));t&&t.node&&t.node.deactived()},o.onConfirmAlert=function(){o.alertModal&&o.alertModal.hideTransition()},o.state={activeTabID:-1,canSwipeLeft:!1,canSwipeRight:!1,tabAdding:!1,tabsLiveArr:[],tabsLiveMap:{}},o.swiperDom=null,o.resize=null,o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.tabs;t.length?this.setStatePromise({activeTabID:t[0].id}).then((function(){return e.updateSwiperState()})).then(this.updateSwiperActivePos):this.updateSwiperState().then(this.updateSwiperActivePos),this.resize=Object(je.b)(this.updateSwiperState,200),window.addEventListener("resize",this.onResize),this.props.defaultWin&&on.a.on("onOpen",(function(t){e.onOpen(t)})),ro.a.add({name:"CMD+T",handler:function(t){var n=e.state.activeTabID,o=e.props.tabs;if(o.length>1){var a=o.findIndex((function(e){return e.id===n})),i=o[(a+1)%o.length].id;e.onSelect(i),t.preventDefault(),t.stopPropagation()}},on:document})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),ro.a.remove(document,"CMD+T")}},{key:"updateTabsLiveMap",value:function(e,t){var n=this.state,o=n.tabsLiveArr,a=n.tabsLiveMap;if(t){if(a[e]){delete a[e];var i=o.findIndex((function(t){return t===e}));-1!==i&&o.splice(i,1),this.setState({tabsLiveMap:Object(x.a)({},a),tabsLiveArr:o})}}else{var r=o.findIndex((function(t){return t===e}));-1!==r&&o.splice(r,1),o.push(e);var c=!1;if(a[e]||(a[e]=!0,c=!0),o.length>10){var s=o[0];o.splice(0,1),delete a[s],c=!0}this.setState({tabsLiveMap:c?Object(x.a)({},a):a,tabsLiveArr:o})}}},{key:"swipeConent",value:function(e){var t=this.swiperDom;if(t){var n=t.clientWidth,o=t.scrollLeft,a=t.scrollWidth;o="left"===e?Math.max(o-n,0):Math.min(o+n,a-n),this.changeSwiperScrollLeft(o)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.tabs,o=t.sideBarOpened,a=t.onTriggerSideBar,i=this.state,r=i.activeTabID,s=i.canSwipeLeft,d=i.canSwipeRight,l=i.tabAdding,u=i.tabsLiveMap,p=[],h=[];return n.forEach((function(t){t.type===zn.WinTabHome?p.push(Object(c.jsx)(oo,{live:!0,tab:t,activeTabID:r,onSelect:e.onSelect,onRemove:e.onRemove,onOpen:e.onOpen,onAdd:e.onAdd},t.id)):h.push(Object(c.jsx)(oo,{live:u[t.id],tab:t,activeTabID:r,onSelect:e.onSelect,onRemove:e.onRemove,onOpen:e.onOpen,onAdd:e.onAdd},t.id))})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:["win-tab-bar",0===n.length?"win-tab-bar--empty":""].join(" "),children:[p,s&&Object(c.jsx)("div",{className:"win-tab-bar-swipe win-tab-bar-swipe__left",onMouseDown:function(){e.swipeConent("left")},children:Object(c.jsx)(ao.a,{})}),Object(c.jsx)("div",{className:["win-tab-bar__docs",d?" can-swipe-right":"",s?" can-swipe-left":""].join(""),ref:this.swiperReady,children:h}),d&&Object(c.jsx)("div",{className:"win-tab-bar-swipe win-tab-bar-swipe__right",onMouseDown:function(){e.swipeConent("right")},children:Object(c.jsx)(_t.a,{})}),Object(c.jsxs)("div",{className:"win-tab-bar__ops",children:[0!==n.length&&Object(c.jsx)("span",{className:"win-tab-bar__op",onMouseDown:this.onAdd,children:l?Object(c.jsx)(we.a,{}):Object(c.jsx)(Je.a,{})}),Object(c.jsx)("span",{id:"app-guide-more",className:["win-tab-bar__op",o?"active":""].join(" "),onMouseDown:a,children:Object(c.jsx)(io.a,{})})]})]}),!ft&&Object(c.jsx)(ze,{ref:function(t){e.alertModal=t},title:null,footer:Object(c.jsx)("div",{className:"alert-modal__footer",children:Object(c.jsx)("div",{className:"alert-modal__footer-right",children:Object(c.jsx)(Fe.a,{type:"primary",onMouseDown:this.onConfirmAlert,children:"\u77e5\u9053\u4e86"})})}),closable:!0,onCancel:this.onConfirmAlert,width:400,top:"-300px",maskStyle:{backgroundColor:"transparent"},destroyOnClose:!0,transitionName:"",maskTransitionName:"",wrapClassName:"alert-modal",children:Object(c.jsxs)("div",{className:"alert-modal__content",children:[Object(c.jsxs)("div",{className:"alert-modal__title",children:[Object(c.jsx)(Ie.a,{className:"alert-modal__icon"}),Object(c.jsx)("span",{children:"\u5f53\u524d\u6d4f\u89c8\u5668\u5c1a\u672a\u517c\u5bb9"})]}),Object(c.jsx)("div",{className:"alert-modal__info",children:Object(c.jsxs)("span",{children:["\u5df2\u517c\u5bb9Chrome\u3001Fixfox\u53caSafari\u6d4f\u89c8\u5668\uff0c\u63a8\u8350\u4f7f\u7528",Object(c.jsx)("a",{target:"_blank",href:"https://www.google.cn/chrome/",children:"Chrome\u6d4f\u89c8\u5668"}),"\uff0c\u6216\u8005Chromium\u5185\u6838\u6d4f\u89c8\u5668"]})})]})})]})}}]),n}(s.Component),so=0;var lo=0;function uo(){return++lo}var po={},ho={set:function(e,t){po[e]=t},get:function(e){return po[e]}},fo="ACTION_TYPE_WIN_TAB_ADD",bo="ACITON_TYPE_WIN_TAB_REMOVE",mo="ACTION_TYPE_WIN_TAB_ACTIVE",go="ACITON_TYPE_WIN_TAB_EXCHANGE",vo="ACTION_TYPE_WIN_TAB_SPLIT",yo="ACTION_TYPE_WIN_TAB_CONCAT";function jo(e,t){var n=t.findIndex((function(t){return t.id===e}));return-1!==n&&(t.splice(n,1),!0)}function xo(e,t,n){var o=n.findIndex((function(t){return t.id===e})),a=n.findIndex((function(e){return e.id===t}));if(-1!==o&&-1!=a){var i=n[o];n.splice(o,1),a>=n.length?n.push(i):a>o?n.splice(a-1,0,i):n.splice(a,0,i)}return n}var ko={tabs:[],activeTabID:0,floating:!0,id:0,tabsLiveMap:{},tabsLiveArr:[]};function Oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fo:var n=t.payload.tab;return void 0!==n?(e.tabs.push(n),Object(x.a)(Object(x.a)({},e),{},{tabs:Object(j.a)(e.tabs)})):e;case bo:return jo(t.payload.tabID,e.tabs)?Object(x.a)(Object(x.a)({},e),{},{tabs:Object(j.a)(e.tabs)}):e;case mo:return Object(x.a)(Object(x.a)({},e),{},{activeTabID:t.payload.tabID});case go:var o=xo(t.payload.tabID,t.payload.toTabID,e.tabs);return Object(x.a)(Object(x.a)({},e),{},{tabs:Object(j.a)(o)});case vo:var a=e.tabs.findIndex((function(e){return e.id===t.payload.tabID}));if(-1!==a){var i=e.tabs[a];e.tabs.splice(a,1);var r=ho.get("ACTION_CREATE_STORE");return r&&r([i],!0),Object(x.a)(Object(x.a)({},e),{},{tabs:Object(j.a)(e.tabs)})}return e;case yo:var c=t.payload.tabs,s=t.payload.index;if(c&&void 0!==s){var d=e.tabs;return s<d.length-1?d.splice.apply(d,[s,0].concat(Object(j.a)(c))):e.tabs=d.concat(c),Object(x.a)(Object(x.a)({},e),{},{tabs:Object(j.a)(e.tabs)})}return e;default:return e}}n(467),n(468);var _o=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"win-operations-tip",children:Object(c.jsx)("span",{children:"\u5fc3\u4e2d\u65e0\u5c18\uff0c\u7801\u5b57\u5165\u795e\u3002"})})}}]),n}(s.Component),No=(n(469),n(524)),wo=(n(470),n(258)),So=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onNodeChanged=function(e){e!==i.EDocsNodeChangeTypeTitle&&e!==i.EDocsNodeChangeTypeSaving&&e!==i.EDocsNodeChangeTypeLoading&&e!==i.EDocsNodeChangeTypeRemoving||o.forceUpdate()},o.state={path:[]},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.node;e.onChanged(this.onNodeChanged),this.setState({path:ge(e)})}},{key:"componentWillUnmount",value:function(){this.props.node.offChanged(this.onNodeChanged)}},{key:"render",value:function(){var e=this.props.node,t=this.props.match,n=t?t.map((function(e,t){if(0!==t&&e.length)return t%2===0?Object(c.jsx)("em",{className:"search-mark",children:e},t):Object(c.jsx)("span",{children:e},t)})):e.title()||"Untitled",a=this.props,i=a.onRemove,r=a.onSelect,s=a.checked,d=a.onCheckTrigger,l=this.props.wrapClassName||"",u=this.props.changed,p=e.isSaving()||e.isLoading()||e.isRemoving(),h=this.state.path.map((function(e){return Object(c.jsxs)("span",{children:[e.title(),e.nodeType()===o.EDocsNodeTypeFolder&&Object(c.jsx)(_t.a,{})]},e.tempID())}));return Object(c.jsxs)("div",{className:["win-opened-bar-item",l].join(" "),onClick:function(e){r(),e.stopPropagation()},children:[Object(c.jsxs)("div",{className:"win-opened-bar-item-info",children:[Object(c.jsx)("span",{className:"win-opened-bar-item-icon",children:p?Object(c.jsx)(we.a,{}):Object(c.jsx)(De.a,{})}),Object(c.jsx)("span",{children:n}),Object(c.jsxs)("span",{className:["win-opened-bar-item-op",u?" win-opened-bar-item-op__changed":"",p?" win-opened-bar-item-op__loading":""].join(""),children:[u&&Object(c.jsx)("span",{className:"win-opened-bar-item-op-changed"}),Object(c.jsx)("span",{className:"win-opened-bar-item-op-close",onClick:function(e){i(),e.stopPropagation()},children:Object(c.jsx)(Kn.a,{})})]})]}),Object(c.jsx)("div",{className:"win-opened-bar-item-path",children:h}),Object(c.jsx)("div",{className:["win-opened-bar-checkitem",s?"win-opened-bar-checkitem--checked":""].join(" "),children:Object(c.jsx)(m.a,{icon:Object(c.jsx)(wo.a,{}),onClick:d})})]})}}]),n}(s.Component),To=n(113),Co=Xe.a.Search,Eo=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onSearchTextChangeProxy=void 0,o.bakPosition={x:0,y:0},o.downX=0,o.downY=0,o.onCloseCheckedDocs=function(){var e=o.props,t=e.tabs,n=e.onRemove,a=o.state.checkedTabs;t.forEach((function(e){a[e.id]&&n(e.id)}))},o.onCancelCheckedTabs=function(){o.setState({checkedTabs:{}})},o.onCheckTrigger=function(e){var t=o.props.tabs,n=o.state.checkedTabs;n[e]=!n[e];var a={};t.forEach((function(e){n[e.id]&&(a[e.id]=n[e.id])})),o.setState({checkedTabs:Object(x.a)({},a)})},o.onCheckToggle=function(){var e=o.state.checkedTabs;if(Object.keys(e).length)o.setState({checkedTabs:{}});else{var t=o.props.tabs,n={};t.forEach((function(e){n[e.id]=!0})),o.setState({checkedTabs:Object(x.a)({},n)})}},o.onSyncCheckedPosts=function(){var e=window.syncManager;if(e){o.setState({loading:!0});var t=o.props.tabs,n=o.state.checkedTabs,a=t.filter((function(e){return!!n[e.id]})).map((function(e){return Object(To.e)(e.node.content(),e.node.title())})).filter(Boolean);a.length?e.sync(a):Ge.b.error("\u540c\u6b65\u89e3\u6790\u5185\u5bb9\u5931\u8d25"),o.setState({loading:!1})}else Ge.b.info(Object(c.jsxs)(c.Fragment,{children:["\u4ec5\u5728\u684c\u9762\u8f6f\u4ef6\u652f\u6301\u540c\u6b65\u529f\u80fd\uff0c\u7acb\u5373",Object(c.jsx)("a",{href:K.b,target:"_blank",children:"\u4e0b\u8f7d\u684c\u9762\u8f6f\u4ef6"})]}))},o.onSearch=function(e){o.setState({searchKey:e})},o.onSearchTextChange=function(e){var t=e.target.value;o.onSearchTextChangeProxy(t)},o.onDragStart=function(e,t,n){var a=e.target.closest(".item-wrap");if(a){var i=a.getBoundingClientRect();o.setState({dragIndex:t,dragToIndex:t,dragTab:n,dragPosition:{x:i.x,y:i.y,h:i.height,w:i.width}}),o.downX=e.pageX,o.downY=e.pageY,o.bakPosition.x=i.x,o.bakPosition.y=i.y,document.addEventListener("mousemove",o.drag),document.addEventListener("mouseleave",o.dragEnd),document.addEventListener("mouseup",o.dragEnd)}},o.drag=function(e){o.setState({dragging:!0});var t=e.pageX,n=e.pageY,a=t-o.downX,i=n-o.downY,r=Object(x.a)({},o.state.dragPosition);r.x=o.bakPosition.x+a,r.y=o.bakPosition.y+i,o.setState({dragPosition:r});var c=Math.round(i/r.h);o.setState({dragToIndex:Math.min(Math.max(0,o.state.dragIndex+c),o.props.tabs.length-1)})},o.dragEnd=function(e){if(o.state.dragIndex!==o.state.dragToIndex){var t=o.state.searchKey,n=o.props,a=n.tabs,i=n.onExchange,r=Object(K.n)(t),c=a.filter((function(e){return!t.length||e.node.title().match(r)||e.type===zn.WinTabHome})),s=c[o.state.dragIndex],d=c[o.state.dragToIndex];s&&d&&i(s.id,d.id)}o.setState({dragging:!1,dragIndex:-1,dragToIndex:-1}),document.removeEventListener("mousemove",o.drag),document.removeEventListener("mouseleave",o.dragEnd),document.removeEventListener("mouseup",o.dragEnd)},o.state={searchKey:"",dragIndex:-1,dragToIndex:-1,dragging:!1,dragTab:null,dragPosition:{x:0,y:0,h:0,w:0},checkedTabs:{},loading:!1},o.onSearchTextChangeProxy=Object(je.b)(o.onSearch,200),o}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.searchKey,o=t.dragIndex,a=t.dragToIndex,i=t.dragging,r=t.dragTab,s=t.dragPosition,d=t.checkedTabs,l=t.loading,u=Object(K.n)(n),p=this.props,h=p.tabs,f=p.activeTabID,b=p.onRemove,g=p.onSelect,v=[],y=[],j=h.filter((function(e){return!!d[e.id]})).length;return h.forEach((function(t,r){var l;t.type===zn.WinTabHome?v.push(Object(c.jsx)("div",{className:["win-opened-bar-item",f===t.id?"active":""].join(" "),onClick:function(e){g(t.id),e.stopPropagation()},children:Object(c.jsxs)("div",{className:"win-opened-bar-item-info",children:[Object(c.jsx)("span",{className:"win-opened-bar-item-icon",children:Object(c.jsx)(Vn.a,{})}),Object(c.jsx)("span",{children:"\u9996\u9875"})]})},t.id)):n.length&&!(l=t.node.title().match(u))||y.push(Object(c.jsx)("div",{style:{transform:a>=r&&o<r?"translate(0px, -".concat(s.h,"px)"):a<=r&&o>r?"translate(0px, ".concat(s.h,"px)"):""},className:["item-wrap",i?" item-wrap--dragging":"",i&&o===r?" item-wrap--dragging-target":""].join(""),onMouseDown:function(n){return e.onDragStart(n,r,t)},children:Object(c.jsx)(So,{checked:!!d[t.id],match:l,node:t.node,wrapClassName:f===t.id?"active":"",onRemove:function(){b(t.id)},onSelect:function(){g(t.id)},onCheckTrigger:function(){e.onCheckTrigger(t.id)}})},t.id))})),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:["win-opened-bar"].join(""),children:[Object(c.jsxs)("div",{className:"win-opened-bar-header",children:[h.length>0&&Object(c.jsx)(m.a,{onClick:this.onCheckToggle,wrapClassName:"win-opened-bar-checkall",icon:j>0?Object(c.jsx)(Kn.a,{}):Object(c.jsx)(wo.a,{})}),Object(c.jsx)(Co,{placeholder:"\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22\u5df2\u6253\u5f00\u6587\u6863",onSearch:this.onSearch,onChange:this.onSearchTextChange,enterButton:!0})]}),Object(c.jsxs)("div",{className:"win-opened-bar-body",children:[v,!y.length&&Object(c.jsx)(qe.a,{image:qe.a.PRESENTED_IMAGE_SIMPLE,description:Object(c.jsx)("span",{children:n.length?"\u641c\u7d22\u65e0\u7ed3\u679c":"\u6682\u672a\u6253\u5f00\u6587\u6863"})}),y,i&&!!r&&Object(c.jsx)("div",{style:{width:"".concat(s.w,"px"),left:"".concat(s.x,"px"),top:"".concat(s.y,"px")},className:["item-wrap--drag"].join(" "),children:Object(c.jsx)(So,{checked:!!d[r.id],match:r.node.title().match(u)||void 0,node:r.node,wrapClassName:f===r.id?"active":"",onRemove:function(){b(r.id)},onSelect:function(){g(r.id)},onCheckTrigger:function(){e.onCheckTrigger(r.id)}})},r.id+"_")]}),j>0&&Object(c.jsxs)("div",{className:"win-opened-bar-footer",children:[Object(c.jsxs)(Fe.a,{onClick:this.onSyncCheckedPosts,loading:l,type:"primary",className:"win-opened-bar-button",children:["\u540c\u6b65(",j,"\u7bc7)"]}),Object(c.jsx)(Fe.a,{onClick:this.onCancelCheckedTabs,className:"win-opened-bar-button",children:"\u53d6\u6d88\u9009\u4e2d"})]})]})})}}]),n}(s.Component),Do=(n(482),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{id:"win-sync-records-bar",className:["win-sync-records-bar"].join(""),children:Object(c.jsx)("div",{className:"win-sync-records-bar__tip",children:Object(c.jsxs)("span",{children:["\u8bf7",Object(c.jsx)("a",{target:"_blank",href:K.b,children:"\u4e0b\u8f7d\u684c\u9762\u7248\u8f6f\u4ef6"}),"\u67e5\u770b\u6587\u7ae0\u540c\u6b65\u8bb0\u5f55"]})})})})}}]),n}(s.Component));function Ao(e){var t=e.kbd,n=e.index;return Object(c.jsxs)(c.Fragment,{children:[0!==n&&Object(c.jsx)("span",{children:"+"}),Object(c.jsx)("kbd",{children:t})]})}var Po,Mo=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.name,o=e.keys.map((function(e,t){return Object(c.jsx)(Ao,{kbd:e,index:t},t)}));return Object(c.jsxs)("div",{className:"win-hotkey-item",children:[Object(c.jsxs)("div",{className:"win-hotkey-item__info",children:[Object(c.jsx)("span",{className:"win-hotkey-item__icon",children:t}),Object(c.jsx)("div",{className:"win-hotkey-item__name",children:n})]}),Object(c.jsx)("div",{className:"win-hotkey-item__keys",children:o})]})}}]),n}(s.Component),Io=(n(483),n(499)),Ro=n(109),Lo=n(523),Fo=(Io.a.Panel,Ro.a.getLang("label")),Bo=Ro.a.getLang("toolbar.inline"),zo=Ro.a.getLang("toolbar.insert"),Uo=(Ro.a.getLang("toolbar.toolbox"),Ro.a.getLang("toolbar.edit")),Go=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;Object(p.a)(this,n),o=t.call(this,e);var a=K.j?"Command":"Ctrl";return o.state={groups:[{title:Fo.format,items:[{icon:Object(c.jsx)("i",{className:"bei-bold"}),name:Object(c.jsx)("span",{style:{fontWeight:"bold"},children:Bo.bold}),keys:[a,"B"]},{icon:Object(c.jsx)("i",{className:"bei-italic"}),name:Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("span",{style:{fontStyle:"italic"},children:Bo.italic})}),keys:[a,"I"]},{icon:Object(c.jsx)("i",{className:"bei-underline"}),name:Object(c.jsx)("span",{style:{textDecoration:"underline"},children:Bo.underline}),keys:[a,"U"]},{icon:Object(c.jsx)("i",{className:"bei-strikethrough"}),name:Object(c.jsx)("span",{style:{textDecoration:"line-through"},children:Bo.strikethrough}),keys:[a,"S"]},{icon:Object(c.jsx)("i",{className:"bei-mark"}),name:Object(c.jsx)("mark",{children:Bo.mark}),keys:[a,"M"]},{icon:Object(c.jsx)("i",{className:"bei-inlinecode"}),name:Object(c.jsx)("code",{children:Bo.inlinecode}),keys:[a,"E"]},{icon:Object(c.jsx)("i",{className:"bei-superscript"}),name:Object(c.jsxs)("span",{children:[Bo.superscript,Object(c.jsx)("sup",{children:"2"})]}),keys:[a,"Shift","."]},{icon:Object(c.jsx)("i",{className:"bei-subscript"}),name:Object(c.jsxs)("span",{children:[Bo.subscript,Object(c.jsx)("sub",{children:"2"})]}),keys:[a,"Shift",","]}],expand:!1},{title:Fo.insert,items:[{icon:Object(c.jsx)("i",{className:"bei-plus"}),name:Object(c.jsx)(c.Fragment,{children:zo.block}),keys:["Tab"]},{icon:Object(c.jsx)("i",{className:"bei-math"}),name:Object(c.jsx)(c.Fragment,{children:zo.math}),keys:["Insert"]}],expand:!1},{title:Fo.edit,items:[{icon:Object(c.jsx)(Lo.a,{}),name:Object(c.jsx)(c.Fragment,{children:Uo.fullscreen}),keys:[a,"Shift","F"]},{icon:Object(c.jsx)("i",{className:"bei-undo"}),name:Object(c.jsx)(c.Fragment,{children:Uo.undo}),keys:[a,"Z"]},{icon:Object(c.jsx)("i",{className:"bei-redo"}),name:Object(c.jsx)(c.Fragment,{children:Uo.redo}),keys:[a,"Shift","Z"]},{icon:Object(c.jsx)("i",{className:"bei-search"}),name:Object(c.jsx)(c.Fragment,{children:Uo.search}),keys:[a,"F"]},{icon:Object(c.jsx)("i",{className:"bei-screen"}),name:Object(c.jsx)(c.Fragment,{children:Uo.layout}),keys:[a,"L"]}],expand:!1}]},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.groups.map((function(e,t){var n=e.items.map((function(e,n){return Object(c.jsx)(Mo,{icon:e.icon,name:e.name,keys:e.keys},t+n)}));return Object(c.jsxs)("div",{className:"win-hotkeys__group",children:[Object(c.jsx)("div",{className:"win-hotkeys__groupName",children:e.title}),Object(c.jsx)("div",{className:"win-hotkeys__groupContent",children:n})]},t)}));return Object(c.jsxs)("div",{className:"win-hotkeys-bar",children:[Object(c.jsx)("div",{className:"win-hotkeys-bar__title",children:Object(c.jsx)("span",{children:"\u5feb\u6377\u952e"})}),Object(c.jsx)("div",{className:"win-hotkeys-bar__body",children:e})]})}}]),n}(s.Component);Xe.a.Search;!function(e){e[e.ESideBarTabSelectOpenedDocs=0]="ESideBarTabSelectOpenedDocs",e[e.ESideBarTabSelectSyncRecords=1]="ESideBarTabSelectSyncRecords",e[e.ESideBarTabSelectHotkeys=2]="ESideBarTabSelectHotkeys"}(Po||(Po={}));var Ho=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onSearchTextChangeProxy=void 0,o.onTabSelect=function(e){o.setState({tabSelect:e},(function(){}))},o.state={tabSelect:Po.ESideBarTabSelectOpenedDocs},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tabs,o=t.activeTabID,a=t.sideBarOpened,i=t.sideBarWidth,r=t.sketchBar,s=t.onRemove,d=t.onSelect,l=t.onExchange,u=this.state.tabSelect;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:["win-side-bar"].join(""),style:{width:a?"".concat(i,"px"):"0px",borderWidth:a?"1px":"0px",opacity:a?"1":"0"},children:[Object(c.jsxs)("div",{className:"win-side-bar-header",children:[Object(c.jsx)(m.a,{icon:Object(c.jsx)(At.a,{}),wrapClassName:"side-bar-item",onClick:function(){e.onTabSelect(Po.ESideBarTabSelectOpenedDocs)},selected:u===Po.ESideBarTabSelectOpenedDocs}),Object(c.jsx)(m.a,{icon:Object(c.jsx)(No.a,{}),wrapClassName:"side-bar-item",onClick:function(){e.onTabSelect(Po.ESideBarTabSelectSyncRecords)},selected:u===Po.ESideBarTabSelectSyncRecords}),Object(c.jsx)(m.a,{icon:Object(c.jsx)("i",{className:"bei-hotkeys",style:{fontSize:"18px"}}),wrapClassName:"side-bar-item",onClick:function(){e.onTabSelect(Po.ESideBarTabSelectHotkeys)},selected:u===Po.ESideBarTabSelectHotkeys})]}),Object(c.jsxs)("div",{className:"win-side-bar-tabs",children:[Object(c.jsx)("div",{className:"win-side-bar-tab__docs",style:{display:u!==Po.ESideBarTabSelectOpenedDocs?"none":"block"},children:Object(c.jsx)(Eo,{tabs:n,activeTabID:o,onRemove:s,onSelect:d,onExchange:l})}),Object(c.jsx)("div",{className:"win-side-bar-tab__records",style:{display:u!==Po.ESideBarTabSelectSyncRecords?"none":"block"},children:Object(c.jsx)(Do,{})}),Object(c.jsx)("div",{className:"win-side-bar-tab__hotkeys",style:{display:u!==Po.ESideBarTabSelectHotkeys?"none":"block"},children:Object(c.jsx)(Go,{})})]}),a&&r]})})}}]),n}(s.Component),Wo=(n(484),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).stretchStartX=void 0,o.onSketchStart=function(e){o.stretchStartX=e.pageX,o.setState({sketching:!0});var t=o.props.onStart;Object(K.c)(document,"mousemove",o.onSketchMove),Object(K.c)(document,"mouseup",o.onSketchEnd),t()},o.onSketchMove=function(e){var t=e.pageX,n=o.props.placementLeft?o.stretchStartX-t:t-o.stretchStartX,a=o.props,i=a.width;(0,a.onChange)(i+n)},o.onSketchEnd=function(e){var t=o.props.onEnd;o.setState({sketching:!1}),Object(K.s)(document,"mousemove",o.onSketchMove),Object(K.s)(document,"mouseup",o.onSketchEnd),t&&t()},o.state={sketching:!1},o}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.sketching,t=this.props.placementLeft?{width:e?"60px":"10px",left:e?"-30px":"-5px"}:{width:e?"60px":"10px",right:e?"-30px":"-5px"};return Object(c.jsx)("div",{className:"sketch-bar",style:t,onMouseDown:this.onSketchStart})}}]),n}(s.Component)),qo=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).tabBar=void 0,o.onSelect=function(e){o.tabBar&&o.tabBar.onSelect(e)},o.onWinTabActive=function(e){var t=o.props,n=t.onWinTabActive,a=t.onActiveTab,i=t.tabs;n(e),a(i.find((function(t){return t.id===e})))},o.onRemove=function(e){o.tabBar&&o.tabBar.onRemove(e)},o.onTriggerSideBar=function(){o.setState({sideBarOpened:!o.state.sideBarOpened}),on.a.trigger("onTriggerSideBar",!o.state.sideBarOpened)},o.onSketchStart=function(){o.setState({lastSideBarWidth:o.state.sideBarWidth})},o.onSketchChange=function(e){var t=Math.min(Math.max(e,200),500);o.setState({sideBarWidth:t})},o.state={sideBarOpened:!1,sideBarWidth:300,lastSideBarWidth:300},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;on.a.on("onTriggerFullscreen",(function(t){t&&e.setState({sideBarOpened:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.tabs,o=t.onWinTabAdd,a=t.onWinTabRemove,i=t.onWinTabExchange,r=t.activeTabID,s=this.state,d=s.sideBarOpened,l=s.sideBarWidth,u=s.lastSideBarWidth,p=this.props.defaultWin,h=Object(c.jsx)(Wo,{placementLeft:!0,width:u,onStart:this.onSketchStart,onChange:this.onSketchChange});return Object(c.jsxs)("div",{className:"win",children:[Object(c.jsxs)("div",{className:"win-inner",style:{width:d?"calc(100% - ".concat(l,"px)"):"100%"},children:[Object(c.jsx)(co,{ref:function(t){e.tabBar=t},defaultWin:p,tabs:n,sideBarOpened:d,onWinTabAdd:o,onWinTabRemove:a,onWinTabActive:this.onWinTabActive,onTriggerSideBar:this.onTriggerSideBar}),p&&0===n.length&&Object(c.jsx)(_o,{})]}),Object(c.jsx)(Ho,{sketchBar:h,sideBarWidth:l,tabs:n,activeTabID:r,sideBarOpened:d,onSelect:this.onSelect,onRemove:this.onRemove,onExchange:i})]})}}]),n}(s.Component),Vo=Object(qn.b)((function(e){return{tabs:e.tabs,activeTabID:e.activeTabID}}),(function(e){return{onWinTabAdd:function(t){var n=function(e,t){var n={id:++so,type:e,floatable:e===zn.WinTabDoc,removable:e===zn.WinTabDoc,node:t};return{type:fo,payload:{tab:n}}}(zn.WinTabDoc,t);return e(n),n.payload.tab&&n.payload.tab.id},onWinTabRemove:function(t){e(function(e){return{type:bo,payload:{tabID:e}}}(t))},onWinTabActive:function(t){e(function(e){return{type:mo,payload:{tabID:e}}}(t))},onWinTabExchange:function(t,n){e(function(e,t){return{type:go,payload:{tabID:e,toTabID:t}}}(t,n))}}}))(qo),Yo="ACTION_TYPE_WIN_ADD",Ko="ACTION_TYPE_WIN_REMOVE",Jo="ACTION_TYPE_WIN_CONCAT",Zo=function(e,t){var n=function(e){e=e||{tabs:[],floating:!0,id:uo(),activeTabID:0};var t=Object(x.a)({},e);return Object(S.d)(Oo,t,Object(S.a)(T.a))}({tabs:e,activeTabID:0,floating:t,id:uo()});return{type:Yo,payload:{add:n}}},Xo={stores:[]};var Qo=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(p.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._tabBar=void 0,e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onWinAdd;e.stores.length||t([],!1)}},{key:"render",value:function(){var e=this.props,t=e.stores,n=e.onActiveTab,o=t.map((function(e,t){return Object(c.jsx)(qn.a,{store:e,children:Object(c.jsx)(Vo,{onActiveTab:n,defaultWin:0===t})},e.getState().id)}));return Object(c.jsx)("div",{className:"win-bar",children:o})}}]),n}(d.a.Component),$o=Object(qn.b)((function(e){return{stores:e.win.stores}}),(function(e){return{onWinAdd:function(t,n){e(Zo(t,n))}}}))(Qo),ea=function(e){var t=d.a.lazy(e);return t.preload=e,t}((function(){return Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,1111))}));window.enterFullscreen=function(){document.documentElement.classList.toggle("fullscreen",!0)},window.leaveFullscreen=function(){document.documentElement.classList.toggle("fullscreen",!1)};var ta=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).onSearch=function(e){},o.onActiveNode=function(e){o.setState({activeNode:e})},o.onActiveTab=function(e){o.setState({activeTabNode:null===e||void 0===e?void 0:e.node})},o.onSketchStart=function(){o.setState({lastTabWidth:o.state.tabWidth})},o.onSketchChange=function(e){var t=Math.min(Math.max(e,200),500);o.setState({tabWidth:t})},o.onPreload=function(){ea.preload()},o.state={activeNode:void 0,activeTabNode:void 0,tabWidth:250,lastTabWidth:250,fullscreen:!1},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.activeNode,n=e.activeTabNode,a=e.lastTabWidth,i=e.tabWidth,r=(e.fullscreen,t&&(t.nodeType(),o.EDocsNodeTypeFile),Object(c.jsx)(Wo,{width:a,onStart:this.onSketchStart,onChange:this.onSketchChange}));return Object(c.jsxs)("div",{className:["app",K.i?" app--electron":"",K.j?" app--mac":""].join(""),onMouseMove:this.onPreload,children:[K.i&&Object(c.jsx)(Gn,{activeNode:n}),Object(c.jsxs)("div",{className:"app-main",children:[Object(c.jsx)(Un,{tabWidth:i,sketchBar:r,onActiveNode:this.onActiveNode}),Object(c.jsx)("div",{className:"app-wins",style:{width:"calc(100% - ".concat(i+35,"px)")},children:Object(c.jsx)($o,{onActiveTab:this.onActiveTab})})]}),!K.i&&Object(c.jsx)(Wn,{})]})}}]),n}(s.Component),na=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,1110)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),o(e),a(e),i(e),r(e)}))},oa=Object(S.c)({win:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yo:return e.stores.push(t.payload.add),{stores:Object(j.a)(e.stores)};case Ko:var n=e.stores.findIndex((function(e){return e===t.payload.del}));return-1!==n&&e.stores.splice(n,1),Object(x.a)({},e);case Jo:t.payload.dest;return e;default:return e}}}),aa=Object(S.d)(oa,Object(S.a)(T.a));ho.set("ACTION_CREATE_STORE",(function(e,t){aa.dispatch(Zo(e,t))}));var ia=aa;n(485);u.a.render(Object(c.jsx)(qn.a,{store:ia,children:Object(c.jsx)(ta,{})}),document.getElementById("root")),na()},54:function(e,t,n){"use strict";var o=new(n(75).a);t.a=o},62:function(e,t,n){"use strict";function o(e,t){var n=0,o=null;return function(){for(var a=this,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];var s=+new Date;clearTimeout(o),s-n<t?o=setTimeout((function(){n=s,e.apply(a,r)}),t):(n=s,e.apply(this,r))}}function a(e,t){var n=null;return function(){var o=this,a=arguments;n&&clearTimeout(n),n=setTimeout((function(){e.apply(o,a)}),t)}}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}))},71:function(e,t,n){"use strict";var o=n(23),a=n(22);function i(e){if(!e||!e.length)return{};e=Array.isArray(e)?e:e.split(",");for(var t,n={},o=0;t=e[o++];)n[t.toUpperCase()]=n[t]=1;return n}function r(e,t){if(/color/i.test(e)&&/rgba?/.test(t)){var n=t.split(",");if(n.length>3)return"";t="#";for(var o,a=0;o=n[a++];)t+=1===(o=parseInt(o.replace(/[^\d]/gi,""),10).toString(16)).length?"0"+o:o;t=t.toUpperCase()}return t}function c(e,t,n,o,a,i){var r=o&&e[t],s=null;for(!r&&(r=e[n]);!r&&(s=(s||e).parentNode);){if("BODY"===s.tagName||i&&!i(s))return null;r=s[n]}return r&&a&&!a(r)?c(r,t,n,!1,a):r}var s=o.a.ie&&o.a.version<9?{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},d=i(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),l=o.a.ie&&6===o.a.version?"\ufeff":"\u200b",u={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:l,fillCharReg:new RegExp(l,"g"),bookmarkFillChar:"\u200d",bookmarkFillCharEncdoe:"&zwj;",bookmarkFillCharReg:new RegExp("\u200d","g"),keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(e,t){if(e===t)return 0;var n,o=[e],a=[t];for(n=e;n=n.parentNode;){if(n===t)return 10;o.push(n)}for(n=t;n=n.parentNode;){if(n===e)return 20;a.push(n)}if(o.reverse(),a.reverse(),o[0]!==a[0])return 1;for(var i=-1;o[++i]===a[i];);for(e=o[i],t=a[i];e.nextSibling&&(e=e.nextSibling);)if(e===t)return 4;return 2},getNodeIndex:function(e,t){for(var n=e,o=0;n.previousSibling&&(n=n.previousSibling);)t&&3===n.nodeType?n.nextSibling&&n.nodeType!==n.nextSibling.nodeType&&o++:o++;return o},inDoc:function(e,t){return 10===u.getPosition(e,t)},findParent:function(e,t,n){if(e&&!u.isRoot(e))for(e=n?e:e.parentNode;e;){if(!t||t(e)||u.isRoot(e))return t&&!t(e)&&u.isRoot(e)?null:e;e=e.parentNode}return null},findParentByTagName:function(e,t,n,o){var a=i(t);return u.findParent(e,(function(e){return a[e.tagName]&&!(o&&o(e))}),n)},findParents:function(e,t,n,o){for(var a=t&&e&&(n&&n(e)||!n)?[e]:[];e=u.findParent(e,n);)a.push(e);return o?a:a.reverse()},insertAfter:function(e,t){if(e.parentNode)return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)},remove:function(e,t){var n,o=e.parentNode;if(o){if(t&&e.hasChildNodes())for(;n=e.firstChild;)o.insertBefore(n,e);o.removeChild(e)}return e},removeBlockChildren:function(e){for(var t=0;t<e.children.length;t++){var n=e.children[t];u.isBlockElm(n)&&u.remove(n,!0)}return e},getNextDomNode:function(e,t,n,o){return c(e,"firstChild","nextSibling",t,n,o)},getPreDomNode:function(e,t,n,o){return c(e,"lastChild","previousSibling",t,n,o)},isBookmarkNode:function(e){return 1===e.nodeType&&e.id&&/^_ge_bookmark_/i.test(e.id)},createBookmarkNode:function(e,t){t=t||"";var n=(e=e||document).createElement("span");return n.style.cssText="display:none;line-height:0px;",n.appendChild(e.createTextNode("\u200d")),n.id="_ge_bookmark_start_"+t,n},getBookmarkReg:function(){return new RegExp("<span[^>]*_ge_bookmark_[^>]*>[^<]*<\\/span>","g")},getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getCommonAncestor:function(e,t){if(e===t)return e;for(var n=[e],o=[t],a=e,i=-1;a.parentNode&&(a=a.parentNode);){if(a===t)return a;n.push(a)}for(a=t;a.parentNode&&(a=a.parentNode);){if(a===e)return a;o.push(a)}for(n.reverse(),o.reverse();n[++i]===o[i];);return 0===i?null:n[i-1]},clearEmptySibling:function(e,t,n){function o(e,t){for(var n;e&&!u.isBookmarkNode(e)&&(u.isEmptyInlineElement(e)||null!==e.nodeValue&&!new RegExp("[^\t\n\r"+u.fillChar+"]").test(e.nodeValue));)n="nextSibling"===t?e.nextSibling:e.previousSibling,u.remove(e),e=n}!t&&o(e.nextSibling,"nextSibling"),!n&&o(e.previousSibling,"previousSibling")},split:function(e,t){var n=e.ownerDocument;if(o.a.ie&&e.nodeValue&&t===e.nodeValue.length){var a=n.createTextNode("");return u.insertAfter(e,a)}var i=e.splitText(t);if(o.a.ie8){var r=n.createTextNode("");u.insertAfter(i,r),u.remove(r)}return i},isWhitespace:function(e){return!new RegExp("[^ \t\n\r"+u.fillChar+"]").test(e.nodeValue||"")},getXY:function(e){for(var t=0,n=0;e.offsetParent;)n+=e.offsetTop,t+=e.offsetLeft,e=e.offsetParent;return{x:t,y:n}},on:function(e,t,n){var o=Array.isArray(t)?t:t.trim().split(/\s+/),a=o.length;if(a)for(;a--;)t=o[a],e.addEventListener&&e.addEventListener(t,n,!1)},un:function(e,t,n){var o=Array.isArray(t)?t:t.trim().split(/\s+/),a=o.length;if(a)for(;a--;)t=o[a],e.removeEventListener&&e.removeEventListener(t,n,!1)},isSameElement:function(e,t){if(e.tagName!==t.tagName)return!1;var n=e.attributes,a=t.attributes;if(!o.a.ie&&n.length!==a.length)return!1;for(var i,r,c=0,s=0,d=0;i=n[d++];){if("style"===i.nodeName){if(i.specified&&c++,u.isSameStyle(e,t))continue;return!1}if(o.a.ie){if(!i.specified)continue;c++,r=a.getNamedItem(i.nodeName)}else r=t.attributes[i.nodeName];if(!r||!r.specified||i.nodeValue!==r.nodeValue)return!1}if(o.a.ie){for(var l=0;r=a[l++];)r.specified&&s++;if(c!==s)return!1}return!0},isSameStyle:function(e,t){var n=e.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),a=t.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(o.a.opera){if(n=e.style,a=t.style,n.length!==a.length)return!1;for(var i in n)if(!/^(\d+|csstext)$/i.test(i)&&n[i]!==a[i])return!1;return!0}if(!n||!a)return n===a;if(n=n.split(";"),a=a.split(";"),n.length!==a.length)return!1;for(var r,c=function(e,t){if(-1===a.findIndex((function(e){return e===t})))return{v:!1}},s=0;r=n[s++];){var d=c(0,r);if("object"===typeof d)return d.v}return!0},isBlockElm:function(e){return 1===e.nodeType&&(a.a.$block[e.tagName]||d[u.getComputedStyle(e,"display")])&&!a.a.$nonChild[e.tagName]},isRoot:function(e){var t=e?e.parentNode:null;return t&&1===e.nodeType&&(9===t.nodeType||11===t.nodeType)},breakParent:function(e,t){var n,o,a,i=e,r=e;do{for(i=i.parentNode,o?(i&&(n=i.cloneNode(!1)),n&&n.appendChild(o),o=n,i&&(n=i.cloneNode(!1)),a&&n&&n.appendChild(a),a=n):i&&(a=(o=i.cloneNode(!1)).cloneNode(!1));r.previousSibling&&(n=r.previousSibling)&&o;)o.insertBefore(n,o.firstChild);for(;r.nextSibling&&(n=r.nextSibling)&&a;)a.appendChild(n);r=i}while(t!==i);return(n=t.parentNode)&&(n.insertBefore(o,t),n.insertBefore(a,t),n.insertBefore(e,a)),u.remove(t),e},isEmptyInlineElement:function(e){if(!e||1!==e.nodeType||!a.a.$removeEmpty[e.tagName])return!1;for(e=e.firstChild;e;){if(u.isBookmarkNode(e))return!1;if(1===e.nodeType&&!u.isEmptyInlineElement(e)||3===e.nodeType&&!u.isWhitespace(e))return!1;e=e.nextSibling}return!0},trimWhiteTextNode:function(e){function t(t){for(var n;(n=e[t])&&3===n.nodeType&&u.isWhitespace(n);)e.removeChild(n)}t("firstChild"),t("lastChild")},removeEmptyNode:function(e){if(e){for(var t=0;t<e.childNodes.length;t++)this.removeEmptyNode(e.childNodes[t]);this.trimWhiteTextNode(e),1!==e.nodeType||e.childNodes.length||!this.isBr(e)&&a.a.$empty[e.tagName]||this.remove(e)}},mergeChild:function(e,t){for(var n,o=u.getElementsByTagName(e,e.tagName.toLowerCase()),a=0;n=o[a++];)if(n.parentNode&&!u.isBookmarkNode(n))if("span"!==n.tagName.toLowerCase())u.isSameElement(e,n)&&u.remove(n,!0);else{if(e===n.parentNode&&(u.trimWhiteTextNode(e),1===e.childNodes.length)){e.style.cssText=n.style.cssText+";"+e.style.cssText,u.remove(n,!0);continue}if(n.style.cssText=e.style.cssText+";"+n.style.cssText,t){var i=t.style;if(i){i=i.split(";");for(var r,c=0;r=i[c++];)n.style[u.cssStyleToDomStyle(r.split(":")[0])]=r.split(":")[1]}}u.isSameStyle(n,e)&&u.remove(n,!0)}},getElementsByTagName:function(e,t,n){var o;if(n&&"string"===typeof n){var a=n;o=function(e){return u.hasClass(e,a)}}for(var i,r=t.trim().replace(/[ ]{2,}/g," ").split(" "),c=[],s=0;i=r[s++];)for(var d,l=e.getElementsByTagName(i),p=0;d=l[p++];)o&&!o(d)||c.push(d);return c},mergeToParent:function(e){for(var t=e.parentNode;t&&a.a.$removeEmpty[t.tagName];){if(t.tagName===e.tagName||"A"===t.tagName){if(u.trimWhiteTextNode(t),"SPAN"===t.tagName&&!u.isSameStyle(t,e)||"A"===t.tagName&&"SPAN"===e.tagName){if(t.childNodes.length>1||t!==e.parentNode){e.style.cssText=t.style.cssText+";"+e.style.cssText,t=t.parentNode;continue}t.style.cssText+=";"+e.style.cssText,"A"===t.tagName&&(t.style.textDecoration="underline")}if("A"!==t.tagName){t===e.parentNode&&u.remove(e,!0);break}}t=t.parentNode}},mergeSibling:function(e,t,n){function o(e,t,n){var o;if((o=n[e])&&!u.isBookmarkNode(o)&&1===o.nodeType&&u.isSameElement(n,o)){for(;o.firstChild;)"firstChild"===t?n.insertBefore(o.lastChild,n.firstChild):n.appendChild(o.firstChild);u.remove(o)}}!t&&o("previousSibling","firstChild",e),!n&&o("nextSibling","lastChild",e)},unSelectable:o.a.ie&&o.a.ie9below||o.a.opera?function(e){e.onselectstart=function(){return!1},e.onclick=e.onkeyup=e.onkeydown=function(){return!1},e.unselectable="on",e.setAttribute("unselectable","on");for(var t,n=0;t=e.all[n++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on",e.setAttribute("unselectable","on")}}:function(e){e.style.MozUserSelect=e.style.webkitUserSelect=e.style.msUserSelect=e.style.KhtmlUserSelect="none"},removeAttributes:function(e,t){t=Array.isArray(t)?t:t.trim().replace(/[ ]{2,}/g," ").split(" ");for(var n,a=0;n=t[a++];){var i=void 0;switch(n=s[n]||n){case"className":e.className="";break;case"style":e.style.cssText="",i=e.getAttributeNode("style"),!o.a.ie&&i&&e.removeAttributeNode(i)}e.removeAttribute(n)}},createElement:function(e,t,n){return u.setAttributes(e.createElement(t),n)},setAttributes:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];switch(n){case"class":e.className=o;break;case"style":e.style.cssText=e.style.cssText+";"+o;break;case"innerHTML":e[n]=o;break;case"value":e.value=o;break;default:e.setAttribute(s[n]||n,o)}}return e},getComputedStyle:function(e,t){var n;if("width height top left".indexOf(t)>-1)return e["offset"+t.replace(/^\w/,(function(e){return e.toUpperCase()}))]+"px";if(3===e.nodeType&&(e=e.parentNode),o.a.ie&&o.a.version<9&&"font-size"===t&&!e.style.fontSize&&!a.a.$empty[e.tagName]&&!a.a.$nonChild[e.tagName]){var i=e.ownerDocument.createElement("span");i.style.cssText="padding:0;border:0;font-family:simsun;",i.innerHTML=".",e.appendChild(i);var c=i.offsetHeight;return e.removeChild(i),i=null,c+"px"}try{n=o.a.webkit&&"text-decoration"===t?u.getWindow(e).getComputedStyle(e).webkitTextDecorationsInEffect:u.getStyle(e,t)||(window.getComputedStyle?u.getWindow(e).getComputedStyle(e,"").getPropertyValue(t):(e.currentStyle||e.style)[u.cssStyleToDomStyle(t)])}catch(s){return""}return function(e){if(!/(pt|cm)/.test(e))return e;var t,n;if(e.replace(/([\d.]+)(\w+)/,(function(e,o,a){return n=o,t=a,e})),n&&t)switch(t){case"cm":n=25*parseFloat(n);break;case"pt":n=Math.round(96*parseFloat(n)/72)}return n+(n?"px":"")}(r(t,n))},removeClasses:function(e,t){var n,o,a;for(t=Array.isArray(t)?t:t.trim().replace(/[ ]{2,}/g," ").split(" "),o=0,n=e.className;a=t[o++];)n=n.replace(new RegExp("\\b"+a+"\\b"),"");(n=n.trim().replace(/[ ]{2,}/g," "))?e.className=n:u.removeAttributes(e,["class"])},addClass:function(e,t){if(e){var n,o,a,i=t.trim().replace(/[ ]{2,}/g," ").split(" ");for(o=0,n=e.className;a=i[o++];)new RegExp("\\b"+a+"\\b").test(n)||(n+=" "+a);n&&(e.className=n.trim())}},hasClass:function(e,t){if("string"!==typeof t)return t.test(e.className);var n,o,a,i=t.trim().replace(/[ ]{2,}/g," ").split(" ");for(n=0,a=e.className;o=i[n++];)if(!new RegExp("\\b"+o+"\\b","i").test(a))return!1;return n-1===i.length},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t={float:void 0!==e.cssFloat?"cssFloat":void 0!==e.styleFloat?"styleFloat":"float"};return function(e){return t[e]||(t[e]=e.toLowerCase().replace(/-./g,(function(e){return e.charAt(1).toUpperCase()})))}}(),removeStyle:function(e,t){e.style&&(o.a.ie?("color"===t&&(t="(^|;)"+t),e.style.cssText=e.style.cssText.replace(new RegExp(t+"[^:]*:[^;]+;?","ig"),"")):e.style.removeProperty&&e.style.removeProperty(t),e.style.cssText||u.removeAttributes(e,["style"]))},getStyle:function(e,t){if(e.style)return r(t,e.style[u.cssStyleToDomStyle(t)])},getCSSText:function(e){var t,n=e.style.cssText;if(n){t={};for(var o,a=n.split(";"),i=0;o=a[i];i++){var r=(o=o.trim()).match(/(?:(.+)?\:)\s(.+)/);r&&(t[r[1]]=r[2])}}return t},setStyle:function(e,t,n){e.style&&(e.style[u.cssStyleToDomStyle(t)]=n,e.style.cssText.trim()||this.removeAttributes(e,"style"))},setStyles:function(e,t){for(var n in t)t.hasOwnProperty(n)&&u.setStyle(e,n,t[n])},removeDirtyAttr:function(e){for(var t,n=0,o=e.getElementsByTagName("*");t=o[n++];)t.removeAttribute("_moz_dirty");e.removeAttribute("_moz_dirty")},getChildCount:function(e,t){var n=0,o=e.firstChild;for(t=t||function(){return!0};o;)t(o)&&n++,o=o.nextSibling;return n},isEmptyNode:function(e){return!e.firstChild||0===u.getChildCount(e,(function(e){return!u.isBr(e)&&!u.isBookmarkNode(e)&&!u.isWhitespace(e)}))},clearSelectedArr:function(e){for(var t;t=e.pop();)u.removeAttributes(t,["class"])},scrollToView:function(e,t,n){var o=function(){var e=t.document,n="CSS1Compat"===e.compatMode;return{width:(n?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(n?e.documentElement.clientHeight:e.body.clientHeight)||0}}().height,a=-1*o+n;a+=e.offsetHeight||0,a+=u.getXY(e).y;var i=function(e){if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}}(t).y;(a>i||a<i-o)&&t.scrollTo({left:0,top:a+(a<0?-20:20),behavior:"smooth"})},isBr:function(e){return e&&1===e.nodeType&&"BR"===e.tagName},isFillChar:function(e,t){if(3!==e.nodeType)return!1;var n=e.nodeValue;return t&&n?new RegExp("^"+u.fillChar).test(n):n&&!n.replace(new RegExp(u.fillChar,"g"),"").length},isStartInblock:function(e){var t,n=e.cloneRange(),o=0,a=n.startContainer;if(a&&1===a.nodeType&&a.childNodes[n.startOffset])for(var i=(a=a.childNodes[n.startOffset]).previousSibling;i&&u.isFillChar(i);)a=i,i=i.previousSibling;for(this.isFillChar(a,!0)&&1===n.startOffset&&(n.setStartBefore(a),a=n.startContainer);a&&u.isFillChar(a);)t=a,a=a.previousSibling;for(t&&(n.setStartBefore(t),a=n.startContainer),1===a.nodeType&&u.isEmptyNode(a)&&1===n.startOffset&&n.setStart(a,0).collapse(!0);!n.startOffset;){if(a=n.startContainer,u.isBlockElm(a)||u.isRoot(a)){o=1;break}var r=n.startContainer&&n.startContainer.previousSibling,c=void 0;if(r){for(;r&&u.isFillChar(r);)c=r,r=r.previousSibling;c?n.setStartBefore(c):n.startContainer&&n.setStartBefore(n.startContainer)}else n.startContainer&&n.setStartBefore(n.startContainer)}return!(!o||!n.startContainer||u.isRoot(n.startContainer))},isEmptyBlock:function(e,t){if(1!==e.nodeType)return!1;if(t=t||new RegExp("[ \xa0\t\r\n"+u.fillChar+"]","g"),e[o.a.ie?"innerText":"textContent"].replace(t,"").length>0)return!1;for(var n in a.a.$isNotEmpty)if(e.getElementsByTagName(n).length)return!1;return!0},setViewportOffset:function(e,t){var n=0|parseInt(e.style.left),o=0|parseInt(e.style.top),a=e.getBoundingClientRect(),i=t.left-a.left,r=t.top-a.top;i&&(e.style.left=n+i+"px"),r&&(e.style.top=o+r+"px")},fillNode:function(e,t){var n=o.a.ie?e.createTextNode(u.fillChar):e.createElement("br");t.innerHTML="",t.appendChild(n)},moveChild:function(e,t,n){for(;e.firstChild;)n&&t.firstChild?e.lastChild&&t.insertBefore(e.lastChild,t.firstChild):t.appendChild(e.firstChild)},hasNoAttributes:function(e){return o.a.ie?/^<\w+\s*?>/.test(e.outerHTML):0===e.attributes.length},isCustomNode:function(e){return 1===e.nodeType&&e.getAttribute("_ge_custom_node_")},isTagNode:function(e,t){return 1===e.nodeType&&new RegExp("\\b"+e.tagName+"\\b","i").test(t)},filterNodeList:function(e,t,n){var o,a=[];if("function"!==typeof t){var i=t,r=Array.isArray(i)?i:i.split(" ");o=function(e){return!(!e||!e.tagName)&&-1!==r.findIndex((function(t){return e.tagName.toLowerCase()===t}))}}else o=t;return e.forEach((function(e){o(e)&&a.push(e)})),0===a.length?null:1!==a.length&&n?a:a[0]},isInNodeEndBoundary:function(e,t){var n=e.startContainer;if(n&&3===n.nodeType&&n.nodeValue&&e.startOffset!==n.nodeValue.length)return!1;if(n&&1===n.nodeType&&e.startOffset!==n.childNodes.length)return!1;for(;n&&n!==t;){if(n.nextSibling)return!1;n=n.parentNode}return!0},isBoundaryNode:function(e,t){for(;!u.isRoot(e);)if(e!==(e=e.parentNode)[t])return!1;return!0},isNativeInput:function(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)},canSetCursor:function(e){var t=!0;if(u.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=u.isContentEditable(e);return t},isContentEditable:function(e){return"true"===e.contentEditable},fillHtml:o.a.ie11below?"&nbsp;":"<br/>"};t.a=u},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(129),a=n(7),i=n(6),r=function(){function e(){Object(a.a)(this,e),this._listeners=void 0,this._listeners={}}return Object(i.a)(e,[{key:"getListener",value:function(e){return this._listeners[e]||(this._listeners[e]=[])}},{key:"on",value:function(e,t){"string"===typeof e&&(e=e.trim().split(/\s+/));var n,a=Object(o.a)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.getListener(i).push(t)}}catch(r){a.e(r)}finally{a.f()}}},{key:"off",value:function(e,t){"string"===typeof e&&(e=e.trim().split(/\s+/));var n,a=Object(o.a)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value,r=this.getListener(i),c=r.findIndex((function(e){return e===t}));-1!==c&&r.splice(c,1)}}catch(s){a.e(s)}finally{a.f()}}},{key:"trigger",value:function(e){var t=this;"string"===typeof e&&(e=e.trim().split(/\s+/));for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var r,c=Object(o.a)(e);try{var s=function(){var e=r.value,n=t.getListener(e),o=[].concat(a);n.forEach((function(e){e.apply(t,o)}))};for(c.s();!(r=c.n()).done;)s()}catch(d){c.e(d)}finally{c.f()}}}]),e}()}},[[489,7,3,8]]]);